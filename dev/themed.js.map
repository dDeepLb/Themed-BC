{
  "version": 3,
  "sources": ["../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/node_modules/.pnpm/bondage-club-mod-sdk@1.2.0/node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/base/base_module.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/base/base_subscreen.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/styles/index.scss", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/base/initialization.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/base/modules.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/migrators/base_migrator.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/modules/gui.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/modules/version.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/screens/debug.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/common.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/elements/elements.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/screens/main_menu.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/screens/import_export.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/data.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/elements/helpers.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/elements/layout.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/logger.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/messages.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/sdk.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/style.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/translation.ts", "../node_modules/.pnpm/bc-deeplib@2.0.0_sass-embedded@1.90.0/node_modules/bc-deeplib/src/utilities/event_channel.ts", "../src/utilities/data.ts", "../src/hooks/login_options.ts", "../src/migrators/v140_migrator.ts", "../node_modules/.pnpm/color-name@2.0.0/node_modules/color-name/index.js", "../node_modules/.pnpm/color-string@2.1.0/node_modules/color-string/index.js", "../node_modules/.pnpm/color-convert@3.1.0/node_modules/color-convert/conversions.js", "../node_modules/.pnpm/color-convert@3.1.0/node_modules/color-convert/route.js", "../node_modules/.pnpm/color-convert@3.1.0/node_modules/color-convert/index.js", "../node_modules/.pnpm/color@5.0.0/node_modules/color/index.js", "../src/utilities/color.ts", "../src/screens/colors.ts", "../src/utilities/mod_definition.ts", "../src/hooks/gui_redraw/appearance_get_preview_image_color.ts", "../src/hooks/gui_redraw/dialog_get_menu_button_color.ts", "../src/hooks/gui_redraw/draw_back_next_button.ts", "../src/utilities/drawing.ts", "../src/hooks/gui_redraw/draw_button.ts", "../src/hooks/gui_redraw/draw_button_hover.ts", "../src/hooks/gui_redraw/draw_checkbox.ts", "../src/hooks/gui_redraw/draw_empty_rect.ts", "../src/hooks/gui_redraw/draw_image_ex.ts", "../src/hooks/gui_redraw/draw_preview_box.ts", "../src/hooks/gui_redraw/draw_rect.ts", "../src/hooks/gui_redraw/draw_room_background.ts", "../src/hooks/gui_redraw/draw_text.ts", "../src/hooks/gui_redraw/draw_text_fit.ts", "../src/hooks/gui_redraw/draw_text_wrap.ts", "../src/modules/gui_redraw.ts", "../src/utilities/integration.ts", "../src/utilities/other.ts", "../src/utilities/style.ts", "../src/modules/colors.ts", "../src/modules/commands.ts", "../src/screens/global.ts", "../src/modules/global.ts", "../src/screens/integration.ts", "../src/modules/integration.ts", "../src/utilities/console.ts", "../src/screens/profiles.ts", "../src/modules/profiles.ts", "../src/modules/share.ts", "../src/migrators/deeplib_migrator.ts", "../src/screens/reset.ts", "../src/themed.ts"],
  "sourcesContent": ["// Bondage Club Mod Development Kit (1.2.0)\n// For more info see: https://github.com/Jomshir98/bondage-club-mod-sdk\n/** @type {ModSDKGlobalAPI} */\nvar bcModSdk=function(){\"use strict\";const o=\"1.2.0\";function e(o){alert(\"Mod ERROR:\\n\"+o);const e=new Error(o);throw console.error(e),e}const t=new TextEncoder;function n(o){return!!o&&\"object\"==typeof o&&!Array.isArray(o)}function r(o){const e=new Set;return o.filter((o=>!e.has(o)&&e.add(o)))}const i=new Map,a=new Set;function c(o){a.has(o)||(a.add(o),console.warn(o))}function s(o){const e=[],t=new Map,n=new Set;for(const r of f.values()){const i=r.patching.get(o.name);if(i){e.push(...i.hooks);for(const[e,a]of i.patches.entries())t.has(e)&&t.get(e)!==a&&c(`ModSDK: Mod '${r.name}' is patching function ${o.name} with same pattern that is already applied by different mod, but with different pattern:\\nPattern:\\n${e}\\nPatch1:\\n${t.get(e)||\"\"}\\nPatch2:\\n${a}`),t.set(e,a),n.add(r.name)}}e.sort(((o,e)=>e.priority-o.priority));const r=function(o,e){if(0===e.size)return o;let t=o.toString().replaceAll(\"\\r\\n\",\"\\n\");for(const[n,r]of e.entries())t.includes(n)||c(`ModSDK: Patching ${o.name}: Patch ${n} not applied`),t=t.replaceAll(n,r);return(0,eval)(`(${t})`)}(o.original,t);let i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(t,o.name,n),c=r.apply(this,e);return null==a||a(),c};for(let t=e.length-1;t>=0;t--){const n=e[t],r=i;i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(t,o.name,n.mod),c=n.hook.apply(this,[e,o=>{if(1!==arguments.length||!Array.isArray(e))throw new Error(`Mod ${n.mod} failed to call next hook: Expected args to be array, got ${typeof o}`);return r.call(this,o)}]);return null==a||a(),c}}return{hooks:e,patches:t,patchesSources:n,enter:i,final:r}}function l(o,e=!1){let r=i.get(o);if(r)e&&(r.precomputed=s(r));else{let e=window;const a=o.split(\".\");for(let t=0;t<a.length-1;t++)if(e=e[a[t]],!n(e))throw new Error(`ModSDK: Function ${o} to be patched not found; ${a.slice(0,t+1).join(\".\")} is not object`);const c=e[a[a.length-1]];if(\"function\"!=typeof c)throw new Error(`ModSDK: Function ${o} to be patched not found`);const l=function(o){let e=-1;for(const n of t.encode(o)){let o=255&(e^n);for(let e=0;e<8;e++)o=1&o?-306674912^o>>>1:o>>>1;e=e>>>8^o}return((-1^e)>>>0).toString(16).padStart(8,\"0\").toUpperCase()}(c.toString().replaceAll(\"\\r\\n\",\"\\n\")),d={name:o,original:c,originalHash:l};r=Object.assign(Object.assign({},d),{precomputed:s(d),router:()=>{},context:e,contextProperty:a[a.length-1]}),r.router=function(o){return function(...e){return o.precomputed.enter.apply(this,[e])}}(r),i.set(o,r),e[r.contextProperty]=r.router}return r}function d(){for(const o of i.values())o.precomputed=s(o)}function p(){const o=new Map;for(const[e,t]of i)o.set(e,{name:e,original:t.original,originalHash:t.originalHash,sdkEntrypoint:t.router,currentEntrypoint:t.context[t.contextProperty],hookedByMods:r(t.precomputed.hooks.map((o=>o.mod))),patchedByMods:Array.from(t.precomputed.patchesSources)});return o}const f=new Map;function u(o){f.get(o.name)!==o&&e(`Failed to unload mod '${o.name}': Not registered`),f.delete(o.name),o.loaded=!1,d()}function g(o,t){o&&\"object\"==typeof o||e(\"Failed to register mod: Expected info object, got \"+typeof o),\"string\"==typeof o.name&&o.name||e(\"Failed to register mod: Expected name to be non-empty string, got \"+typeof o.name);let r=`'${o.name}'`;\"string\"==typeof o.fullName&&o.fullName||e(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof o.fullName}`),r=`'${o.fullName} (${o.name})'`,\"string\"!=typeof o.version&&e(`Failed to register mod ${r}: Expected version to be string, got ${typeof o.version}`),o.repository||(o.repository=void 0),void 0!==o.repository&&\"string\"!=typeof o.repository&&e(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof o.version}`),null==t&&(t={}),t&&\"object\"==typeof t||e(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=f.get(o.name);a&&(a.allowReplace&&i||e(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\\nWas the mod loaded multiple times?`),u(a));const c=o=>{let e=g.patching.get(o.name);return e||(e={hooks:[],patches:new Map},g.patching.set(o.name,e)),e},s=(o,t)=>(...n)=>{var i,a;const c=null===(a=(i=m.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,o,g.name);g.loaded||e(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==c||c(),s},p={unload:s(\"unload\",(()=>u(g))),hookFunction:s(\"hookFunction\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);\"number\"!=typeof t&&e(`Mod ${r} failed to hook function '${o}': Expected priority number, got ${typeof t}`),\"function\"!=typeof n&&e(`Mod ${r} failed to hook function '${o}': Expected hook function, got ${typeof n}`);const s={mod:g.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const o=a.hooks.indexOf(s);o>=0&&(a.hooks.splice(o,1),d())}})),patchFunction:s(\"patchFunction\",((o,t)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);n(t)||e(`Mod ${r} failed to patch function '${o}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))\"string\"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):e(`Mod ${r} failed to patch function '${o}': Invalid format of patch '${n}'`);d()})),removePatches:s(\"removePatches\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const t=l(o);c(t).patches.clear(),d()})),callOriginal:s(\"callOriginal\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to call a function: Expected function name string, got ${typeof o}`);const i=l(o);return Array.isArray(t)||e(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s(\"getOriginalHash\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to get hash: Expected function name string, got ${typeof o}`);return l(o).originalHash}))},g={name:o.name,fullName:o.fullName,version:o.version,repository:o.repository,allowReplace:i,api:p,loaded:!0,patching:new Map};return f.set(o.name,g),Object.freeze(p)}function h(){const o=[];for(const e of f.values())o.push({name:e.name,fullName:e.fullName,version:e.version,repository:e.repository});return o}let m;const y=void 0===window.bcModSdk?window.bcModSdk=function(){const e={version:o,apiVersion:1,registerMod:g,getModsInfo:h,getPatchingInfo:p,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return m=e,Object.freeze(e)}():(n(window.bcModSdk)||e(\"Failed to init Mod SDK: Name already in use\"),1!==window.bcModSdk.apiVersion&&e(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==o&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);return\"undefined\"!=typeof exports&&(Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=y),y}();\n", "import { BaseSettingsModel, SettingsModel, Subscreen, ModSdkManager, ModStorage, modStorage } from '../deeplib';\n\n/**\n * An abstract foundation for modular systems that require:\n *  - Optional settings screens\n *  - Persistent settings storage per module\n *  - Default settings registration\n *  - Lifecycle hooks for loading, running, and unloading\n *\n * ### Responsibilities\n * This class defines the base contract for all modules in the system:\n *  - Provides a standardized interface for retrieving and storing settings\n *  - Ensures default settings are registered if missing\n *  - Integrates with the module storage system (`modStorage`)\n *  - Offers overridable lifecycle methods (`init`, `load`, `run`, `unload`)\n *\n * **Subclass Requirements:**\n *  - Must extend `BaseModule`\n *  - Should override `defaultSettings` to define defaults for its settings, if any\n *  - May override `settingsScreen` to provide a UI component\n *  - May override lifecycle methods as needed\n */\nexport abstract class BaseModule {\n  /**\n   * An optional UI screen for configuring this module's settings.\n   * Subclasses can override this getter to provide a `Subscreen` instance.\n   * Modules with screens are automatically registered to the main menu.\n   */\n  get settingsScreen(): Subscreen | null {\n    return null;\n  }\n\n  /**\n   * The storage key under which this module's settings will be saved.\n   * Defaults to the class name.\n   *\n   * Subclasses can override this if they require a custom storage key.\n   */\n  get settingsStorage(): string | null {\n    return this.constructor.name;\n  }\n\n  /**\n   * Retrieves the current settings for this module.\n   * If no settings exist yet, registers default settings first.\n   */\n  get settings(): BaseSettingsModel {\n    const modName = ModSdkManager.ModInfo.name;\n    if (!this.settingsStorage) return {} as BaseSettingsModel;\n    if (!modStorage.playerStorage) {\n      Player[modName] = <SettingsModel>{};\n      this.registerDefaultSettings();\n    } else if (!modStorage.playerStorage[this.settingsStorage]) this.registerDefaultSettings();\n    return modStorage.playerStorage[this.settingsStorage];\n  }\n\n  /**\n   * Persists new settings for this module.\n   * Automatically initializes storage and defaults if they don't exist.\n   */\n  set settings(value) {\n    const modName = ModSdkManager.ModInfo.name;\n    const storage = new ModStorage<SettingsModel>(modName);\n    if (!this.settingsStorage) return;\n    if (!storage.playerStorage) {\n      Player[modName] = <SettingsModel>{};\n      this.registerDefaultSettings();\n    } else if (!storage.playerStorage[this.settingsStorage]) this.registerDefaultSettings();\n    storage.playerStorage[this.settingsStorage] = value;\n  }\n\n  /**\n   * Initializes the module.\n   * Default implementation registers default settings immediately.\n   * Subclasses can override to perform additional setup.\n   */\n  init() {\n    this.registerDefaultSettings();\n  }\n\n  /**\n   * Registers default settings for this module in persistent storage.\n   * Only runs if a storage key and default settings are defined.\n   * \n   * If some settings already exist, they will be merged with defaults.\n   * Existing values will NOT be overwritten.\n   */\n  registerDefaultSettings(): void {\n    const storage = this.settingsStorage;\n    const defaults = this.defaultSettings;\n    if (!storage || !defaults) return;\n\n    Player[ModSdkManager.ModInfo.name][storage] = Object.assign(defaults, Player[ModSdkManager.ModInfo.name][storage] ?? {});\n  }\n\n  /**\n   * Provides default settings for this module.\n   * Subclasses should override this getter to return their defaults.\n   */\n  get defaultSettings(): BaseSettingsModel | null {\n    return null;\n  }\n\n  /**\n   * Called when the module is loaded into the system.\n   * Subclasses should override to perform data loading or initialization.\n   */\n  load() { }\n\n  /**\n   * By default doesn't get called each frame, only once when the module is loaded.\n   * Subclasses can override to implement runtime logic.\n   */\n  run() { }\n\n  /**\n   * Called when the module is being removed.\n   * Subclasses can override to perform cleanup or save final state.\n   */\n  unload() { }\n}\n", "import { BaseModule, BaseSettingsModel, GUI, advElement, ModSdkManager, domUtil, getText, layout, modules, modStorage, exportToGlobal } from '../deeplib';\nimport { SettingElement } from './elements_typings';\n\n/** Optional configuration flags for a `BaseSubscreen` instance. */\nexport type SubscreenOptions = {\n  /**\n   * If `true`, the subscreen will draw the player's character model\n   * in the UI when `run()` is called.\n   * Also shift the UI to the right to make room for the character.\n   */\n  drawCharacter?: boolean;\n\n  /**\n   * Logical name of this subscreen.\n   * Used for localization key resolution in `load()`.\n   * Subclasses should override this with a meaningful identifier.\n   */\n  name: string;\n\n  /**\n   * Path to or Base64 data for an icon representing this subscreen.\n   * Defaults to empty string (no icon).\n   */\n  icon?: string;\n\n  /** \n   * An optional help button to open a subscreen or URL or run a function when clicked.\n   */\n  help?: {\n    /** A URL or BaseSubscreen to open or a function to run when the help button is clicked  */\n    onClick: URL | string | BaseSubscreen | (() => void);\n    /** A tooltip to display when the help button is hovered over */\n    tooltip?: string;\n    /** An icon to display on the help button */\n    icon?: string;\n  },\n\n  /** \n   * Screen to return to when exiting this subscreen. \n   * If not configured, the default is the main menu for all screens, but main menu itself.\n   * For main menu, the default is the Extensions menu \n   */\n  returnScreen?: (() => ScreenSpecifier | BaseSubscreen) | ScreenSpecifier | BaseSubscreen;\n\n  /** \n   * The background image for this subscreen. \n   * Currently supports only images from the Club.\n   */\n  background?: string;\n};\n\n/**\n * Represents a constructor type for a subscreen.\n * Allows dynamic instantiation of subscreen classes with optional\n * configuration options and a parent module reference.\n */\nexport type Subscreen = new (\n  module?: BaseModule\n) => BaseSubscreen;\n\n/** Switches the active subscreen in the global `GUI` instance. */\nexport async function setSubscreen(subscreen: BaseSubscreen | string | null) {\n  if (!GUI.instance) {\n    throw new Error('Attempt to set subscreen before init');\n  }\n  const screenName = typeof subscreen === 'string' ? subscreen : subscreen?.options.name;\n  const screenId = `${BaseSubscreen.id}_${screenName}`;\n\n  await CommonSetScreen(...['DeepLibMod', `${screenId}`] as unknown as ScreenSpecifier);\n}\n\n/**\n * Abstract base class for creating settings/configuration subscreens in a module.\n *\n * ### Responsibilities\n * This class defines the base contract for all modules in the system:\n *  - Provides a standardized interface for retrieving and storing settings\n *  - Ensures default settings are registered if missing\n *  - Integrates with the module storage system (`modStorage`)\n *  - Offers overridable lifecycle methods (`init`, `load`, `run`, `unload`)\n *\n * **Subclass Requirements:**\n *  - Must extend `BaseSubscreen`\n *  - Should override `name`, `icon` to define subscreen metadata\n *  - May override `pageStructure` to define UI layout and controls\n *  - May override lifecycle methods as needed\n */\nexport abstract class BaseSubscreen {\n  /** Global registry of currently rendered elements and their definitions. */\n  static currentElements: [HTMLElement, SettingElement][] = [];\n  /** Tracks the currently visible page number (1-based index). */\n  static currentPage: number = 1;\n  /** Runtime options for this subscreen. */\n  readonly options: SubscreenOptions;\n  /** Reference to the module this subscreen belongs to. */\n  readonly module!: BaseModule;\n  /** Identifier for internal use to avoid screen name collisions. */\n  static readonly id: string = CommonGenerateUniqueID();\n  /** Optional configuration flags for a BaseSubscreen instance. */\n  protected static readonly subscreenOptions: SubscreenOptions = {\n    drawCharacter: true,\n    name: 'UNKNOWN',\n    icon: '',\n    background: 'Sheet',\n  };\n\n  constructor(module?: BaseModule) {\n    if (module) this.module = module;\n\n    const ctor = this.constructor as typeof BaseSubscreen;\n    this.options = {\n      ...BaseSubscreen.subscreenOptions,\n      ...ctor.subscreenOptions\n    };\n\n    const screenName = this.options.name;\n    const screenId = `${BaseSubscreen.id}_${screenName}`;\n\n    exportToGlobal(`${screenId}Load`, this.load.bind(this));\n    exportToGlobal(`${screenId}Run`, this.run.bind(this));\n    exportToGlobal(`${screenId}Click`, this.click.bind(this));\n    exportToGlobal(`${screenId}Exit`, this.exit.bind(this));\n    exportToGlobal(`${screenId}Unload`, this.unload.bind(this));\n    exportToGlobal(`${screenId}Resize`, this.resize.bind(this));\n    exportToGlobal(`${screenId}Background`, this.options.background);\n\n    CommonCSVCache[ScreenFileGetTranslation('DeepLibMod', screenId) as string] = [];\n  }\n\n  /** Changes the currently active subscreen. */\n  async setSubscreen(screen: BaseSubscreen | string | null) {\n    return await setSubscreen(screen);\n  }\n\n  /** Gets this subscreen's settings object from its parent module. */\n  get settings(): BaseSettingsModel {\n    return this.module.settings as BaseSettingsModel;\n  }\n\n  /** Updates this subscreen's settings in its parent module. */\n  set settings(value) {\n    this.module.settings = value;\n  }\n\n  /**\n   * Defines the paginated layout of the subscreen's settings UI.\n   * Each element in the outer array is a page; each page contains `SettingElement`s.\n   *\n   * Subclasses should override to define their actual UI structure.\n   */\n  get pageStructure(): SettingElement[][] {\n    return [[]];\n  }\n\n  /** Gets the currently visible page's settings elements. */\n  get currentPage(): SettingElement[] {\n    return this.pageStructure[Math.min(BaseSubscreen.currentPage - 1, this.pageStructure.length - 1)];\n  }\n\n  getPageLabel(): string {\n    return CommonStringPartitionReplace(getText('settings.page.label'), {\n      $currentPage$: `${BaseSubscreen.currentPage}`,\n      $totalPages$: `${this.pageStructure.length}`,\n    }).join('');\n  }\n\n  /**\n   * Changes the visible page in a multi-page subscreen.\n   * Automatically wraps around when going past the first or last page.\n   */\n  changePage(page: number, setLabel: (label: string) => void) {\n    const totalPages = this.pageStructure.length;\n\n    if (page > totalPages) page = 1;\n    if (page < 1) page = totalPages;\n    BaseSubscreen.currentPage = page;\n\n    this.managePageElementsVisibility();\n\n    setLabel(this.getPageLabel());\n  }\n\n  /**\n   * Updates the DOM to show only elements belonging to the current page.\n   * All elements on other pages are hidden.\n   */\n  managePageElementsVisibility() {\n    this.pageStructure.forEach((item, ix) => {\n      if (ix != BaseSubscreen.currentPage - 1) {\n        item.forEach((setting) => {\n          domUtil.hide(`${setting.id}-container`);\n        });\n      } else {\n        item.forEach((setting) => {\n          domUtil.unhide(`${setting.id}-container`);\n        });\n      }\n    });\n  }\n\n  /**\n   * Called when this subscreen is first displayed.\n   * Builds the layout, initializes navigation, and renders all settings elements.\n   *\n   * Handles:\n   *  - Ensuring each module with a settings screen has its defaults loaded\n   *  - Creating navigation menus and back/next page controls\n   *  - Building and appending UI elements based on `pageStructure`\n   *  - Setting up exit button and tooltip\n   *  - Resetting to page 1\n   */\n  load() {\n    for (const module of modules()) {\n      if (!module.settingsScreen) continue;\n      if (!module.settings || !Object.keys(module.settings).length) module.registerDefaultSettings();\n    }\n\n    BaseSubscreen.currentPage = 1;\n\n    layout.getSubscreen();\n    const settingsElement = layout.getSettingsDiv();\n    layout.appendToSubscreen(settingsElement);\n\n    const menu = ElementMenu.Create('deeplib-nav-menu', []);\n    layout.appendToSubscreen(menu);\n\n    if (this.pageStructure.length > 1) {\n      const backNext = advElement.createBackNext({\n        id: 'deeplib-page-back-next',\n        next: ({ setLabel }) => this.changePage(BaseSubscreen.currentPage + 1, setLabel),\n        initialNextTooltip: getText('settings.button.next_button_hint'),\n        back: ({ setLabel }) => this.changePage(BaseSubscreen.currentPage - 1, setLabel),\n        initialPrevTooltip: getText('settings.button.prev_button_hint'),\n        initialLabel: this.getPageLabel()\n      });\n\n      ElementMenu.PrependItem(menu, backNext);\n    }\n\n    if (this.options.help) {\n      const onClick = this.options.help.onClick;\n      let action = () => { };\n      if (typeof onClick === 'string' || onClick instanceof URL) {\n        action = () => window.open(onClick, '_blank');\n      } else if (typeof onClick === 'function') {\n        action = onClick;\n      } else if (onClick instanceof BaseSubscreen) {\n        action = async () => await this.setSubscreen(onClick);\n      }\n\n      this.options.help.tooltip ??= getText('settings.button.help_button_hint');\n      this.options.help.icon ??= `${PUBLIC_URL}/dl_images/bookmark.svg`;\n\n      const helpButton = advElement.createButton({\n        id: 'deeplib-help',\n        size: [90, 90],\n        onClick: action,\n        options: {\n          image: this.options.help.icon,\n          tooltip: this.options.help.tooltip\n        }\n      });\n\n      ElementMenu.AppendButton(menu, helpButton);\n    }\n\n    const subscreenTitle = advElement.createLabel({\n      id: 'deeplib-subscreen-title',\n      label: getText(`${this.options.name}.title`).replace('$ModVersion', ModSdkManager.ModInfo.version),\n    });\n    layout.appendToSubscreen(subscreenTitle);\n\n    if (this.options.name !== 'mainmenu') {\n      const exitButton = advElement.createButton({\n        id: 'deeplib-exit',\n        size: [90, 90],\n        onClick: () => {\n          this.exit();\n        },\n        options: {\n          image: `${PUBLIC_URL}/dl_images/exit.svg`,\n          tooltip: getText('settings.button.back_button_hint')\n        }\n      });\n      ElementMenu.AppendButton(menu, exitButton);\n    }\n\n    const tooltip = advElement.createTooltip();\n    layout.appendToSubscreen(tooltip);\n\n    this.pageStructure.forEach((s) =>\n      s.forEach((item) => {\n        let element: HTMLElement;\n        switch (item.type) {\n          case 'text':\n          case 'number':\n          case 'color':\n            element = advElement.createInput(item);\n            break;\n          case 'checkbox':\n            element = advElement.createCheckbox(item);\n            break;\n          case 'button':\n            element = advElement.createButton(item);\n            break;\n          case 'label':\n            element = advElement.createLabel(item);\n            break;\n          case 'custom':\n            element = advElement.createCustom(item);\n            break;\n        }\n        layout.appendToSettingsDiv(element);\n      })\n    );\n\n    this.managePageElementsVisibility();\n\n    CharacterAppearanceForceUpCharacter = Player.MemberNumber ?? -1;\n  }\n\n\n  /**\n   * Called each frame while this subscreen is active.\n   * Default behavior draws the player's character if `drawCharacter` is enabled.\n   */\n  run() {\n    if (this.options.drawCharacter) DrawCharacter(Player, 50, 50, 0.9, false);\n  }\n\n  /**\n   * Handles mouse clicks *on canvas* while the subscreen is active.\n   * Default implementation is empty \u2014 subclasses may override.\n   */\n  click() {\n  }\n\n  /**\n   * Exits this subscreen, returning to the main menu.\n   * Also saves persistent storage changes.\n   * Called after the `unload`.\n   */\n  exit() {\n    CharacterAppearanceForceUpCharacter = -1;\n    CharacterLoadCanvas(Player);\n\n    const returnScreen = typeof this.options.returnScreen === 'function' ? this.options.returnScreen() : this.options.returnScreen;\n\n    if (returnScreen instanceof BaseSubscreen || !returnScreen) {\n      setSubscreen(returnScreen ?? 'mainmenu').then(() => {\n        modStorage.save();\n      });\n    } else if (Array.isArray(returnScreen)) {\n      CommonSetScreen(...returnScreen).then(() => {\n        modStorage.save();\n      });\n    }\n  }\n\n  /**\n   * Called when the window is resized.\n   * Also checks for overflow in the settings div and applies styling accordingly.\n   */\n  resize(_onLoad: boolean = false) {\n    const offset = this.options.drawCharacter ? 0 : 380;\n    const subscreen = layout.getSubscreen();\n    const settingsDiv = layout.getSettingsDiv();\n\n    ElementSetPosition(subscreen || '', 0, 0);\n    ElementSetSize(subscreen || '', 2000, 1000);\n    ElementSetFontSize(subscreen || '', 'auto');\n\n    if (this.options.name === 'mainmenu') {\n      ElementSetPosition(settingsDiv || '', 530 - offset, 170);\n      ElementSetSize(settingsDiv || '', 600 + offset, 660);\n    } else {\n      ElementSetPosition(settingsDiv || '', 530 - offset, 170);\n      ElementSetSize(settingsDiv || '', 1000 + offset, 660);\n    }\n\n    ElementSetPosition('deeplib-subscreen-title', 530 - offset, 75);\n    ElementSetSize('deeplib-subscreen-title', 800, 60);\n\n    ElementSetPosition('deeplib-nav-menu', 1905, 75, 'top-right');\n    ElementSetSize('deeplib-nav-menu', null, 90);\n\n    ElementSetPosition(advElement.getTooltip() || '', 250, 850);\n    ElementSetSize(advElement.getTooltip() || '', 1500, 70);\n\n    BaseSubscreen.currentElements.forEach((item) => {\n      const element = item[0];\n      const options = item[1];\n\n      domUtil.autoSetPosition(options.id ?? element.id, options.position);\n      domUtil.autoSetSize(options.id ?? element.id, options.size);\n    });\n\n    if (settingsDiv) {\n      if (domUtil.hasOverflow(settingsDiv)?.vertical) {\n        settingsDiv.classList.add('deeplib-overflow-box');\n      } else {\n        settingsDiv.classList.remove('deeplib-overflow-box');\n      }\n    }\n  }\n\n\n  /**\n   * Called when this subscreen is being removed.\n   * Resets the static element registry and removes the subscreen from the layout.\n   * Called before `exit`.\n   */\n  unload() {\n    BaseSubscreen.currentElements = [];\n\n    layout.removeSubscreen();\n  }\n}\n\n", "export default `.deeplib-subscreen,\n.deeplib-modal {\n  --deeplib-background-color: var(--tmd-main, white);\n  --deeplib-element-color: var(--tmd-element, white);\n  --deeplib-element-hover-color: var(--tmd-element-hover, cyan);\n  --deeplib-accent-color: var(--tmd-accent, #FFFF88);\n  --deeplib-blocked-color: var(--tmd-blocked, red);\n  --deeplib-text-color: var(--tmd-text, black);\n  --deeplib-icon-color: var(--tmd-accent, black);\n  --deeplib-icon-hover-color: var(--tmd-accent-hover, black);\n  --deeplib-border-color: var(--tmd-accent, black);\n  --deeplib-border-width: min(0.2vh, 0.1vw);\n  --deeplib-border-width: min(0.2dvh, 0.1dvw);\n  --deeplib-border-radius: min(1vh, 0.5vw);\n  --deeplib-border-radius: min(1dvh, 0.5dvw);\n}\n\n.deeplib-button {\n  color: var(--deeplib-text-color);\n  width: 100%;\n  height: 100%;\n}\n\n.deeplib-button.button-styling,\n.deeplib-button.button-styling::before {\n  border-radius: min(1dvh, 0.5dvw);\n}\n\n.deeplib-button img {\n  position: absolute;\n  top: 0%;\n  left: 0%;\n  width: 100%;\n  height: 100%;\n  background-position: left;\n  background-color: var(--deeplib-icon-color);\n  background-blend-mode: multiply;\n  background-size: contain;\n  mask-position: left;\n  mask-size: contain;\n  background-repeat: no-repeat;\n  mask-repeat: no-repeat;\n  color: transparent;\n  background-image: var(--image);\n  mask-image: var(--image);\n  pointer-events: none;\n}\n\n.deeplib-button:hover img {\n  background-color: var(--deeplib-icon-hover-color);\n}\n\n.deeplib-button .button-label {\n  background-color: transparent !important;\n  color: var(--deeplib-text-color);\n  font-size: min(3.6dvh, 1.8dvw);\n}\n\n.deeplib-button .button-tooltip {\n  border-radius: min(1dvh, 0.5dvw);\n}\n\n#deeplib-page-label {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#deeplib-subscreen-title {\n  text-align: left;\n  color: var(--deeplib-text-color);\n}\n\n.deeplib-text {\n  color: var(--deeplib-text-color);\n}\n\n.deeplib-subscreen {\n  padding: 0;\n  margin: 0;\n  pointer-events: none;\n}\n\n.deeplib-subscreen * {\n  box-sizing: border-box;\n  pointer-events: all;\n}\n\n.deeplib-settings {\n  display: grid;\n  grid-auto-rows: min-content;\n  padding: min(1dvh, 0.5dvw);\n  gap: 0.3em;\n}\n\n.deeplib-misc {\n  display: flex;\n  align-items: center;\n  flex-direction: column-reverse;\n  gap: min(1vh, 0.5vw);\n}\n\n.deeplib-tooltip {\n  background-color: var(--deeplib-element-color);\n  color: var(--deeplib-text-color);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: min(1dvh, 0.5dvw);\n  padding: min(1vh, 0.5vw);\n  font-size: 0.8em;\n  border: min(0.2vh, 0.1vw) solid var(--deeplib-border-color);\n  z-index: 1;\n}\n\n.deeplib-overflow-box {\n  border: var(--deeplib-border-color) solid var(--deeplib-border-width);\n}\n\n.deeplib-prev-next {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  gap: min(2dvh, 1dvw);\n  background-color: var(--deeplib-element-color);\n  color: var(--deeplib-text-color);\n  border-radius: min(1dvh, 0.5dvw);\n  border: min(0.2vh, 0.1vw) solid var(--deeplib-border-color);\n}\n.deeplib-prev-next .deeplib-prev-next-button:hover {\n  background-color: var(--deeplib-element-hover-color);\n  border-radius: var(--deeplib-border-radius);\n}\n.deeplib-prev-next .deeplib-prev-next-button {\n  height: 100%;\n  aspect-ratio: 1;\n}\n.deeplib-prev-next .deeplib-prev-next-label {\n  white-space: nowrap;\n}\n\n#deeplib-nav-menu {\n  display: flex;\n  flex-direction: row;\n  gap: min(2dvh, 1dvw);\n}\n\n#deeplib-storage-meter {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background-color: var(--deeplib-element-color);\n  border: var(--deeplib-border-width) solid var(--deeplib-border-color);\n  border-radius: var(--deeplib-border-radius);\n  z-index: -1;\n}\n\n#deeplib-storage-bar {\n  height: 100%;\n  width: 0%;\n  background: var(--deeplib-accent-color);\n}\n\n.deeplib-checkbox-container {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 0.3em;\n}\n\n.deeplib-checkbox-container input.deeplib-input {\n  width: min(5vh, 2.5vw);\n  height: min(5vh, 2.5vw);\n  border-radius: min(1dvh, 0.5dvw);\n}\n\n.deeplib-checkbox-container input.deeplib-input[type=checkbox]:checked::before {\n  width: 80%;\n  height: 80%;\n}\n\n.deeplib-input-container {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 0.3em;\n}\n\n.deeplib-input-container:has(label.deeplib-text) {\n  margin-top: min(1vh, 0.5vw);\n}\n\n.deeplib-input-container input.deeplib-input {\n  font-size: 0.6em;\n  padding: 5px 0;\n  background-color: transparent;\n  outline: none;\n  padding-left: min(1vh, 0.5vw);\n  padding-right: min(1vh, 0.5vw);\n  min-height: min(5dvh, 2.5dvw);\n  border-radius: min(1dvh, 0.5dvw);\n}\n\n.deeplib-input-container input.deeplib-input[type=color] {\n  padding: 0px;\n  width: min(5vh, 2.5vw);\n  height: min(5vh, 2.5vw);\n  border-radius: 0px;\n}\n\n.deeplib-input-container input.deeplib-input[type=color]:disabled {\n  border: var(--deeplib-blocked-color) solid var(--deeplib-border-width);\n  cursor: not-allowed;\n}\n\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=number] {\n  appearance: textfield;\n  -moz-appearance: textfield;\n}\n\n.deeplib-highlight-text {\n  font-weight: bold;\n  color: rgb(203, 185, 23);\n}\n\n#TextAreaChatLog[data-colortheme=dark] div.ChatMessage.deeplib-message,\n#TextAreaChatLog[data-colortheme=dark2] div.ChatMessage.deeplib-message {\n  background-color: var(--deeplib-element-color);\n  border: min(0.2dvh, 0.1dvw) solid var(--deeplib-border-color);\n  color: var(--deeplib-text-color);\n}\n\n#TextAreaChatLog div.ChatMessage.deeplib-message {\n  background-color: #eee;\n  border: min(0.2dvh, 0.1dvw) solid #440171;\n  color: #111;\n  padding-left: min(0.6dvh, 0.3dvw);\n  display: block;\n  white-space: normal;\n}\n\n#TextAreaChatLog[data-colortheme=dark] div.ChatMessage.deeplib-message a,\n#TextAreaChatLog[data-colortheme=dark2] div.ChatMessage.deeplib-message a {\n  color: var(--deeplib-text-color);\n}\n\n#TextAreaChatLog div.ChatMessage.deeplib-message a {\n  cursor: pointer;\n  font-weight: bold;\n  color: #111;\n}\n\n.deeplib-modal {\n  position: fixed;\n  top: 10%;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 1001;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 0.5em;\n  width: max(50dvw, 25dvh);\n  font-size: min(4dvh, 2dvw);\n  padding: min(2dvh, 1dvw);\n  background-color: var(--deeplib-element-color);\n  border-radius: min(1.2dvh, 0.6dvw);\n  border: min(0.2dvh, 0.1dvw) solid var(--deeplib-border-color);\n  color: var(--deeplib-text-color);\n}\n.deeplib-modal .deeplib-modal-input {\n  width: 100%;\n  font-size: min(2.6dvh, 1.8dvw);\n  border-radius: min(1dvh, 0.5dvw);\n  padding: min(1dvh, 0.5dvw);\n}\n.deeplib-modal input.deeplib-modal-input {\n  max-width: max(50dvh, 25dvw);\n}\n.deeplib-modal .deeplib-modal-button-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  gap: 0.5em;\n  width: 100%;\n}\n.deeplib-modal .deeplib-modal-button-container .deeplib-button {\n  font-size: 0.8em;\n  display: flex;\n  width: auto;\n  padding: min(0.4vh, 0.2vw) min(2vh, 1vw);\n}\n.deeplib-modal .deeplib-modal-button-container .deeplib-button .button-label {\n  display: contents;\n}\n.deeplib-modal .deeplib-modal-prompt-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.deeplib-modal-blocker {\n  z-index: 1000;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100dvw;\n  height: 100dvh;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL21lZGlhL05WTUUvU3R1ZmYvQ29kZS9CQy9CQy1EZWVwTGliL3NyYy9zdHlsZXMiLCJzb3VyY2VzIjpbInZhcnMuc2NzcyIsImJ1dHRvbnMuc2NzcyIsImVsZW1lbnRzLnNjc3MiLCJpbnB1dHMuc2NzcyIsIm1lc3NhZ2VzLnNjc3MiLCJtb2RhbC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7RUFFRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7O0FDZEY7RUFDRTtFQUNBO0VBQ0E7OztBQUdGO0FBQUE7RUFFRTs7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBRUE7RUFDQTtFQUNBOzs7QUFHRjtFQUNFOzs7QUFHRjtFQUNFO0VBQ0E7RUFDQTs7O0FBR0Y7RUFDRTs7O0FDM0NGO0VBQ0U7RUFDQTtFQUNBOzs7QUFHRjtFQUNFO0VBQ0E7OztBQUdGO0VBQ0U7OztBQUdGO0VBQ0U7RUFDQTtFQUNBOzs7QUFHRjtFQUNFO0VBQ0E7OztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7OztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7OztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7OztBQUdGO0VBQ0U7OztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUdFO0VBQ0U7RUFDQTs7QUFISjtFQU1FO0VBQ0E7O0FBR0Y7RUFDRTs7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7OztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7OztBQUdGO0VBQ0U7RUFDQTtFQUNBOzs7QUN6R0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTs7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7OztBQUdGO0VBQ0U7RUFDQTs7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTs7O0FBR0Y7RUFDRTs7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOzs7QUFJRjtFQUNFO0VBQ0E7RUFDQTtFQUNBOzs7QUFHRjtFQUNFO0VBQ0E7OztBQUdGO0FBQUE7RUFFRTtFQUNBOzs7QUFHRjtFQUNFO0VBQ0E7OztBQzdERjtFQUNFO0VBQ0E7OztBQUdGO0FBQUE7RUFFRTtFQUNBO0VBQ0E7OztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOzs7QUFHRjtBQUFBO0VBRUU7OztBQUdGO0VBQ0U7RUFDQTtFQUNBOzs7QUM3QkY7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7O0FBR0Y7RUFDRTs7QUFHRjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFOztBQUtOO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7OztBQUlKO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIuZGVlcGxpYi1zdWJzY3JlZW4sXG4uZGVlcGxpYi1tb2RhbCB7XG4gIC0tZGVlcGxpYi1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS10bWQtbWFpbiwgd2hpdGUpO1xuICAtLWRlZXBsaWItZWxlbWVudC1jb2xvcjogdmFyKC0tdG1kLWVsZW1lbnQsIHdoaXRlKTtcbiAgLS1kZWVwbGliLWVsZW1lbnQtaG92ZXItY29sb3I6IHZhcigtLXRtZC1lbGVtZW50LWhvdmVyLCBjeWFuKTtcbiAgLS1kZWVwbGliLWFjY2VudC1jb2xvcjogdmFyKC0tdG1kLWFjY2VudCwgI0ZGRkY4OCk7XG4gIC0tZGVlcGxpYi1ibG9ja2VkLWNvbG9yOiB2YXIoLS10bWQtYmxvY2tlZCwgcmVkKTtcbiAgLS1kZWVwbGliLXRleHQtY29sb3I6IHZhcigtLXRtZC10ZXh0LCBibGFjayk7XG4gIC0tZGVlcGxpYi1pY29uLWNvbG9yOiB2YXIoLS10bWQtYWNjZW50LCBibGFjayk7XG4gIC0tZGVlcGxpYi1pY29uLWhvdmVyLWNvbG9yOiB2YXIoLS10bWQtYWNjZW50LWhvdmVyLCBibGFjayk7XG4gIC0tZGVlcGxpYi1ib3JkZXItY29sb3I6IHZhcigtLXRtZC1hY2NlbnQsIGJsYWNrKTtcbiAgLS1kZWVwbGliLWJvcmRlci13aWR0aDogbWluKDAuMnZoLCAwLjF2dyk7XG4gIC0tZGVlcGxpYi1ib3JkZXItd2lkdGg6IG1pbigwLjJkdmgsIDAuMWR2dyk7XG4gIC0tZGVlcGxpYi1ib3JkZXItcmFkaXVzOiBtaW4oMXZoLCAwLjV2dyk7XG4gIC0tZGVlcGxpYi1ib3JkZXItcmFkaXVzOiBtaW4oMWR2aCwgMC41ZHZ3KTtcbn1cbiIsIi5kZWVwbGliLWJ1dHRvbiB7XG4gIGNvbG9yOiB2YXIoLS1kZWVwbGliLXRleHQtY29sb3IpO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uZGVlcGxpYi1idXR0b24uYnV0dG9uLXN0eWxpbmcsXG4uZGVlcGxpYi1idXR0b24uYnV0dG9uLXN0eWxpbmc6OmJlZm9yZSB7XG4gIGJvcmRlci1yYWRpdXM6IG1pbigxLjBkdmgsIDAuNWR2dyk7XG59XG5cbi5kZWVwbGliLWJ1dHRvbiBpbWcge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMCU7XG4gIGxlZnQ6IDAlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBsZWZ0O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kZWVwbGliLWljb24tY29sb3IpO1xuICBiYWNrZ3JvdW5kLWJsZW5kLW1vZGU6IG11bHRpcGx5O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gIG1hc2stcG9zaXRpb246IGxlZnQ7XG4gIG1hc2stc2l6ZTogY29udGFpbjtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgbWFzay1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgY29sb3I6IHRyYW5zcGFyZW50O1xuXG4gIGJhY2tncm91bmQtaW1hZ2U6IHZhcigtLWltYWdlKTtcbiAgbWFzay1pbWFnZTogdmFyKC0taW1hZ2UpO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLmRlZXBsaWItYnV0dG9uOmhvdmVyIGltZyB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRlZXBsaWItaWNvbi1ob3Zlci1jb2xvcik7XG59XG5cbi5kZWVwbGliLWJ1dHRvbiAuYnV0dG9uLWxhYmVsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgY29sb3I6IHZhcigtLWRlZXBsaWItdGV4dC1jb2xvcik7XG4gIGZvbnQtc2l6ZTogbWluKDMuNmR2aCwgMS44ZHZ3KTtcbn1cblxuLmRlZXBsaWItYnV0dG9uIC5idXR0b24tdG9vbHRpcCB7XG4gIGJvcmRlci1yYWRpdXM6IG1pbigxLjBkdmgsIDAuNWR2dyk7XG59XG4iLCIjZGVlcGxpYi1wYWdlLWxhYmVsIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbiNkZWVwbGliLXN1YnNjcmVlbi10aXRsZSB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGNvbG9yOiB2YXIoLS1kZWVwbGliLXRleHQtY29sb3IpO1xufVxuXG4uZGVlcGxpYi10ZXh0IHtcbiAgY29sb3I6IHZhcigtLWRlZXBsaWItdGV4dC1jb2xvcik7XG59XG5cbi5kZWVwbGliLXN1YnNjcmVlbiB7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbi5kZWVwbGliLXN1YnNjcmVlbiAqIHtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgcG9pbnRlci1ldmVudHM6IGFsbDtcbn1cblxuLmRlZXBsaWItc2V0dGluZ3Mge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLWF1dG8tcm93czogbWluLWNvbnRlbnQ7XG4gIHBhZGRpbmc6IG1pbigxLjBkdmgsIDAuNWR2dyk7XG4gIGdhcDogMC4zZW07XG59XG5cbi5kZWVwbGliLW1pc2Mge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gIGdhcDogbWluKDF2aCwgMC41dncpO1xufVxuXG4uZGVlcGxpYi10b29sdGlwIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGVlcGxpYi1lbGVtZW50LWNvbG9yKTtcbiAgY29sb3I6IHZhcigtLWRlZXBsaWItdGV4dC1jb2xvcik7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiBtaW4oMS4wZHZoLCAwLjVkdncpO1xuICBwYWRkaW5nOiBtaW4oMXZoLCAwLjV2dyk7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG4gIGJvcmRlcjogbWluKDAuMnZoLCAwLjF2dykgc29saWQgdmFyKC0tZGVlcGxpYi1ib3JkZXItY29sb3IpO1xuICB6LWluZGV4OiAxO1xufVxuXG4uZGVlcGxpYi1vdmVyZmxvdy1ib3gge1xuICBib3JkZXI6IHZhcigtLWRlZXBsaWItYm9yZGVyLWNvbG9yKSBzb2xpZCB2YXIoLS1kZWVwbGliLWJvcmRlci13aWR0aCk7XG59XG5cbi5kZWVwbGliLXByZXYtbmV4dCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgZ2FwOiBtaW4oMmR2aCwgMWR2dyk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRlZXBsaWItZWxlbWVudC1jb2xvcik7XG4gIGNvbG9yOiB2YXIoLS1kZWVwbGliLXRleHQtY29sb3IpO1xuICBib3JkZXItcmFkaXVzOiBtaW4oMS4wZHZoLCAwLjVkdncpO1xuICBib3JkZXI6IG1pbigwLjJ2aCwgMC4xdncpIHNvbGlkIHZhcigtLWRlZXBsaWItYm9yZGVyLWNvbG9yKTtcblxuICAuZGVlcGxpYi1wcmV2LW5leHQtYnV0dG9uIHtcbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRlZXBsaWItZWxlbWVudC1ob3Zlci1jb2xvcik7XG4gICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1kZWVwbGliLWJvcmRlci1yYWRpdXMpO1xuICAgIH1cbiAgICBcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYXNwZWN0LXJhdGlvOiAxO1xuICB9XG5cbiAgLmRlZXBsaWItcHJldi1uZXh0LWxhYmVsIHtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB9XG59XG5cbiNkZWVwbGliLW5hdi1tZW51IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgZ2FwOiBtaW4oMmR2aCwgMWR2dyk7XG59XG5cbiNkZWVwbGliLXN0b3JhZ2UtbWV0ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMHB4O1xuICBsZWZ0OiAwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRlZXBsaWItZWxlbWVudC1jb2xvcik7XG4gIGJvcmRlcjogdmFyKC0tZGVlcGxpYi1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLWRlZXBsaWItYm9yZGVyLWNvbG9yKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZGVlcGxpYi1ib3JkZXItcmFkaXVzKTtcbiAgei1pbmRleDogLTE7XG59XG5cbiNkZWVwbGliLXN0b3JhZ2UtYmFyIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMCU7XG4gIGJhY2tncm91bmQ6IHZhcigtLWRlZXBsaWItYWNjZW50LWNvbG9yKTtcbn1cbiIsIi5kZWVwbGliLWNoZWNrYm94LWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMC4zZW07XG59XG5cbi5kZWVwbGliLWNoZWNrYm94LWNvbnRhaW5lciBpbnB1dC5kZWVwbGliLWlucHV0IHtcbiAgd2lkdGg6IG1pbig1dmgsIDIuNXZ3KTtcbiAgaGVpZ2h0OiBtaW4oNXZoLCAyLjV2dyk7XG4gIGJvcmRlci1yYWRpdXM6IG1pbigxLjBkdmgsIDAuNWR2dyk7XG59XG5cbi5kZWVwbGliLWNoZWNrYm94LWNvbnRhaW5lciBpbnB1dC5kZWVwbGliLWlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpjaGVja2VkOjpiZWZvcmUge1xuICB3aWR0aDogODAlO1xuICBoZWlnaHQ6IDgwJTtcbn1cblxuLmRlZXBsaWItaW5wdXQtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAwLjNlbTtcbn1cblxuLmRlZXBsaWItaW5wdXQtY29udGFpbmVyOmhhcyhsYWJlbC5kZWVwbGliLXRleHQpIHtcbiAgbWFyZ2luLXRvcDogbWluKDF2aCwgMC41dncpO1xufVxuXG4uZGVlcGxpYi1pbnB1dC1jb250YWluZXIgaW5wdXQuZGVlcGxpYi1pbnB1dCB7XG4gIGZvbnQtc2l6ZTogMC42ZW07XG4gIHBhZGRpbmc6IDVweCAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgb3V0bGluZTogbm9uZTtcbiAgcGFkZGluZy1sZWZ0OiBtaW4oMXZoLCAwLjV2dyk7XG4gIHBhZGRpbmctcmlnaHQ6IG1pbigxdmgsIDAuNXZ3KTtcbiAgbWluLWhlaWdodDogbWluKDVkdmgsIDIuNWR2dyk7XG4gIGJvcmRlci1yYWRpdXM6IG1pbigxLjBkdmgsIDAuNWR2dyk7XG59XG5cblxuLmRlZXBsaWItaW5wdXQtY29udGFpbmVyIGlucHV0LmRlZXBsaWItaW5wdXRbdHlwZT1cImNvbG9yXCJdIHtcbiAgcGFkZGluZzogMHB4O1xuICB3aWR0aDogbWluKDV2aCwgMi41dncpO1xuICBoZWlnaHQ6IG1pbig1dmgsIDIuNXZ3KTtcbiAgYm9yZGVyLXJhZGl1czogMHB4O1xufVxuXG4uZGVlcGxpYi1pbnB1dC1jb250YWluZXIgaW5wdXQuZGVlcGxpYi1pbnB1dFt0eXBlPVwiY29sb3JcIl06ZGlzYWJsZWQge1xuICBib3JkZXI6IHZhcigtLWRlZXBsaWItYmxvY2tlZC1jb2xvcikgc29saWQgdmFyKC0tZGVlcGxpYi1ib3JkZXItd2lkdGgpO1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuXG5pbnB1dDo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbixcbmlucHV0Ojotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uIHtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICBtYXJnaW46IDA7XG59XG5cbmlucHV0W3R5cGU9bnVtYmVyXSB7XG4gIGFwcGVhcmFuY2U6IHRleHRmaWVsZDtcbiAgLW1vei1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7XG59XG4iLCIuZGVlcGxpYi1oaWdobGlnaHQtdGV4dCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogcmdiKDIwMywgMTg1LCAyMyk7XG59XG5cbiNUZXh0QXJlYUNoYXRMb2dbZGF0YS1jb2xvcnRoZW1lPSdkYXJrJ10gZGl2LkNoYXRNZXNzYWdlLmRlZXBsaWItbWVzc2FnZSxcbiNUZXh0QXJlYUNoYXRMb2dbZGF0YS1jb2xvcnRoZW1lPSdkYXJrMiddIGRpdi5DaGF0TWVzc2FnZS5kZWVwbGliLW1lc3NhZ2Uge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kZWVwbGliLWVsZW1lbnQtY29sb3IpO1xuICBib3JkZXI6IG1pbigwLjJkdmgsIDAuMWR2dykgc29saWQgdmFyKC0tZGVlcGxpYi1ib3JkZXItY29sb3IpO1xuICBjb2xvcjogdmFyKC0tZGVlcGxpYi10ZXh0LWNvbG9yKTtcbn1cblxuI1RleHRBcmVhQ2hhdExvZyBkaXYuQ2hhdE1lc3NhZ2UuZGVlcGxpYi1tZXNzYWdlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgYm9yZGVyOiBtaW4oMC4yZHZoLCAwLjFkdncpIHNvbGlkICM0NDAxNzE7XG4gIGNvbG9yOiAjMTExO1xuICBwYWRkaW5nLWxlZnQ6IG1pbigwLjZkdmgsIDAuM2R2dyk7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xufVxuXG4jVGV4dEFyZWFDaGF0TG9nW2RhdGEtY29sb3J0aGVtZT0nZGFyayddIGRpdi5DaGF0TWVzc2FnZS5kZWVwbGliLW1lc3NhZ2UgYSxcbiNUZXh0QXJlYUNoYXRMb2dbZGF0YS1jb2xvcnRoZW1lPSdkYXJrMiddIGRpdi5DaGF0TWVzc2FnZS5kZWVwbGliLW1lc3NhZ2UgYSB7XG4gIGNvbG9yOiB2YXIoLS1kZWVwbGliLXRleHQtY29sb3IpO1xufVxuXG4jVGV4dEFyZWFDaGF0TG9nIGRpdi5DaGF0TWVzc2FnZS5kZWVwbGliLW1lc3NhZ2UgYSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMTExO1xufVxuIiwiLmRlZXBsaWItbW9kYWwge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMTAlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgei1pbmRleDogMTAwMTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMC41ZW07XG4gIHdpZHRoOiBtYXgoNTBkdncsIDI1ZHZoKTtcbiAgZm9udC1zaXplOiBtaW4oNGR2aCwgMmR2dyk7XG4gIHBhZGRpbmc6IG1pbigyZHZoLCAxZHZ3KTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGVlcGxpYi1lbGVtZW50LWNvbG9yKTtcbiAgYm9yZGVyLXJhZGl1czogbWluKDEuMmR2aCwgMC42ZHZ3KTtcbiAgYm9yZGVyOiBtaW4oMC4yZHZoLCAwLjFkdncpIHNvbGlkIHZhcigtLWRlZXBsaWItYm9yZGVyLWNvbG9yKTtcbiAgY29sb3I6IHZhcigtLWRlZXBsaWItdGV4dC1jb2xvcik7XG5cbiAgLmRlZXBsaWItbW9kYWwtaW5wdXQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGZvbnQtc2l6ZTogbWluKDIuNmR2aCwgMS44ZHZ3KTtcbiAgICBib3JkZXItcmFkaXVzOiBtaW4oMS4wZHZoLCAwLjVkdncpO1xuICAgIHBhZGRpbmc6IG1pbigxZHZoLCAwLjVkdncpO1xuICB9XG5cbiAgaW5wdXQuZGVlcGxpYi1tb2RhbC1pbnB1dCB7XG4gICAgbWF4LXdpZHRoOiBtYXgoNTBkdmgsIDI1ZHZ3KTtcbiAgfVxuXG4gIC5kZWVwbGliLW1vZGFsLWJ1dHRvbi1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgIGdhcDogMC41ZW07XG4gICAgd2lkdGg6IDEwMCU7XG5cbiAgICAuZGVlcGxpYi1idXR0b24ge1xuICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB3aWR0aDogYXV0bztcbiAgICAgIHBhZGRpbmc6IG1pbigwLjR2aCwgMC4ydncpIG1pbigydmgsIDF2dyk7XG5cbiAgICAgIC5idXR0b24tbGFiZWwge1xuICAgICAgICBkaXNwbGF5OiBjb250ZW50cztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAuZGVlcGxpYi1tb2RhbC1wcm9tcHQtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfVxufVxuXG4uZGVlcGxpYi1tb2RhbC1ibG9ja2VyIHtcbiAgei1pbmRleDogMTAwMDtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDBkdnc7XG4gIGhlaWdodDogMTAwZHZoO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG59XG4iXX0= */`;\n", "import deeplib_style from '../styles/index.scss';\nimport { BaseModule, ModSdkManager, deepLibLogger, Localization, modules, registerModule, Style, VersionModule, hasSetter, deepMergeMatchingProperties, hasGetter, BaseMigrator, ModStorage, MainMenuOptions, MainMenu, TranslationOptions } from '../deeplib';\n\n/** Configuration object for initializing a mod via `initMod`. */\ninterface InitOptions {\n  /**\n   * Information about the mod being initialized.\n   * - `info`    \u2014 Required metadata describing the mod.\n   * - `options` \u2014 Optional runtime configuration for the Mod SDK.\n   */\n  modInfo: {\n    info: ModSDKModInfo,\n    options?: ModSDKModOptions\n  };\n\n  /**\n   * List of modules (`BaseModule` subclasses) to register with the mod system.\n   * Modules are initialized, loaded, and run in order.\n   */\n  modules?: BaseModule[];\n\n  /**\n   * List of data migration handlers to register with the `VersionModule`.\n   * Each `BaseMigrator` handles upgrading data from one version to another.\n   */\n  migrators?: BaseMigrator[];\n\n  /** Configuration for customizing the main menu when the mod is active. */\n  mainMenuOptions?: MainMenuOptions;\n\n  /**\n   * Optional hook executed *before* login when the player is not yet authenticated.\n   * Useful for pre-login setup or display changes.\n   */\n  beforeLogin?: () => (void);\n\n  /**\n   * Optional async/sync function run after modules and translations are initialized.\n   * Can be used to perform additional setup tasks.\n   */\n  initFunction?: () => (void | Promise<void>);\n\n  /** Options for initializing the localization/translation system. */\n  translationOptions?: TranslationOptions;\n}\n\n/**\n * Global storage handler for mod.\n * Initialized by `initMod()` and mod data loaded by `init()`.\n */\nexport let modStorage: ModStorage;\n\n/**\n * Global Mod SDK manager.\n * Initialized by `initMod()`.\n */\nexport let sdk: ModSdkManager;\n\n/**\n * Entry point for initializing a mod. Handles:\n *  - Setting up the Mod SDK\n *  - Preparing persistent storage\n *  - Injecting required styles\n *  - Delaying initialization until login (if necessary)\n */\nexport function initMod(options: InitOptions) {\n  sdk = new ModSdkManager(options.modInfo.info, options.modInfo.options);\n  const MOD_NAME = ModSdkManager.ModInfo.name;\n\n  modStorage = new ModStorage(ModSdkManager.ModInfo.name);\n  Style.injectInline('deeplib-style', deeplib_style);\n\n  deepLibLogger.debug(`Init wait for ${MOD_NAME}`);\n  if (CurrentScreen == null || CurrentScreen === 'Login') {\n    options.beforeLogin?.();\n    const removeHook = sdk.hookFunction('LoginResponse', 0, (args, next) => {\n      deepLibLogger.debug(`Init for ${MOD_NAME}! LoginResponse caught: `, args);\n      next(args);\n      const response = args[0];\n      if (response === 'InvalidNamePassword') return next(args);\n      if (response && typeof response.Name === 'string' && typeof response.AccountName === 'string') {\n        init(options);\n        removeHook();\n      }\n    });\n  } else {\n    deepLibLogger.debug(`Already logged in, initing ${MOD_NAME}`);\n    init(options);\n  }\n}\n\n\n/**\n * Fully initializes the mod after login.\n * Handles:\n *  - Preventing double-load\n *  - Loading mod data\n *  - Initializing localization\n *  - Registering modules and migrators\n *  - Running optional init functions\n *  - Applying main menu changes\n *  - Merging default settings into module settings\n *\n * @param options {InitOptions} Configuration for mod initialization.\n */\nexport async function init(options: InitOptions) {\n  const MOD_NAME = ModSdkManager.ModInfo.name;\n  const MOD_VERSION = ModSdkManager.ModInfo.version;\n\n  if ((window as any)[MOD_NAME + 'Loaded']) return;\n\n  modStorage.load();\n\n  await Localization.init(options.translationOptions);\n\n  if (options.modules && !initModules(options.modules)) {\n    unloadMod();\n    return;\n  }\n\n  if (options.migrators) {\n    for (const m of options.migrators) {\n      VersionModule.registerMigrator(m);\n    }\n  }\n\n  await options.initFunction?.();\n\n  if (options.mainMenuOptions)\n    MainMenu.setOptions(options.mainMenuOptions);\n\n  for (const m of modules()) {\n    if (m.defaultSettings && hasGetter(m, 'defaultSettings') && m.settings && hasSetter(m, 'settings')) {\n      if (Object.entries(m.defaultSettings).length === 0) continue;\n      m.settings = deepMergeMatchingProperties(m.defaultSettings, m.settings);\n    }\n  }\n\n  (window as any)[MOD_NAME + 'Loaded'] = true;\n  deepLibLogger.log(`Loaded ${MOD_NAME}! Version: ${MOD_VERSION}`);\n}\n\n\n/**\n * Registers and starts all modules.\n * Runs `init()`, `load()`, and `run()` for each module in order.\n */\nfunction initModules(modulesToRegister: BaseModule[]): boolean {\n  const MOD_NAME = ModSdkManager.ModInfo.name;\n\n  for (const module of modulesToRegister) {\n    registerModule(module);\n  }\n\n  for (const module of modules()) {\n    module.init();\n  }\n\n  for (const module of modules()) {\n    module.load();\n  }\n\n  for (const module of modules()) {\n    module.run();\n  }\n\n  deepLibLogger.debug(`Modules Loaded for ${MOD_NAME}.`);\n  return true;\n}\n\n/** \n * Cleans up and removes the mod from memory.\n * Calls `unload()` on all modules and removes the global loaded flag.\n */\nexport function unloadMod(): true {\n  const MOD_NAME = ModSdkManager.ModInfo.name;\n  unloadModules();\n\n  delete (window as any)[MOD_NAME + 'Loaded'];\n  deepLibLogger.debug(`Unloaded ${MOD_NAME}.`);\n  return true;\n}\n\n/** Calls the `unload()` lifecycle method on all registered modules. */\nfunction unloadModules() {\n  for (const module of modules()) {\n    module.unload();\n  }\n}\n", "import { BaseModule } from '../deeplib';\n\n/**\n * Global registry of all loaded modules, keyed by their class name.\n *\n * The map is populated via {@link registerModule} and accessed via {@link modules} or {@link getModule}.\n * This is the central storage for active `BaseModule` instances during the mod lifecycle.\n */\nexport const modulesMap: Map<string, BaseModule> = new Map<string, BaseModule>();\n\n/**\n * Retrieves all registered module instances.\n *\n * @returns An array containing every module currently stored in {@link modulesMap}.\n *\n * @remarks\n * The returned array is a **shallow copy** of the `Map` values, meaning that\n * changes to the array do not affect the registry itself.\n *\n * @example\n * ```ts\n * for (const mod of modules()) {\n *   mod.run();\n * }\n * ```\n */\nexport function modules(): BaseModule[] {\n  return [...modulesMap.values()];\n}\n\n\n/**\n * Registers a module instance in the global registry.\n * \n * @returns The same module instance passed in, for chaining or immediate use.\n *\n * @remarks\n * - If a module with the same constructor name already exists, it will be **overwritten**.\n * - Keys are based on the class name (`module.constructor.name`), so name collisions are possible\n *   if two different classes share the same name.\n *\n * @example\n * ```ts\n * registerModule(new MyGlobalModule());\n * ```\n */\nexport function registerModule<T extends BaseModule>(module: T): T {\n  modulesMap.set(module.constructor.name, module);\n  return module;\n}\n\n\n/**\n * Retrieves a registered module by its type name.\n *\n * @returns The matching module instance cast to type `T`, or `undefined` if not found.\n *\n * @remarks\n * This function does not perform runtime type checks. If the type parameter `T`\n * does not match the actual module type, you may get runtime errors when using the result.\n *\n * @example\n * ```ts\n * const themeModule = getModule<ThemeModule>('ThemeModule');\n * themeModule?.reloadTheme();\n * ```\n */\nexport function getModule<T extends BaseModule>(moduleType: string): T {\n  return modulesMap.get(moduleType) as T;\n}\n", "/**\n * Abstract base class for versioned migration handlers.\n *\n * A migrator is responsible for upgrading or transforming stored data\n * when the mod version changes. Each migrator targets a specific version\n * and executes its {@link migrate} method once when needed.\n *\n * @remarks\n * To create a new migrator:\n * 1. Extend `BaseMigrator`.\n * 2. Implement the {@link migrationVersion} getter to return the target version string.\n * 3. Implement {@link migrate} with the migration logic (e.g., data structure changes).\n */\nexport abstract class BaseMigrator {\n\n  /**\n   * Gets the target version string for this migration.\n   *\n   * @remarks\n   * - This should exactly match the version format used by the mod\n   * - Used by the migration system to determine if this migration should be executed.\n   */\n  abstract get migrationVersion(): string;\n\n  /**\n   * Executes the migration logic for this version.\n   *\n   * @remarks\n   * - Called once when upgrading from a version earlier than {@link migrationVersion}.\n   * - Should handle any necessary data transformations, cleanup, or initialization\n   *   to bring the mod's state up to date with the new version.\n   * - Must be idempotent \u2014 running it multiple times should not cause data corruption.\n   */\n  abstract migrate(): void;\n}\n", "import { BaseModule, BaseSubscreen, MainMenu, modules, setSubscreen } from '../deeplib';\n\n/** Options for configuring a mod's main button in the extensions menu. */\ntype GuiOptions = {\n\n  /**\n   * Unique identifier for the mod's settings button.\n   * Used internally by the preference system to track the button.\n   */\n  identifier: string;\n\n  /**\n   * The label displayed on the settings button.\n   * Can be a string or a function that returns a string dynamically.\n   */\n  buttonText: string | (() => string);\n\n  /** \n   * The path to or Base64 data of the icon for the settings button.\n   * Can be a string or a function that returns a string dynamically.\n   */\n  image: string | (() => string);\n  \n  /**\n   * The main menu screen for the mod.\n   */\n  mainMenu?: typeof MainMenu;\n};\n\n/**\n * Central mod GUI controller that manages all subscreens.\n *\n * This module is responsible for:\n * - Registering the mod's settings button in the game's preferences.\n * - Managing subscreens (including settings screens for all registered modules).\n * - Routing lifecycle events (load, run, click, exit, unload) to the active subscreen.\n */\nexport class GUI extends BaseModule {\n  /** The singleton instance of the GUI controller. */\n  static instance: GUI | null = null;\n\n  /** All subscreens managed by this GUI, including the main menu and module settings screens. */\n  private _subscreens: BaseSubscreen[];\n  /** The mod's main menu screen. */\n  private _mainMenu: MainMenu;\n  /** Options defining how the mod's settings button is displayed and behaves. */\n  private _modButtonOptions: GuiOptions | null;\n\n  /** Returns all registered subscreens. */\n  get subscreens(): BaseSubscreen[] {\n    return this._subscreens;\n  }\n\n  /** Returns the main menu subscreen instance. */\n  get mainMenu(): MainMenu {\n    return this._mainMenu;\n  }\n\n  /** \n   * Creates the GUI instance and initializes the main menu. \n   * \n   * @throws If another `GUI` instance already exists.\n   */\n  constructor(guiOptions: GuiOptions | null = null) {\n    super();\n    if (GUI.instance) {\n      throw new Error('Duplicate initialization');\n    }\n\n    for (const module of modules()) {\n      if (!module.settingsScreen) continue;\n    }\n\n    this._mainMenu = guiOptions?.mainMenu ? new guiOptions.mainMenu(this) : new MainMenu(this);\n    this._subscreens = [this._mainMenu];\n    this._modButtonOptions = guiOptions;\n\n    GUI.instance = this;\n  }\n\n  /**\n   * Loads the GUI and registers the mod's settings button in the extensions menu.\n   *\n   * - Creates subscreens for each module's settings screen.\n   * - Registers lifecycle callbacks for subscreens events.\n   * - Sets up the main menu and its subscreens.\n   */\n  load(): void {\n    if (!this._modButtonOptions) return;\n    \n    for (const module of modules()) {\n      if (!module.settingsScreen) continue;\n\n      this._subscreens.push(new module.settingsScreen(module));\n    }\n\n    this._mainMenu.subscreens = this._subscreens;\n\n    PreferenceRegisterExtensionSetting({\n      Identifier: this._modButtonOptions.identifier,\n      ButtonText: this._modButtonOptions.buttonText,\n      Image: this._modButtonOptions.image,\n      load: async () => {\n        await setSubscreen(this._mainMenu);\n      },\n      run: () => {},\n      click: () => {},\n      exit: () => {},\n    });\n  }\n}\n", "import { BaseMigrator, BaseModule, ModSdkManager, deepLibLogger, getText, modStorage } from '../deeplib';\n\nexport type VersionModuleOptions = {\n  newVersionMessage: string;\n  beforeEach?: () => void;\n  afterEach?: () => void;\n  beforeAll?: () => void;\n  afterAll?: () => void;\n};\n\n/**\n * Handles version tracking, new version detection, and version-based migrations\n * for the mod. Also manages displaying a \"new version\" message to players and\n * executing registered migration routines when an update occurs.\n * \n * **Key Responsibilities:**\n * - Track and store the current mod version in persistent player storage.\n * - Detect if the mod has been updated since the last session.\n * - Run version-specific migrations via registered `BaseMigrator` instances.\n * - Optionally display a message to the user upon detecting a new version.\n */\nexport class VersionModule extends BaseModule {\n  /** Whether the current session is running a new version compared to stored data */\n  private static isItNewVersion: boolean = false;\n\n  /** The current mod version (retrieved from `ModSdkManager.ModInfo.version`) */\n  private static version: string;\n\n  /** Message to display when a new version is detected */\n  private static newVersionMessage: string = '';\n\n  /** List of registered migration handlers, sorted by version */\n  private static migrators: BaseMigrator[] = [];\n\n  /** Optional lifecycle hook. Runs before each migration */\n  private static beforeEach?: () => void;\n  /** Optional lifecycle hook. Runs after each migration */\n  private static afterEach?: () => void;\n  /** Optional lifecycle hook. Runs before all migrations */\n  private static beforeAll?: () => void;\n  /** Optional lifecycle hook. Runs after all migrations */\n  private static afterAll?: () => void;\n\n  constructor(options: VersionModuleOptions) {\n    super();\n\n    VersionModule.newVersionMessage = options.newVersionMessage;\n\n    VersionModule.beforeEach = options.beforeEach;\n    VersionModule.afterEach = options.afterEach;\n    VersionModule.beforeAll = options.beforeAll;\n    VersionModule.afterAll = options.afterAll;\n  }\n\n  /**\n   * Initializes the module on load:\n   * - Stores the current mod version.\n   * - Hooks into `ChatRoomSync` to show a \"new version\" message when applicable.\n   */\n  load(): void {\n    VersionModule.version = ModSdkManager.ModInfo.version;\n\n    VersionModule.checkVersionUpdate();\n\n    if (modStorage.playerStorage.GlobalModule.doShowNewVersionMessage && VersionModule.isItNewVersion) {\n      VersionModule.sendNewVersionMessage();\n    }\n  }\n\n  /**\n   * Checks if the stored version differs from the current version.\n   * If a new version is detected:\n   * - Flags the session as updated.\n   * - Runs applicable migrations.\n   * - Updates stored version in player data.\n   * - Saves `modStorage`.\n   */\n  private static checkVersionUpdate() {\n    const previousVersion = VersionModule.loadVersion();\n    const currentVersion = VersionModule.version;\n\n    if (VersionModule.isNewVersion(previousVersion, currentVersion)) {\n      VersionModule.isItNewVersion = true;\n      VersionModule.checkVersionMigration();\n      VersionModule.saveVersion();\n    }\n\n    modStorage.save();\n  }\n\n  /**\n   * Executes migrations for all registered migrators whose `MigrationVersion`\n   * is newer than the previously stored version.\n   */\n  private static checkVersionMigration() {\n    const previousVersion = VersionModule.loadVersion();\n    const toMigrate = VersionModule.migrators.filter(m =>\n      VersionModule.isNewVersion(previousVersion, m.migrationVersion)\n    );\n\n    if (!toMigrate.length) return;\n\n    VersionModule.beforeAll?.();\n\n    for (const migrator of toMigrate) {\n      VersionModule.beforeEach?.();\n\n      migrator.migrate();\n      deepLibLogger.info(\n        `Migrating ${ModSdkManager.ModInfo.name} from ${previousVersion} to ${migrator.migrationVersion} with ${migrator.constructor.name}`\n      );\n\n      VersionModule.afterEach?.();\n    }\n\n    VersionModule.afterAll?.();\n  }\n\n  /**\n   * Registers a new migrator for handling version-specific changes.\n   * Migrators are sorted by their `MigrationVersion` in ascending order.\n   */\n  static registerMigrator(migrator: BaseMigrator) {\n    VersionModule.migrators.push(migrator);\n\n    VersionModule.migrators.sort((a, b) => a.migrationVersion.localeCompare(b.migrationVersion));\n  }\n\n  /** Sends the currently configured \"new version\" message to the local player. */\n  static sendNewVersionMessage() {\n    const beepLogLength = FriendListBeepLog.push({\n      MemberNumber: Player.MemberNumber,\n      MemberName: ModSdkManager.ModInfo.name,\n      ChatRoomName: getText('module.version.version_update'),\n      ChatRoomSpace: 'X',\n      Private: false,\n      Sent: false,\n      Time: new Date(),\n      Message: VersionModule.newVersionMessage\n    });\n\n    const beepIdx = beepLogLength - 1;\n    const title = CommonStringPartitionReplace(getText('module.version.new_version_toast_title'), {\n      $modName$: ModSdkManager.ModInfo.name,\n      $modVersion$: VersionModule.version\n    }).join('');\n    const data = FriendListBeepLog[beepIdx];\n\n    ServerShowBeep(VersionModule.newVersionMessage, 10000, {\n      memberNumber: data.MemberNumber,\n      memberName: data.MemberName,\n      chatRoomName: data.ChatRoomName,\n      ...(data.Message && {\n        onClick: () => {\n          FriendListShowBeep(beepIdx);\n        }\n      })\n    }, title);\n  }\n\n  /**\n   * Determines if a given `candidate` version is newer than the `current` version.\n   * \n   * Version strings are expected in `MAJOR.MINOR.PATCH` format.\n   */\n  private static isNewVersion(current: string | undefined, candidate: string) {\n    if (current !== undefined) {\n      const CURRENT_ = current.split('.'),\n        CANDIDATE_ = candidate.split('.');\n      for (let i = 0; i < 3; i++) {\n        if (CURRENT_[i] === CANDIDATE_[i]) {\n          continue;\n        }\n        return CANDIDATE_[i] > CURRENT_[i];\n      }\n    }\n    if (current === undefined || current === '' || !current) {\n      return true;\n    }\n    return false;\n  }\n\n  /** Saves the current mod version into persistent player storage. */\n  private static saveVersion() {\n    if (modStorage.playerStorage) {\n      Player[ModSdkManager.ModInfo.name].Version = VersionModule.version;\n    }\n  }\n\n  /** Loads the stored mod version from persistent player storage. */\n  private static loadVersion() {\n    return modStorage.playerStorage?.Version;\n  }\n}\n", "\nimport { Button, Checkbox, Input, Label, SettingElement } from '../base/elements_typings';\nimport { BaseSubscreen, deepLibLogger, SubscreenOptions } from '../deeplib';\n\nexport class GuiDebug extends BaseSubscreen {\n\n  protected static override subscreenOptions: SubscreenOptions = {\n    name: 'debug',\n  };\n\n  get pageStructure(): SettingElement[][] {\n    return [[\n      <Button>{\n        type: 'button',\n        id: 'test-deeplib-big-button',\n        size: [405, 80],\n        label: 'Big Button',\n        tooltip: 'This is a big button',\n        image: 'Icons/Exit.png',\n        onClick() {\n          deepLibLogger.info('Big Button Clicked');\n        }\n      },\n      <Button>{\n        type: 'button',\n        id: 'test-deeplib-small-button',\n        size: [90, 90],\n        tooltip: 'This is a small button',\n        image: 'Icons/Exit.png',\n        onClick() {\n          deepLibLogger.info('Small Button Clicked');\n        }\n      },\n      <Checkbox>{\n        type: 'checkbox',\n        id: 'test-deeplib-checkbox',\n        label: 'Checkbox',\n        description: 'This is a checkbox',\n        setElementValue() {\n          return true;\n        },\n        setSettingValue(val: boolean) {\n          deepLibLogger.info('Checkbox value:', val);\n        },\n      },\n      <Input>{\n        type: 'text',\n        id: 'test-deeplib-text-input',\n        label: 'Input',\n        description: 'This is a text input',\n        setElementValue() {\n          return 'Input Value';\n        },\n        setSettingValue(val: string) {\n          deepLibLogger.info('Input value:', val);\n        },\n      },\n      <Input>{\n        type: 'number',\n        id: 'test-deeplib-number-input',\n        label: 'Input',\n        description: 'This is a number input',\n        setElementValue() {\n          return '123';\n        },\n        setSettingValue(val: string) {\n          deepLibLogger.info('Input value:', val);\n        },\n      },\n      <Label>{\n        type: 'label',\n        id: 'test-deeplib-label',\n        label: 'Label',\n        description: 'This is a label',\n      }\n    ],\n    [\n      <Button>{\n        type: 'button',\n        id: 'test-deeplib-big-button2',\n        size: [405, 80],\n        label: 'Big Button',\n        tooltip: 'This is a big button',\n        image: 'Icons/Prev.png',\n        onClick() {\n          deepLibLogger.info('Big Button Clicked');\n        }\n      },\n      <Button>{\n        type: 'button',\n        id: 'test-deeplib-small-button2',\n        size: [90, 90],\n        tooltip: 'This is a small button',\n        image: 'Icons/Next.png',\n        onClick() {\n          deepLibLogger.info('Small Button Clicked');\n        }\n      },\n      <Checkbox>{\n        type: 'checkbox',\n        id: 'test-deeplib-checkbox2',\n        label: 'Checkbox',\n        description: 'This is a checkbox',\n        setElementValue() {\n          return true;\n        },\n        setSettingValue(val: boolean) {\n          deepLibLogger.info('Checkbox value:', val);\n        },\n      },\n      <Input>{\n        type: 'text',\n        id: 'test-deeplib-text-input2',\n        label: 'Input',\n        description: 'This is a text input',\n        setElementValue() {\n          return 'Input Value';\n        },\n        setSettingValue(val: string) {\n          deepLibLogger.info('Input value:', val);\n        },\n      },\n      <Input>{\n        type: 'number',\n        id: 'test-deeplib-number-input2',\n        label: 'Input',\n        description: 'This is a number input',\n        setElementValue() {\n          return '123';\n        },\n        setSettingValue(val: string) {\n          deepLibLogger.info('Input value:', val);\n        },\n      },\n      <Label>{\n        type: 'label',\n        id: 'test-deeplib-label2',\n        label: 'Label',\n        description: 'This is a label',\n      }\n    ]];\n  }\n}\n", "/**\n * Deeply merges properties from `source` into `target`.\n * - If both target and source properties are arrays, concatenates them.\n * - If both are objects, recursively merges them.\n * - Otherwise, source overwrites target.\n */\nexport function deepMerge(target: any, source: any): any {\n  if (target === undefined) return source;\n  if (source === undefined) return target;\n  if (typeof target !== 'object' || typeof source !== 'object') {\n    return source;\n  }\n\n  for (const key of Object.keys(source)) {\n    if (Array.isArray(source[key]) && Array.isArray(target[key])) {\n      target[key] = [...target[key], ...source[key]];\n    } else if (typeof source[key] === 'object' && source[key] !== null) {\n      target[key] = deepMerge(target[key] || {}, source[key]);\n    } else {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\n/**\n * Returns a new array with elements of the input array shuffled.\n * Uses something-something shuffle algorithm by splicing from a cloned array.\n */\nexport function shuffleArray(array: string[]) {\n  const temp: string[] = JSON.parse(JSON.stringify(array));\n  const ret: string[] = [];\n\n  while (temp.length > 0) {\n    const d = Math.floor(Math.random() * temp.length);\n    ret.push(temp[d]);\n    temp.splice(d, 1);\n  }\n\n  return ret;\n}\n\n/**\n * Exports a value to the global object under a nested namespace path.\n * Creates intermediate objects if they do not exist.\n * \n * Example: `exportToGlobal('MyMod.Utils', value)` creates `globalThis.MyMod.Utils = value`.\n */\nexport function exportToGlobal(name: string, value: any): void {\n  const keys = name.split('.');\n  let current = globalThis as any;\n\n  for (let i = 0; i < keys.length - 1; i++) {\n    if (!current[keys[i]]) {\n      current[keys[i]] = {};\n    }\n    current = current[keys[i]];\n  }\n\n  current[keys[keys.length - 1]] = value;\n}\n\n\n/**\n * Deeply merges only matching properties from `mergeFrom` into `mergeTo`.\n * Properties not present in `mergeTo` are ignored.\n * Objects are recursively merged, primitive properties overwritten.\n */\nexport function deepMergeMatchingProperties<T extends object>(mergeTo: T, mergeFrom: T): T  {\n  const mergedObject = { ...mergeTo };\n\n  for (const key in mergeFrom) {\n    if (mergeFrom[key] !== null && typeof mergeFrom[key] === 'object') {\n      (mergedObject as any)[key] = deepMergeMatchingProperties(mergedObject[key] || {}, mergeFrom[key]);\n    } else if (key in mergedObject) {\n      (mergedObject as any)[key] = mergeFrom[key];\n    }\n  }\n\n  return mergedObject;\n}\n\n/** Checks if the given property has a getter defined on the object or its prototype chain. */\nexport function hasGetter<T extends object>(obj: T, prop: keyof T | string): boolean {\n  while (obj && obj !== Object.prototype) {\n    const descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n    if (descriptor?.get) return true;\n    obj = Object.getPrototypeOf(obj);\n  }\n  return false;\n}\n\n/** Checks if the given property has a setter defined on the object or its prototype chain. */\nexport function hasSetter<T extends object>(obj: T, prop: keyof T | string): boolean {\n  while (obj && obj !== Object.prototype) {\n    const descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n    if (descriptor?.set) return true;\n    obj = Object.getPrototypeOf(obj);\n  }\n  return false;\n}\n\n/**\n * Converts bytes to kilobytes. \n */\nexport const byteToKB = (nByte: number) => Math.round(nByte / 100) / 10;\n", "import { Button, Checkbox, Custom, Input, Label } from '../../base/elements_typings';\nimport { BaseSubscreen, getText } from '../../deeplib';\nimport { deepMerge } from '../common';\n\n/**\n * Collection of element creation utilities.\n * Provides convenience wrappers for generating commonly used UI elements.\n */\nexport const advElement = {\n  createButton: elementCreateButton,\n  createCheckbox: elementCreateCheckbox,\n  createInput: elementCreateInput,\n  createLabel: elementCreateLabel,\n  createCustom: elementCreateCustom,\n\n  createTooltip: elementCreateTooltip,\n  getTooltip: elementGetTooltip,\n  setTooltip: elementSetTooltip,\n\n  createBackNext: elementPrevNext,\n};\n\nfunction elementCreateButton(options: Omit<Button, 'type'>): HTMLButtonElement {\n  options.id ??= ElementGenerateID();\n  const elem = document.getElementById(options.id) as HTMLButtonElement;\n\n  if (elem) return elem;\n\n  (options as Button).type = 'button';\n  let image = undefined;\n\n  if (options.options?.image) {\n    image = options.options.image;\n    options.options.image = undefined;\n  }\n\n  const disabled = typeof options?.disabled === 'function' ? options?.disabled() : options?.disabled;\n\n  const button = ElementButton.Create(\n    options.id,\n    options?.onClick ?? (() => { }),\n    deepMerge({\n      labelPosition: 'center',\n    }, options.options),\n    deepMerge({\n      button: {\n        classList: ['deeplib-button'],\n        attributes: {\n          disabled: disabled,\n        },\n        children: [\n          image ? {\n            tag: 'img',\n            attributes: {\n              id: `${options.id}-image`,\n              alt: '',\n              decoding: 'async',\n              loading: 'lazy',\n              src: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' // 1x1 transparent image to get rid of broken image\n            },\n            style: {\n              '--image': `url(\"${image}\")`,\n            },\n          } : undefined,\n        ],\n      },\n    }, options.htmlOptions ?? {}));\n\n  BaseSubscreen.currentElements.push([button, options as Button]);\n\n  return button;\n};\n\nfunction elementCreateCheckbox(options: Omit<Checkbox, 'type'>) {\n  const elem = document.getElementById(options.id);\n\n  if (elem) return elem;\n\n  (options as Checkbox).type = 'checkbox';\n\n  const disabled = typeof options?.disabled === 'function' ? options?.disabled() : options?.disabled;\n\n  const retElem = ElementCreate({\n    tag: 'div',\n    classList: ['deeplib-checkbox-container'],\n    attributes: {\n      id: `${options.id}-container`,\n    },\n    children: [\n      deepMerge({\n        tag: 'input',\n        classList: ['checkbox', 'deeplib-input'],\n        attributes: {\n          type: 'checkbox',\n          id: options.id,\n          disabled: disabled,\n          checked: options?.setElementValue?.() || undefined,\n        },\n      }, options.htmlOptions),\n      {\n        tag: 'label',\n        classList: ['deeplib-text'],\n        attributes: {\n          for: options.id,\n        },\n        children: [options.label]\n      },\n    ],\n    eventListeners: {\n      change: () => {\n        options?.setSettingValue?.((document.getElementById(options.id) as HTMLInputElement)?.checked);\n      }\n    }\n  });\n\n  if (options.description) {\n    retElem.addEventListener('mouseover', () => {\n      elementSetTooltip(options.description || '');\n    });\n\n    retElem.addEventListener('mouseout', () => {\n      elementSetTooltip('');\n    });\n  }\n\n  BaseSubscreen.currentElements.push([retElem, options as Checkbox]);\n\n  return retElem;\n}\n\nfunction elementCreateCustom(options: Omit<Custom, 'type'>) {\n  const elem = document.getElementById(options.id);\n\n  if (elem) return elem;\n\n  (options as Custom).type = 'custom';\n\n  const retElem = ElementCreate(options.htmlOptions);\n\n  BaseSubscreen.currentElements.push([retElem, options as Custom]);\n\n  return retElem;\n}\n\nfunction elementCreateInput(options: Input) {\n  const elem = document.getElementById(options.id);\n\n  if (elem) return elem;\n\n  const disabled = typeof options?.disabled === 'function' ? options?.disabled() : options?.disabled;\n\n  const retElem = ElementCreate({\n    tag: 'div',\n    classList: ['deeplib-input-container'],\n    attributes: {\n      id: `${options.id}-container`,\n    },\n    children: [\n      deepMerge({\n        tag: 'input',\n        classList: ['deeplib-input'],\n        attributes: {\n          type: options.type,\n          id: options.id,\n          placeholder: ' ',\n          disabled: disabled,\n          value: options?.setElementValue?.() || undefined,\n        },\n      }, options.htmlOptions),\n      options.label ? {\n        tag: 'label',\n        classList: ['deeplib-text'],\n        attributes: {\n          for: options.id,\n        },\n        children: [options.label]\n      } : undefined,\n    ],\n    eventListeners: {\n      input: () => {\n        options?.setSettingValue?.((document.getElementById(options.id) as HTMLInputElement)?.value);\n      }\n    }\n  });\n\n  if (options.description) {\n    retElem.addEventListener('mouseover', () => {\n      elementSetTooltip(options.description || '');\n    });\n\n    retElem.addEventListener('mouseout', () => {\n      elementSetTooltip('');\n    });\n  }\n\n  BaseSubscreen.currentElements.push([retElem, options]);\n\n  return retElem;\n}\n\nfunction elementCreateLabel(options: Omit<Label, 'type'>) {\n  const elem = document.getElementById(options.id);\n\n  if (elem) return elem;\n\n  (options as Label).type = 'label';\n\n  const retElem = ElementCreate(deepMerge({\n    tag: 'span',\n    classList: ['deeplib-label', 'deeplib-text'],\n    attributes: {\n      id: options.id\n    },\n    children: [\n      options.label,\n    ],\n  }, options.htmlOptions));\n\n  if (options.description) {\n    retElem.addEventListener('mouseover', () => {\n      elementSetTooltip(options.description || '');\n    });\n\n    retElem.addEventListener('mouseout', () => {\n      elementSetTooltip('');\n    });\n  }\n\n  BaseSubscreen.currentElements.push([retElem, options as Label]);\n\n  return retElem;\n}\n\nfunction elementCreateTooltip() {\n  const element = ElementCreate({\n    tag: 'div',\n    classList: ['deeplib-tooltip'],\n    attributes: {\n      id: 'deeplib-tooltip'\n    },\n    style: {\n      display: 'none'\n    }\n  });\n\n  return element;\n}\n\nfunction elementGetTooltip() {\n  return document.getElementById('deeplib-tooltip') ?? undefined;\n}\n\nfunction elementSetTooltip(text: string) {\n  const element = document.getElementById('deeplib-tooltip');\n\n  if (!element) return false;\n\n  element.innerHTML = text;\n  if (text === '') element.style.display = 'none';\n  else element.style.display = '';\n\n  return true;\n}\n\ninterface PrevNext {\n  id: string,\n  initialLabel?: string\n  back: (arg0: PrevNextCallbacks) => void,\n  initialPrevTooltip?: string,\n  next: (arg0: PrevNextCallbacks) => void,\n  initialNextTooltip?: string\n};\n\ninterface PrevNextCallbacks {\n  setLabel: (label: string) => void,\n  setBackTooltip: (tooltip: string) => void,\n  setNextTooltip: (tooltip: string) => void\n}\n\nfunction elementPrevNext(options: PrevNext) {\n  const elem = document.getElementById(options.id);\n\n  if (elem) return elem;\n\n  const setLabel = (label: string) => {\n    const elem = document.getElementById(`${options.id}-label`);\n    if (!elem) return false;\n    elem.textContent = label;\n  };\n\n  const setPrevTooltip = (tooltip: string) => {\n    const elem = document.getElementById(`deeplib-prev-next-${options.id}-prev-button-tooltip`);\n    if (!elem) return false;\n    elem.textContent = tooltip;\n  };\n\n  const setNextTooltip = (tooltip: string) => {\n    const elem = document.getElementById(`deeplib-prev-next-${options.id}-next-button-tooltip`);\n    if (!elem) return false;\n    elem.textContent = tooltip;\n  };\n\n  const retElem = ElementCreate({\n    tag: 'div',\n    classList: ['deeplib-prev-next'],\n    attributes: {\n      id: options.id\n    },\n    children: [\n      advElement.createButton({\n        id: `deeplib-prev-next-${options.id}-prev-button`,\n        onClick: () => {\n          options.back({\n            setLabel: setLabel,\n            setBackTooltip: setPrevTooltip,\n            setNextTooltip: setNextTooltip,\n          });\n        },\n        htmlOptions: {\n          button: {\n            classList: ['deeplib-prev-next-button']\n          }\n        },\n        options: {\n          noStyling: true,\n          image: `${PUBLIC_URL}/dl_images/arrow_left.svg`,\n          tooltip: options.initialPrevTooltip,\n        }\n      }),\n      advElement.createLabel({\n        id: `${options.id}-label`,\n        label: options.initialLabel,\n        htmlOptions: {\n          classList: ['deeplib-prev-next-label']\n        }\n      }),\n      advElement.createButton({\n        id: `deeplib-prev-next-${options.id}-next-button`,\n        onClick: () => {\n          options.next({\n            setLabel: setLabel,\n            setBackTooltip: setPrevTooltip,\n            setNextTooltip: setNextTooltip,\n          });\n        },\n        htmlOptions: {\n          button: {\n            classList: ['deeplib-prev-next-button']\n          }\n        },\n        options: {\n          noStyling: true,\n          image: `${PUBLIC_URL}/dl_images/arrow_right.svg`,\n          tooltip: options.initialNextTooltip,\n        }\n      }),\n    ]\n  });\n\n  return retElem;\n}\n\nexport type ModalButton<T extends string = string> = {\n  /** Button label text. */\n  text: string\n  /** Action identifier returned when the button is clicked. */\n  action: T\n  /** Whether the button is disabled. */\n  disabled?: boolean\n};\n\nexport type ModalInputOptions = {\n  /** Default input value. */\n  defaultValue?: string\n  /** Makes the input read-only if true. */\n  readOnly?: boolean\n  /** Placeholder text. */\n  placeholder?: string\n  /** Input type. */\n  type: 'input' | 'textarea'\n  /** Validation callback to check if the input value is valid. */\n  validate?: (value: string) => string | null\n};\n\nexport type ModalOptions<T extends string = string> = {\n  /** Content or DOM node displayed in the modal header. */\n  prompt: ElementButton.StaticNode\n  /** Optional input configuration. */\n  input?: ModalInputOptions\n  /** Buttons to display in the modal. */\n  buttons?: ModalButton<T>[]\n  /** Whether clicking backdrop closes the modal (default: true). */\n  closeOnBackdrop?: boolean\n  /** Auto-close timeout in milliseconds. */\n  timeoutMs?: number\n  /** Action sent when Escape key is pressed. */\n  escapeAction?: T\n  /** Action sent when Enter key is pressed. */\n  enterAction?: T\n};\n\n/**\n * Modal dialog implementation with queuing, buttons, optional input, and focus trapping.\n * Multiple modals are queued to ensure only one is visible at a time.\n */\nexport class Modal<T extends string = string> {\n  private dialog: HTMLDialogElement;\n  private blocker: HTMLDivElement;\n  private inputEl?: HTMLInputElement | HTMLTextAreaElement;\n  private timeoutId?: number;\n\n  /** Static modal queue. */\n  private static queue: Modal<any>[] = [];\n  /** Flag to indicate if a modal is currently being shown. */\n  private static processing = false;\n\n  constructor(private opts: ModalOptions<T>) {\n    opts ??= {} as ModalOptions<T>;\n    opts.closeOnBackdrop ??= true;\n\n    const promptId = `modal-prompt-${Date.now()}`;\n\n    const prompt = (CommonIsArray(opts.prompt) ? opts.prompt : [opts.prompt]).filter(i => i != null) ?? [''];\n\n    this.dialog = ElementCreate({\n      tag: 'dialog',\n      classList: ['deeplib-modal'],\n      attributes: {\n        role: 'dialog',\n        'aria-modal': 'true',\n        'aria-labelledby': promptId\n      },\n      style: {\n        fontFamily: CommonGetFontName()\n      },\n      children: [\n        { \n          tag: 'div',\n          classList: ['deeplib-modal-prompt-container'],\n          children: [\n            ...prompt,\n          ]\n        },\n        {\n          tag: 'div',\n          classList: ['deeplib-modal-prompt'],\n          attributes: {\n            id: promptId\n          },\n          children: [\n            opts.input ? this.renderInput(opts.input) : undefined,\n          ]\n        },\n        this.renderButtons()\n      ]\n    });\n\n    this.blocker = this.createBlocker();\n\n    this.renderButtons();\n    document.body.append(this.createBlocker(), this.dialog);\n    this.setupFocusTrap();\n    if (opts.timeoutMs) {\n      this.timeoutId = window.setTimeout(() => this.close('timeout' as T), opts.timeoutMs);\n    }\n  }\n\n  /**\n   * Displays the modal and resolves with the chosen action and input value.\n   */\n  show(): Promise<[T, string | null]> {\n    return Modal.enqueue(this);\n  }\n\n  /**\n   * Shows a simple alert modal with a single \"OK\" button.\n   */\n  static async alert(msg: ElementButton.StaticNode, timeoutMs?: number) {\n    await new Modal({\n      prompt: msg,\n      buttons: [{ action: 'close', text: getText('modal.button.ok') }],\n      timeoutMs,\n      escapeAction: 'close',\n    }).show();\n  }\n\n  /**\n   * Shows a confirmation modal with \"Cancel\" and \"OK\" buttons.\n   * Returns true if \"OK\" is clicked.\n   */\n  static async confirm(msg: ElementButton.StaticNode) {\n    const [action] = await new Modal({\n      prompt: msg,\n      buttons: [{ text: getText('modal.button.decline'), action: 'decline' }, { text: getText('modal.button.confirm'), action: 'confirm' }],\n      escapeAction: 'decline',\n      enterAction: 'confirm' \n    }).show();\n    return action === 'confirm';\n  }\n\n  /**\n   * Shows a prompt modal with an input field and \"Submit\"/\"Cancel\" buttons.\n   * Returns the input value if submitted, otherwise null.\n   */\n  static async prompt(msg: ElementButton.StaticNode, defaultValue = ''): Promise<string | null> {\n    const [action, value] = await new Modal({ \n      prompt: msg,\n      timeoutMs: 0,\n      input: { type: 'input', defaultValue },\n      buttons: [{ text: getText('modal.button.cancel'), action: 'cancel' }, { text: getText('modal.button.submit'), action: 'submit' }],\n      escapeAction: 'cancel',\n      enterAction: 'submit' \n    }).show();\n    return action === 'submit' ? value : null;\n  }\n\n  /** Creates the input element for the modal, applying configuration and validation. */\n  private renderInput(cfg: ModalInputOptions) {\n    const el = document.createElement(cfg.type);\n    el.classList.add('deeplib-modal-input');\n    if (cfg.placeholder) el.placeholder = cfg.placeholder;\n    if (cfg.readOnly) el.readOnly = true;\n    if (cfg.defaultValue) el.value = cfg.defaultValue;\n    if (cfg.type === 'textarea') (el as HTMLTextAreaElement).rows = 5;\n    el.addEventListener('input', () => {\n      const err = cfg.validate?.(el.value);\n      el.setCustomValidity(err || '');\n    });\n    this.inputEl = el;\n\n    return el;\n  }\n\n  /** Creates modal action buttons from configuration. */\n  private renderButtons() {\n    const container = document.createElement('div');\n    container.classList.add('deeplib-modal-button-container');\n\n    const btns = this.opts.buttons ? [...this.opts.buttons] : [];\n\n    btns.forEach(b => {\n      const btn = advElement.createButton({\n        id: `deeplib-modal-${b.action}`,\n        onClick: () => this.close(b.action),\n        options: {\n          disabled: b.disabled,\n          label: b.text,\n        }\n      });\n      container.append(btn);\n    });\n\n    return container;\n  }\n\n  /** Creates the modal backdrop blocker with optional click-to-close behavior. */\n  private createBlocker() {\n    const blocker = document.createElement('div');\n    blocker.classList.add('deeplib-modal-blocker');\n    blocker.title = 'Click to close';\n    if (this.opts.closeOnBackdrop !== false)\n      blocker.addEventListener('click', () => this.close('close' as T));\n\n    return blocker;\n  }\n\n  /** Implements a focus trap to keep keyboard navigation inside the modal. */\n  private setupFocusTrap() {\n    const focusable = 'button, [href], input, textarea, select, [tabindex]:not([tabindex=\"-1\"])';\n    const elements = Array.from(this.dialog.querySelectorAll<HTMLElement>(focusable));\n    const first = elements[0];\n    const last = elements[elements.length - 1];\n    this.dialog.addEventListener('keydown', e => {\n      if (e.key === 'Tab') {\n        if (elements.length === 0) {\n          e.preventDefault();\n          return;\n        }\n        if (e.shiftKey) {\n          if (document.activeElement === first) {\n            last.focus();\n            e.preventDefault();\n          }\n        } else {\n          if (document.activeElement === last) {\n            first.focus();\n            e.preventDefault();\n          }\n        }\n      } else if (e.key === 'Escape') {\n        e.stopPropagation();\n        this.close((this.opts.escapeAction ?? 'close') as T);\n      } else if (e.key === 'Enter') {\n        if (elements.some(el => el === document.activeElement) && document.activeElement !== this.inputEl) return;\n        e.preventDefault();\n        e.stopPropagation();\n        this.close((this.opts.enterAction ?? 'submit') as T);\n      }\n    });\n    window.requestAnimationFrame(() => {\n      (this.inputEl || first)?.focus();\n    });\n  }\n\n  /** Closes the modal, cleans up DOM, resolves promise, and shows next queued modal. */\n  private close(action: T) {\n    if (this.timeoutId) clearTimeout(this.timeoutId);\n    this.dialog.close();\n    this.dialog.remove();\n    this.blocker.remove();\n    document.body.querySelector('.deeplib-modal-blocker')?.remove();\n    const value = this.inputEl?.value ?? '';\n    this.resolve([action, value]);\n    Modal.dequeue();\n  }\n\n  /**\n   * An internal function where we will save promise function.\n   */\n  private resolve: (result: [T, string]) => void = () => { };\n\n  /** A function that adds a modal to the queue and returns a promise */\n  private static enqueue(modal: Modal<any>): Promise<[any, string]> {\n    Modal.queue.push(modal);\n    if (!Modal.processing) Modal.dequeue();\n    return new Promise(resolve => (modal.resolve = resolve));\n  }\n\n  /** A function that processes the queue, removing the first modal */\n  private static dequeue() {\n    const modal = Modal.queue.shift();\n    if (modal) {\n      Modal.processing = true;\n      modal.dialog.show();\n    } else {\n      Modal.processing = false;\n    }\n  }\n}\n", "\nimport { BaseSubscreen, byteToKB, getText, GUI, GuiDebug, layout, ModStorage, setSubscreen, SubscreenOptions } from '../deeplib';\nimport { advElement } from '../utilities/elements/elements';\nimport { GuiImportExport } from './import_export';\n\n/**\n * Configuration options for the main menu.\n * \n * If these are defined, new button for each option will be added to the main menu.\n */\nexport type MainMenuOptions = {\n  /**\n   * Optional URL to the project's repository.\n   * Example: \"https://github.com/user/project\"\n   */\n  repoLink?: string;\n\n  /**\n   * Optional URL to the project's wiki or documentation.\n   * Example: \"https://github.com/user/project/wiki\"\n   */\n  wikiLink?: string;\n\n  /**\n   * Optional subscreen to use for the \"reset\" action.\n   */\n  resetSubscreen?: BaseSubscreen;\n\n  /**\n   * Optional subscreen for import/export functionality.\n   * Provides tools to import or export data to or from the mod.\n   */\n  importExportSubscreen?: GuiImportExport;\n\n  /**\n   * Optional boolean flag to enable the mod storage fullness indicator.\n   */\n  storageFullnessIndicator?: boolean;\n};\n\nexport class MainMenu extends BaseSubscreen {\n  subscreens: BaseSubscreen[] = [];\n\n  private static options: MainMenuOptions = {};\n\n  protected static override subscreenOptions: SubscreenOptions = {\n    name: 'mainmenu',\n  };\n\n  constructor(module: GUI) {\n    super(module);\n\n    this.subscreens = module.subscreens;\n  }\n\n  load(): void {\n    if (!GUI.instance || CurrentModule as string !== 'DeepLibMod') {\n      this.setSubscreen(this);\n      return;\n    }\n\n    super.load();\n\n    const exitButton = advElement.createButton({\n      id: 'exit',\n      size: [90, 90],\n      onClick: () => {\n        this.exit();\n      },\n      options: {\n        image: `${PUBLIC_URL}/dl_images/exit.svg`,\n        tooltip: getText('settings.button.back_button_hint')\n      }\n    });\n\n    const menu = document.getElementById('deeplib-nav-menu');\n    if (menu) {\n      ElementMenu.AppendButton(menu, exitButton);\n    }\n\n    for (const screen of this.subscreens) {\n\n      if (screen.options.name == 'mainmenu') continue;\n\n      const button = advElement.createButton({\n        id: `${screen.options.name}-button`,\n        onClick: () => {\n          this.setSubscreen(screen);\n        },\n        size: [null, 90],\n        options: {\n          image: screen.options.icon,\n          label: getText(`mainmenu.button.${screen.options.name}`),\n        }\n      });\n\n      layout.appendToSettingsDiv(button);\n    }\n\n    const miscDiv = layout.getMiscDiv();\n    layout.appendToSubscreen(miscDiv);\n\n    if (MainMenu.options.wikiLink) {\n      const wikiButton = advElement.createButton({\n        id: 'deeplib-wiki-button',\n        onClick: () => {\n          window.open(MainMenu.options.wikiLink, '_blank');\n        },\n        size: [null, 80],\n        options: {\n          image: `${PUBLIC_URL}/dl_images/notebook.svg`,\n          label: getText('mainmenu.button.wiki'),\n        }\n      });\n      layout.appendToMiscDiv(wikiButton);\n    }\n\n    if (MainMenu.options.repoLink) {\n      const repoButton = advElement.createButton({\n        id: 'deeplib-repo-button',\n        onClick: () => {\n          window.open(MainMenu.options.repoLink, '_blank');\n        },\n        size: [null, 80],\n        options: {\n          image: `${PUBLIC_URL}/dl_images/git.svg`,\n          label: getText('mainmenu.button.repo'),\n        }\n      });\n      layout.appendToMiscDiv(repoButton);\n    }\n\n    if (MainMenu.options.resetSubscreen) {\n      const resetButton = advElement.createButton({\n        id: 'deeplib-reset-button',\n        onClick: () => {\n          this.setSubscreen(MainMenu.options.resetSubscreen!);\n        },\n        size: [null, 80],\n        options: {\n          image: `${PUBLIC_URL}/dl_images/trash_bin.svg`,\n          label: getText('mainmenu.button.reset'),\n        }\n      });\n      layout.appendToMiscDiv(resetButton);\n    }\n\n    if (MainMenu.options.importExportSubscreen) {\n      const importExportButton = advElement.createButton({\n        id: 'deeplib-import-export-button',\n        onClick: () => {\n          this.setSubscreen(MainMenu.options.importExportSubscreen!);\n        },\n        size: [null, 80],\n        options: {\n          image: `${PUBLIC_URL}/dl_images/transfer.svg`,\n          label: getText('mainmenu.button.import_export'),\n        }\n      });\n      layout.appendToMiscDiv(importExportButton);\n    }\n\n    if (MainMenu.options.storageFullnessIndicator) {\n      const maxStorageCapacityKB = 180;\n      const currentStorageCapacityKB = byteToKB(ModStorage.measureSize(Player.OnlineSettings));\n      const fullness = (currentStorageCapacityKB / maxStorageCapacityKB * 100).toFixed(1);\n\n      const storageFullnessWrapper = advElement.createButton({\n        id: CommonGenerateUniqueID(),\n        size: [null, 80],\n        options: {\n          tooltipPosition: 'left',\n          noStyling: true,\n          tooltip: CommonStringPartitionReplace(getText('mainmenu.meter.storage_hint'), {\n            $percentage$: `${fullness}`\n          }).join(''),\n          label: CommonStringPartitionReplace(getText('mainmenu.meter.storage_label'), {\n            $currentCapacity$: `${currentStorageCapacityKB}`,\n            $maxCapacity$: `${maxStorageCapacityKB}`,\n          }).join(''),\n        },\n        htmlOptions: {\n          button: {\n            children: [\n              {\n                tag: 'div',\n                attributes: { id: 'deeplib-storage-meter' },\n                children: [\n                  {\n                    tag: 'div',\n                    attributes: { id: 'deeplib-storage-bar' },\n                    style: { width: `${fullness}%` },\n                  },\n                ]\n              }\n            ]\n          }\n        }\n      });\n      layout.appendToMiscDiv(storageFullnessWrapper);\n    }\n\n    if (IS_DEBUG) {\n      const debugButton = advElement.createButton({\n        id: 'deeplib-debug-button',\n        onClick: () => {\n          this.setSubscreen(new GuiDebug());\n        },\n        size: [90, 90],\n        options: {\n          image: `${PUBLIC_URL}/dl_images/bug.svg`,\n        }\n      });\n      if (menu) {\n        ElementMenu.PrependItem(menu, debugButton);\n      }\n    }\n  }\n\n  run() {\n    super.run();\n  }\n\n  click() { }\n\n  exit(): void {\n    CharacterAppearanceForceUpCharacter = -1;\n    CharacterLoadCanvas(Player);\n\n    const returnScreen = typeof this.options.returnScreen === 'function' ? this.options.returnScreen() : this.options.returnScreen;\n\n    if (!returnScreen) {\n      PreferenceOpenSubscreen('Extensions').then(() => {\n        PreferenceSubscreenExtensionsClear();\n      });\n    } else if (returnScreen instanceof BaseSubscreen) {\n      setSubscreen(returnScreen ?? null).then(() => {\n      });\n    } else if (Array.isArray(returnScreen)) {\n      CommonSetScreen(...returnScreen);\n    }\n  }\n\n  resize(): void {\n    super.resize();\n    ElementSetPosition('deeplib-misc', 1905, 930, 'bottom-right');\n    ElementSetSize('deeplib-misc', 405, null);\n  }\n\n  static setOptions(mainMenuOptions: MainMenuOptions) {\n    MainMenu.options = mainMenuOptions;\n  }\n}\n\n/**\n * Open a specific subscreen. \n */\n// TODO - Remove after R120. \nasync function PreferenceOpenSubscreen(subscreen: PreferenceSubscreenName, page: number = 1) {\n  if (CurrentModule !== 'Character' || CurrentScreen !== 'Preference') {\n    await CommonSetScreen('Character', 'Preference');\n  }\n  PreferenceSubscreen?.unload?.();\n\n  PreferenceSubscreen = PreferenceSubscreens.find(s => s.name === subscreen) ?? null;\n  if (!CommonIsNonNegativeInteger(page)) page = 1;\n  PreferencePageCurrent = page;\n  PreferenceMessage = '';\n  PreferenceSubscreen?.load?.();\n}", "\nimport { BaseSubscreen, ModSdkManager, getText, layout, SettingsModel, modStorage, deepLibLogger, SubscreenOptions } from '../deeplib';\nimport { advElement, Modal } from '../utilities/elements/elements';\n\n/**\n * Configuration options for the {@link GuiImportExport} class.\n */\nexport type ImportExportOptions = {\n  /** \n   * A custom save file extension (e.g., \".mydata\"). \n   * If it doesn't start with a dot, it will be automatically prefixed.\n   */\n  customFileExtension: string;\n\n  /** Optional callback invoked after data has been successfully imported. */\n  onImport?: () => void;\n\n  /** Optional callback invoked after data has been successfully exported. */\n  onExport?: () => void;\n};\n\n/**\n * Possible data transfer methods for import/export operations.\n * - `clipboard`: Uses the system clipboard.\n * - `file`: Uses file save/load dialogs.\n */\ntype DataTransferMethod = 'clipboard' | 'file';\n\n/**\n * GUI screen for importing and exporting mod data.\n * Provides buttons to import/export data either via file or clipboard.\n */\nexport class GuiImportExport extends BaseSubscreen {\n  private importExportOptions: ImportExportOptions;\n\n  static override subscreenOptions: SubscreenOptions = {\n    name: 'import-export',\n  };\n\n  constructor(importExportOptions: ImportExportOptions) {\n    super();\n    this.importExportOptions = importExportOptions;\n  }\n\n  load(): void {\n\n    super.load();\n\n    const importFromFileButton = advElement.createButton({\n      id: 'deeplib-import-file-button',\n      size: [600, 90],\n      onClick: () => {\n        this.dataImport('file');\n      },\n      options: {\n        image: `${PUBLIC_URL}/dl_images/file_import.svg`,\n        label: getText('import-export.button.import_file')\n      }\n    });\n    layout.appendToSettingsDiv(importFromFileButton);\n\n    const exportToFileButton = advElement.createButton({\n      id: 'deeplib-export-file-button',\n      size: [600, 90],\n      onClick: () => {\n        this.dataExport('file');\n      },\n      options: {\n        image: `${PUBLIC_URL}/dl_images/file_export.svg`,\n        label: getText('import-export.button.export_file')\n      }\n    });\n    layout.appendToSettingsDiv(exportToFileButton);\n\n    const importFromClipboardButton = advElement.createButton({\n      id: 'deeplib-import-clipboard-button',\n      size: [600, 90],\n      onClick: () => {\n        this.dataImport('clipboard');\n      },\n      options: {\n        image: `${PUBLIC_URL}/dl_images/clipboard_import.svg`,\n        label: getText('import-export.button.import_clipboard')\n      }\n    });\n    layout.appendToSettingsDiv(importFromClipboardButton);\n\n    const exportToClipboardButton = advElement.createButton({\n      id: 'deeplib-export-clipboard-button',\n      size: [600, 90],\n      onClick: () => {\n        this.dataExport('clipboard');\n      },\n      options: {\n        image: `${PUBLIC_URL}/dl_images/clipboard_export.svg`,\n        label: getText('import-export.button.export_clipboard')\n      }\n    });\n    layout.appendToSettingsDiv(exportToClipboardButton);\n  }\n\n  resize(): void {\n    super.resize();\n  }\n\n  /** Exports the mod data using the specified method. */\n  async dataExport(transferMethod: DataTransferMethod) {\n    try {\n      const data = LZString.compressToBase64(JSON.stringify(modStorage.playerStorage));\n\n      if (transferMethod === 'clipboard') {\n        await this.exportToClipboard(data);\n      } else if (transferMethod === 'file') {\n        await this.exportToFile(data, 'themed_settings');\n      }\n\n      this.importExportOptions.onExport?.();\n      ToastManager.success('Data exported successfully.');\n    } catch (error) {\n      ToastManager.error('Data export failed.');\n      deepLibLogger.error(`Data export failed for ${ModSdkManager.ModInfo.name}.`, error,);\n    }\n  }\n\n  /** Imports mod data using the specified method. */\n  async dataImport(transferMethod: DataTransferMethod) {\n    try {\n      let importedData: string | null = '';\n\n      if (transferMethod === 'clipboard') {\n        importedData = await this.importFromClipboard() ?? null;\n      } else if (transferMethod === 'file') {\n        importedData = await this.importFromFile() ?? null;\n      }\n\n      if (!importedData) {\n        throw new Error('No data imported.');\n      }\n\n      const data = JSON.parse(LZString.decompressFromBase64(importedData) ?? '') as SettingsModel;\n\n      if (!data) {\n        throw new Error('Invalid data.');\n      }\n\n      modStorage.playerStorage = data;\n      this.importExportOptions.onImport?.();\n      ToastManager.success('Data imported successfully.');\n    } catch (error) {\n      ToastManager.error('Data import failed.');\n      deepLibLogger.error(`Data import failed for ${ModSdkManager.ModInfo.name}.`, error,);\n    }\n  }\n\n  /** Saves data to a file using the browser's save dialog. */\n  async exportToFile(data: string, defaultFileName: string): Promise<void> {\n    const CUSTOM_EXTENSION = this.importExportOptions.customFileExtension.startsWith('.')\n      ? this.importExportOptions.customFileExtension\n      : '.' + this.importExportOptions.customFileExtension;\n\n    const suggestedName = defaultFileName.endsWith(CUSTOM_EXTENSION)\n      ? defaultFileName\n      : defaultFileName + CUSTOM_EXTENSION;\n\n    if ('showSaveFilePicker' in window) {\n      try {\n        const handle = await (window as any).showSaveFilePicker({\n          suggestedName: suggestedName,\n          types: [\n            {\n              description: 'Custom Data Files',\n              accept: { 'text/plain': [CUSTOM_EXTENSION] },\n            },\n          ],\n        });\n        const writable = await handle.createWritable();\n        await writable.write(data);\n        await writable.close();\n      } catch (error: any) {\n        throw new Error('File save cancelled or failed: ' + error.message);\n      }\n    } else {\n      const fileName = await Modal.prompt('Enter file name', suggestedName);\n\n      if (fileName === null) {\n        return;\n      } else if (fileName === '') {\n        throw new Error('File name cannot be empty.');\n      }\n\n      const blob = new Blob([data], { type: 'text/plain' });\n      const link = ElementCreate({\n        tag: 'a',\n        attributes: {\n          href: URL.createObjectURL(blob),\n          download: fileName.endsWith(CUSTOM_EXTENSION) ? fileName : fileName + CUSTOM_EXTENSION\n        },\n      });\n\n      link.click();\n      URL.revokeObjectURL(link.href);\n    }\n  }\n\n  /** Opens a file picker and reads the selected file's contents, importing the data. */\n  async importFromFile(): Promise<string | null> {\n    const CUSTOM_EXTENSION = this.importExportOptions.customFileExtension.startsWith('.')\n      ? this.importExportOptions.customFileExtension\n      : '.' + this.importExportOptions.customFileExtension;\n\n    async function importFromFileInternal(file: File): Promise<string | null> {\n      if (!file.name.endsWith(CUSTOM_EXTENSION)) {\n        throw new Error(`Invalid file type. Expected a ${CUSTOM_EXTENSION} file.`);\n      }\n\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result as string);\n        reader.onerror = () => reject(new Error('Failed to read file.'));\n        reader.readAsText(file);\n      });\n    }\n\n    if ('showOpenFilePicker' in window) {\n      try {\n        const [fileHandle] = await (window as any).showOpenFilePicker({\n          types: [\n            {\n              description: 'Custom Data Files',\n              accept: { 'text/plain': [CUSTOM_EXTENSION] },\n            },\n          ],\n          multiple: false,\n        });\n        const file = await fileHandle.getFile();\n        return await importFromFileInternal(file);\n      } catch (error: any) {\n        throw new Error('File selection cancelled or failed: ' + error.message);\n      }\n    } else {\n      return new Promise((resolve, reject) => {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.accept = CUSTOM_EXTENSION;\n        input.onchange = async (event) => {\n          const file = (event.target as HTMLInputElement).files?.[0];\n          if (file) {\n            try {\n              const data = await importFromFileInternal(file);\n              resolve(data);\n            } catch (error) {\n              reject(error);\n            }\n          } else {\n            reject(new Error('No file selected.'));\n          }\n        };\n        input.click();\n      });\n    }\n  }\n\n  /** Copies the given data to the clipboard. */\n  async exportToClipboard(data: string): Promise<void> {\n    return navigator.clipboard.writeText(data).catch((error) => {\n      throw new Error('Failed to copy data to clipboard.' + error);\n    });\n  }\n\n  /** Prompts the user to enter data and returns it. */\n  async importFromClipboard(): Promise<string | null> {\n    return Modal.prompt('Enter data to import').catch((error) => {\n      throw new Error('Failed to read data from clipboard.' + error);\n    });\n  }\n}\n", "import { SettingsModel, deepLibLogger } from '../deeplib';\n\n/**\n * ModStorage is a singleton class responsible for managing\n * mod-specific persistent storage both in player settings\n * and in browser localStorage.\n *\n * It provides methods to load and save mod data compressed\n * as base64 strings, and exposes typed accessors for\n * playerStorage and extensionStorage.\n */\nexport class ModStorage<T extends SettingsModel = SettingsModel> {\n  /** Singleton instance of ModStorage */\n  private static _instance: ModStorage | null = null;\n  /** The unique mod identifier used as key prefix in storage */\n  private modName: string;\n\n  constructor(modName: string) {\n    if (!ModStorage._instance) {\n      ModStorage._instance = this;\n      this.modName = modName;\n    }\n    this.modName ??= modName;\n\n    return ModStorage._instance as ModStorage<T>;\n  }\n\n  get playerStorage(): T {\n    return Player[this.modName];\n  }\n\n  set playerStorage(value: T) {\n    Player[this.modName] = value;\n  }\n\n  get extensionStorage(): string {\n    return Player.ExtensionSettings[this.modName];\n  }\n\n  set extensionStorage(value: string) {\n    Player.ExtensionSettings[this.modName] = value;\n  }\n\n  setLocalStorage(key: string, value: object) {\n    localStorage.setItem(`${this.modName}_${key}`, ModStorage.dataCompress(value));\n  }\n\n  getLocalStorage(key: string): object | null {\n    const data = localStorage.getItem(`${this.modName}_${key}`);\n\n    if (!data) return null;\n\n    return ModStorage.dataDecompress<T>(data);\n  }\n\n  load() {\n    if (this.extensionStorage) {\n      const parsed = ModStorage.dataDecompress<T>(this.extensionStorage || '');\n      if (parsed === null || !Object.hasOwn(parsed, 'Version')) {\n        this.playerStorage = {} as T;\n      } else {\n        this.playerStorage = parsed;\n      };\n    } else {\n      this.playerStorage = {} as T;\n    }\n  }\n\n  save() {\n    if (!this.extensionStorage) this.extensionStorage = '';\n    this.extensionStorage = ModStorage.dataCompress(this.playerStorage);\n    ServerPlayerExtensionSettingsSync(this.modName);\n  }\n\n  static dataDecompress<T = object>(string: string): T | null {\n    const d = LZString.decompressFromBase64(string as string);\n    let data: T | null = null;\n\n    try {\n      const decoded: T = JSON.parse(d as string);\n      data = decoded;\n    } catch (error) {\n      deepLibLogger.error(error);\n    }\n\n    return data;\n  }\n\n  static dataCompress(object: object) {\n    return LZString.compressToBase64(JSON.stringify(object));\n  }\n\n  static measureSize(data: unknown): number {\n    try {\n      if (typeof data !== 'string') {\n        data = JSON.stringify(data) || '';\n      }\n      \n      if (typeof data === 'string') {\n        return (new TextEncoder()).encode(data).byteLength;\n      }\n\n      throw new Error();\n    } catch {\n      return NaN;\n    }\n  }\n}\n", "import { SettingElement } from '../../base/elements_typings';\n\nexport const domUtil = {\n  /**\n   * Automatically sets the position of the element based on the given position.\n   * The position can be either a [x, y] tuple or a function returning such a tuple.\n   * If both x and y are defined, the element's position is updated accordingly.\n   */\n  autoSetPosition: autoSetPosition,\n\n  /**\n   * Automatically sets the size of the element based on the given size.\n   * The size can be either a [width, height] tuple or a function returning such a tuple.\n   * If both width and height are defined, the element's size is updated accordingly.\n   */\n  autoSetSize: autoSetSize,\n\n  /**\n   * Hides the element by setting its CSS display property to 'none'.\n   * If the element cannot be found, the function does nothing.\n   */\n  hide: hide,\n\n  /**\n   * Unhides the element by clearing its CSS display property (sets it to '').\n   * If the element cannot be found, the function does nothing.\n   */\n  unhide: unhide,\n\n  /**\n   * Checks if the element has overflow content.\n   * Returns an object indicating if there is any overflow,\n   * and specifically if there is vertical or horizontal overflow.\n   * Returns null if the element is not found.\n   */\n  hasOverflow: hasOverflow\n};\n\nfunction autoSetPosition(_: ElementHelp.ElementOrId, position: SettingElement['position']) {\n  let xPos = undefined;\n  let yPos = undefined;\n\n  if (Array.isArray(position)) {\n    xPos = position[0];\n    yPos = position[1];\n  } else if (typeof position === 'function') {\n    const result = position();\n    xPos = result[0];\n    yPos = result[1];\n  }\n\n  if (xPos !== undefined && yPos !== undefined) ElementSetPosition(_, xPos, yPos);\n}\n\nfunction autoSetSize(_: ElementHelp.ElementOrId, size: SettingElement['size']) {\n  let width = undefined;\n  let height = undefined;\n  \n  if (Array.isArray(size)) {\n    width = size[0];\n    height = size[1];\n  } else if (typeof size === 'function') {\n    const result = size();\n    width = result[0];\n    height = result[1];\n  }\n        \n  if (width !== undefined && height !== undefined) ElementSetSize(_, width, height);\n}\n\nfunction hide(_: ElementHelp.ElementOrId) {\n  const element = ElementWrap(_);\n  if (!element) return;\n\n  element.style.display = 'none';\n};\n\nfunction unhide(_: ElementHelp.ElementOrId) {\n  const element = ElementWrap(_);\n  if (!element) return;\n\n  element.style.display = '';\n};\n\nfunction hasOverflow(el: ElementHelp.ElementOrId): { any: boolean, vertical: boolean, horizontal: boolean } | null {\n  const element = ElementWrap(el);\n  if (!element) return null;\n\n  const vertical = element.scrollHeight > element.clientHeight;\n  const horizontal = element.scrollWidth > element.clientWidth;\n\n  return {\n    any: vertical || horizontal,\n    vertical,\n    horizontal,\n  };\n}", "export const layout = {\n  getSubscreen: elementGetSubscreenDiv,\n  appendToSubscreen: elementAppendToSubscreenDiv,\n  removeSubscreen: elementRemoveSubscreenDiv,\n\n  getSettingsDiv: elementGetSettingsDiv,\n  appendToSettingsDiv: elementAppendToSettingsDiv,\n  removeSettingsDiv: elementRemoveSettingsDiv,\n\n  getMiscDiv: elementGetMiscDiv,\n  appendToMiscDiv: elementAppendToMiscDiv,\n  removeMiscDiv: elementRemoveMiscDiv\n};\n\nfunction elementGetSubscreenDiv() {\n  const subscreenDiv = ElementWrap('deeplib-subscreen');\n  if (subscreenDiv) {\n    return subscreenDiv;\n  }\n\n  const div = ElementCreate({\n    tag: 'div',\n    classList: ['deeplib-subscreen', 'HideOnPopup'],\n    attributes: { id: 'deeplib-subscreen' }\n  });\n\n  return document.body.appendChild(div);\n}\n\nfunction elementRemoveSubscreenDiv() {\n  return elementGetSubscreenDiv()?.remove();\n}\n\nfunction elementAppendToSubscreenDiv(...element: HTMLElement[]) {\n  return elementGetSubscreenDiv()?.append(...element);\n}\n\nfunction elementGetSettingsDiv() {\n  const settingsDiv = ElementWrap('deeplib-settings');\n  if (settingsDiv) {\n    return settingsDiv;\n  }\n\n  const div = ElementCreate({\n    tag: 'div', \n    classList: ['deeplib-settings', 'scroll-box'], \n    attributes: { id: 'deeplib-settings' } \n  });\n\n  return div;\n}\n\nfunction elementAppendToSettingsDiv(...element: HTMLElement[]) {\n  return elementGetSettingsDiv()?.append(...element);\n}\n\nfunction elementRemoveSettingsDiv() {\n  return elementGetSettingsDiv()?.remove();\n}\n\nfunction elementGetMiscDiv() {\n  const miscDiv = ElementWrap('deeplib-misc');\n  if (miscDiv) {\n    return miscDiv;\n  }\n\n  const div = ElementCreate({\n    tag: 'div', \n    classList: ['deeplib-misc'], \n    attributes: { id: 'deeplib-misc' }\n  });\n\n  return div;\n}\n\nfunction elementAppendToMiscDiv(...element: HTMLElement[]) {\n  return elementGetMiscDiv()?.append(...element);\n}\n\nfunction elementRemoveMiscDiv() {\n  return elementGetMiscDiv()?.remove();\n}\n", "type LogLevel = 'info' | 'log' | 'warn' | 'error' | 'debug';\n\ninterface LogEntry {\n  readonly args: readonly any[];\n  readonly date: Date;\n  readonly logLevel: LogLevel;\n}\n\nexport class Logger extends Array<LogEntry> {\n  private ModName: string = 'DeepLib';\n\n  constructor(modName?: string) {\n    super();\n\n    if (modName) {\n      this.ModName = modName;\n    }\n  }\n\n  private _Log(level: LogLevel, ...args: any[]): void {\n    const logEntry: LogEntry = {\n      logLevel: level,\n      args: [...args],\n      // trace: arguments.callee.caller.toString().split('\\n'), \n      date: new Date(Date.now())\n      // `[${this.ModName}] ${formattedArgs}` \n    };\n\n    const userAgent = navigator.userAgent.toLowerCase();\n    if (userAgent.includes('chrome') || userAgent.includes('firefox')) {\n      const color = Logger.colorizeLog(level);\n      args.forEach(arg => {\n        if (typeof arg === 'string') {\n          arg = `\\n%c${arg}`;\n          // args.splice(args.indexOf(arg), 1, arg, color);\n        }\n      });\n      console.log(`%c${this.ModName}:`, color, ...args);\n    } else {\n      console.log(`${this.ModName}:`, ...args);\n    }\n\n    this.push(logEntry);\n  }\n\n  info(...args: any[]): void {\n    this._Log('info', ...args);\n  }\n\n  log(...args: any[]): void {\n    this._Log('log', ...args);\n  }\n\n  warn(...args: any[]): void {\n    this._Log('warn', ...args);\n  }\n\n  error(...args: any[]): void {\n    this._Log('error', ...args);\n  }\n\n  debug(...args: any[]): void {\n    this._Log('debug', ...args);\n  }\n\n  static colorizeLog(logLevel: LogLevel): string {\n    const colors: Record<LogLevel, string> = {\n      info: 'color: #32CCCC',\n      log: 'color: #CCCC32',\n      warn: 'color: #eec355',\n      error: 'color: #750b0b',\n      debug: 'color: #9E4BCF',\n    };\n\n    return colors[logLevel];\n  }\n}\n\nexport const deepLibLogger = new Logger();\n", "export function sendLocalMessage(id: string | null, message: string, timeoutInSeconds?: number) {\n  const element = ElementCreate({\n    tag: 'div',\n    classList: ['ChatMessage', 'deeplib-message', 'ChatMessageNonDialogue'],\n    attributes: {\n      id: id ?? `DEEPLIB_LOCAL_MESSAGE_${Date.now()}`,\n      'data-time': ChatRoomCurrentTime(),\n      'data-sender': Player.MemberNumber?.toString(),\n    },\n    children: [\n      {\n        tag: 'span',\n        classList: ['deeplib-text'],\n        innerHTML: message.replaceAll('\\n\\t', ''),\n      },\n      {\n        tag: 'br',\n      },\n      {\n        tag: 'a',\n        classList: ['deeplib-text'],\n        attributes: {\n          href: '#',\n        },\n        innerHTML: '<b>Close (Click)</b>',\n        eventListeners: {\n          click: () => {\n            element.remove();\n          },\n        },\n      }\n    ]\n  });\n\n  ChatRoomAppendChat(element);\n  if (!timeoutInSeconds) return;\n  setTimeout(() => element.remove(), timeoutInSeconds * 1000);\n}\n\nexport function sendActionMessage(msg: string, target: undefined | number = undefined, dictionary: ChatMessageDictionaryEntry[] = []) {\n  if (!msg) return;\n  ServerSend('ChatRoomChat', {\n    Content: 'DEEPLIB_CUSTOM_ACTION',\n    Type: 'Action',\n    Target: target ?? undefined,\n    Dictionary: [\n      { Tag: 'MISSING TEXT IN \"Interface.csv\": DEEPLIB_CUSTOM_ACTION', Text: msg },\n      ...dictionary,\n    ],\n  });\n}\n", "import rawSdkImport from 'bondage-club-mod-sdk';\n\n// What the fuck is this?? \n// It seems that ESBuild breaks things, either when building this package or a final mod\nconst rawSdk = rawSdkImport as any;\nconst bcModSdkRef = (rawSdk.default ?? rawSdk) as ModSDKGlobalAPI;\n\n/**\n * Defines priority levels for hooking functions.\n * Hooks with higher priority are called first in hook chain.\n */\nexport const HookPriority = {\n  Observe: 0,\n  AddBehavior: 1,\n  ModifyBehavior: 5,\n  OverrideBehavior: 10,\n  Top: 100\n};\n\n/** Type alias representing module of hook? */\nexport type ModuleCategory = number | string;\n\n/**\n * Interface representing data about a patched function,\n * including the function name and all hooks applied to it.\n */\ninterface IPatchedFunctionData {\n  name: string;\n  hooks: {\n    hook: PatchHook;\n    priority: number;\n    module: ModuleCategory | null;\n    removeCallback: () => void;\n  }[];\n}\n\n/**\n * Manager class for mod SDK integration,\n * provides methods to register mods, hook functions, and manage patches.\n */\nexport class ModSdkManager {\n  private static SDK: ModSDKModAPI;\n  private static patchedFunctions: Map<string, IPatchedFunctionData> = new Map();\n\n  public static ModInfo: ModSDKModInfo;\n\n  /** Registers a mod with the SDK and stores mod information. */\n  constructor(info: ModSDKModInfo, options?: ModSDKModOptions) {\n    ModSdkManager.SDK = bcModSdkRef.registerMod(info, options);\n    ModSdkManager.ModInfo = info;\n  }\n\n  /** Retrieves or initializes patch data for a given target function. */\n  initPatchableFunction(target: string): IPatchedFunctionData {\n    let result = ModSdkManager.patchedFunctions.get(target);\n    if (!result) {\n      result = {\n        name: target,\n        hooks: []\n      };\n      ModSdkManager.patchedFunctions.set(target, result);\n    }\n    return result;\n  }\n\n  /**\n   * Hooks a function with a callback at a given priority. \n   * \n   * Prevents duplicate hooks.\n   */\n  hookFunction<TargetName extends string>(\n    target: TargetName,\n    priority: number,\n    hook: PatchHook<GetDotedPathType<typeof globalThis, TargetName>>,\n    module: ModuleCategory | null = null\n  ): () => void {\n    const data = this.initPatchableFunction(target);\n\n    if (data.hooks.some((h) => h.hook === hook)) {\n      return () => null;\n    }\n\n    const removeCallback = ModSdkManager.SDK?.hookFunction(target, priority, hook);\n\n    data.hooks.push({\n      hook,\n      priority,\n      module,\n      removeCallback\n    });\n    data.hooks.sort((a, b) => b.priority - a.priority);\n\n    return removeCallback;\n  }\n\n  /**\n   * Applies patches to a target function.\n   * \n   * **This method is DANGEROUS** to use and has high potential to conflict with other mods.\n   */\n  patchFunction(target: string, patches: Record<string, string>): void {\n    ModSdkManager.SDK?.patchFunction(target, patches);\n  }\n\n  /**\n   * Removes all patches from a target function.\n   */\n  unpatchFunction(target: string): void {\n    ModSdkManager.SDK?.removePatches(target);\n  }\n\n  /**\n   * Removes all hooks associated with a specific module from a target function.\n   */\n  removeHookByModule(target: string, module: ModuleCategory): boolean {\n    const data = this.initPatchableFunction(target);\n\n    for (let i = data.hooks.length - 1; i >= 0; i--) {\n      if (data.hooks[i].module === module) {\n        data.hooks[i].removeCallback();\n        data.hooks.splice(i, 1);\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Removes all hooks associated with a specific module across all patched functions.\n   */\n  removeAllHooksByModule(module: ModuleCategory): boolean {\n    for (const data of ModSdkManager.patchedFunctions.values()) {\n      for (let i = data.hooks.length - 1; i >= 0; i--) {\n        if (data.hooks[i].module === module) {\n          data.hooks[i].removeCallback();\n          data.hooks.splice(i, 1);\n        }\n      }\n    }\n\n    return true;\n  }\n}\n", "export const Style = {\n  /**\n   * Injects a CSS style block directly into the document head using a <style> tag.\n   * If a style element with the same `styleId` already exists, it won't inject again.\n   */\n  injectInline(styleId: string, styleSource: string) {\n    const isStyleLoaded = document.getElementById(styleId);\n\n    if (isStyleLoaded) return;\n\n    const styleElement = document.createElement('style');\n    styleElement.id = styleId;\n    styleElement.appendChild(document.createTextNode(styleSource));\n    document.head.appendChild(styleElement);\n  },\n\n  /**\n   * Injects a CSS stylesheet link into the document head using a <link> tag.\n   * If a link element with the same `styleId` already exists, it won't inject again.\n   */\n  injectEmbed(styleId: string, styleLink: string) {\n    const isStyleLoaded = document.getElementById(styleId);\n\n    if (isStyleLoaded) return;\n\n    const styleElement = document.createElement('link');\n    styleElement.id = styleId;\n    styleElement.rel = 'stylesheet';\n    styleElement.href = styleLink;\n    document.head.appendChild(styleElement);\n  },\n\n  /**\n   * Removes a style element from the document head by its ID.\n   * Does nothing if the element is not found.\n   */\n  eject(id: string) {\n    const style = document.getElementById(id);\n    if (!style) return;\n\n    style.remove();\n  },\n\n  /**\n   * Reloads an inline style by removing the existing style element (if any)\n   * and injecting the new styles inline again.\n   */\n  reload(styleId: string, styleSource: string) {\n    Style.eject(styleId);\n    Style.injectInline(styleId, styleSource);\n  },\n\n  /** Fetches the text content of a stylesheet or any resource at the given link. */\n  async fetch(link: string) {\n    return fetch(link).then((res) => res.text());\n  }\n};\n", "/**\n * A dictionary type representing translations,\n * where keys are source tags and values are translated strings.\n */\ntype TranslationDict = {\n  [key: string]: string;\n};\n\n/**\n * Options for initializing the Localization system.\n */\nexport interface TranslationOptions {\n  /** The path to the folder where the translations are stored. */\n  pathToTranslationsFolder?: string;\n  /** The default language to use. */\n  defaultLanguage?: string;\n  /** If true, the localization will be fixed to the default language, ignoring user language settings. */\n  fixedLanguage?: boolean;\n}\n\n/**\n * Localization class handles loading and retrieving translation strings\n * from library and mod-specific language files.\n */\nexport class Localization {\n  private static LibTranslation: TranslationDict = {};\n  private static ModTranslation: TranslationDict = {};\n  private static PathToModTranslation: string | undefined;\n  private static PathToLibTranslation: string = `${PUBLIC_URL}/dl_translations/`;\n  private static DefaultLanguage: string = 'en';\n  /** Flag to prevent re-initialization */\n  private static initialized = false;\n\n  /** Initialize the localization system by loading translation files. */\n  static async init(initOptions?: TranslationOptions) {\n    if (Localization.initialized) return;\n    Localization.initialized = true;\n\n    Localization.PathToModTranslation = (() => {\n      if (!initOptions?.pathToTranslationsFolder) return undefined;\n\n      return initOptions.pathToTranslationsFolder.endsWith('/') ?\n        initOptions.pathToTranslationsFolder :\n        `${initOptions.pathToTranslationsFolder}/`;\n    })();\n\n    Localization.DefaultLanguage = initOptions?.defaultLanguage || Localization.DefaultLanguage;\n\n    const lang = initOptions?.fixedLanguage ? Localization.DefaultLanguage : TranslationLanguage.toLowerCase();\n\n    const libTranslation = await Localization.fetchLanguageFile(Localization.PathToLibTranslation, lang);\n    if (lang === Localization.DefaultLanguage) {\n      Localization.LibTranslation = libTranslation;\n    } else {\n      const fallbackTranslation = await Localization.fetchLanguageFile(Localization.PathToLibTranslation, Localization.DefaultLanguage);\n      Localization.LibTranslation = { ...fallbackTranslation, ...libTranslation };\n    }\n\n    if (!Localization.PathToModTranslation) return;\n    const modTranslation = await Localization.fetchLanguageFile(Localization.PathToModTranslation, lang);\n    if (lang === Localization.DefaultLanguage) {\n      Localization.ModTranslation = modTranslation;\n    } else {\n      const fallbackTranslation = await Localization.fetchLanguageFile(Localization.PathToModTranslation, Localization.DefaultLanguage);\n      Localization.ModTranslation = { ...fallbackTranslation, ...modTranslation };\n    }\n  }\n\n  /** Get a translated string from mod translations by source tag. */\n  static getTextMod(srcTag: string): string | undefined {\n    return Localization.ModTranslation?.[srcTag] || undefined;\n  }\n\n  /** Get a translated string from library translations by source tag. */\n  static getTextLib(srcTag: string): string | undefined {\n    return Localization.LibTranslation?.[srcTag] || undefined;\n  }\n\n  /**\n   * Fetch and parse a language file from the given base URL and language code.\n   * Falls back to default language if the requested language file is unavailable.\n   */\n  private static async fetchLanguageFile(baseUrl: string, lang: string): Promise<TranslationDict> {\n    const response = await fetch(`${baseUrl}${lang}.lang`);\n\n    if (lang !== Localization.DefaultLanguage && !response.ok) {\n      return this.fetchLanguageFile(baseUrl, Localization.DefaultLanguage);\n    }\n\n    if (!response.ok) {\n      return {};\n    }\n\n    const langFileContent = await response.text();\n\n    return this.parseLanguageFile(langFileContent);\n  }\n\n  /**\n   * Parse the raw content of a language file into a TranslationDict.\n   * Ignores empty lines and comments starting with '#'.\n   */\n  private static parseLanguageFile(content: string): TranslationDict {\n    const translations: TranslationDict = {};\n    const lines = content.split('\\n');\n\n    for (const line of lines) {\n      const trimmed = line.trim();\n      if (!trimmed || trimmed.startsWith('#')) continue;\n\n      const [key, ...rest] = trimmed.split('=');\n      translations[key.trim()] = rest.join('=').trim();\n    }\n\n    return translations;\n  }\n}\n\n/**\n * Retrieve a localized string for the given source tag.\n * First attempts to get the mod-specific translation,\n * then falls back to the library translation,\n * and if neither exist, returns the source tag itself.\n */\nexport const getText = (srcTag: string): string => {\n  return Localization.getTextMod(srcTag) || Localization.getTextLib(srcTag) || srcTag;\n};\n", "import { ModSdkManager } from './sdk';\n\ntype DeepLibMessageDictionaryEntry<Type extends string, Data> = {\n  type: Type;\n  data: Data;\n};\n\ntype Listener<Payload> = (data: Payload, sender: Character) => void;\n\nexport interface UnverifiedMessage extends ServerChatRoomMessageBase {\n  Target?: number;\n  Content: ServerChatRoomMessageContentType;\n  Type: ServerChatRoomMessageType;\n  Dictionary?: {\n    type: string;\n    data?: any;\n  }[];\n  Timeout?: number;\n}\n\nexport interface EventChannelMessage<\n  TEvents extends Record<string, unknown> = Record<string, unknown>,\n  TEvent extends keyof TEvents & string = keyof TEvents & string\n> extends ServerChatRoomMessageBase {\n  Target?: number;\n  Content: string;\n  Type: 'Hidden';\n  Dictionary: [\n    DeepLibMessageDictionaryEntry<TEvent, TEvents[TEvent]>\n  ];\n  Timeout?: number;\n  Sender: number;\n}\n\nexport class EventChannel<TEvents extends Record<string, unknown>, TChannelName extends string> {\n  private listeners: { [K in keyof TEvents]?: Listener<TEvents[K]>[]; } = {};\n\n  constructor(private channelName: TChannelName) {\n    ModSdkManager.prototype.hookFunction('ChatRoomMessageProcessHidden', 0, (args, next) => {\n      if (!this.isChannelMessage(args[0] as UnverifiedMessage)) {\n        return next(args);\n      }\n\n      const [message, sender] = args as unknown as [EventChannelMessage<TEvents>, Character];\n\n      const { type, data } = message.Dictionary[0];\n      const listeners = this.listeners[type as keyof TEvents];\n      if (listeners) {\n        (listeners as Listener<unknown>[])\n          .forEach(listener => listener(data, sender));\n      }\n\n      return next(args);\n    }, `EventChannel-${channelName}`);\n  }\n\n  public unload() {\n    (Object.keys(this.listeners) as (keyof TEvents)[])\n      .forEach(key => delete this.listeners[key]);\n    ModSdkManager.prototype.removeHookByModule('ChatRoomMessageProcessHidden', `EventChannel-${this.channelName}`);\n  }\n\n  public sendEvent<K extends keyof TEvents & string>(type: K, data: TEvents[K], target: number | null = null) {\n    const packet = {\n      Type: 'Hidden',\n      Content: this.channelName,\n      Sender: Player.MemberNumber,\n      ...(target ? { Target: target } : {}),\n      Dictionary: [\n        {\n          type,\n          data\n        } as DeepLibMessageDictionaryEntry<K, TEvents[K]>\n      ]\n    };\n\n    ServerSend('ChatRoomChat', packet);\n  }\n\n  public registerListener<K extends keyof TEvents & string>(event: K, listener: Listener<TEvents[K]>): () => void {\n    const listeners = this.listeners[event] ?? [];\n    listeners.push(listener);\n    this.listeners[event] = listeners;\n\n    return () => this.unregisterListener(event, listener);\n  }\n\n  public unregisterListener<K extends keyof TEvents & string>(event: K, listener: Listener<TEvents[K]>) {\n    const listeners = this.listeners[event];\n    if (listeners) {\n      const index = listeners.indexOf(listener);\n      if (index !== -1) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n\n  private isChannelMessage(message: UnverifiedMessage): message is EventChannelMessage<TEvents> {\n    return (\n      message &&\n      message.Type === 'Hidden' &&\n      message.Content === this.channelName &&\n      message.Sender &&\n      message.Sender !== Player.MemberNumber &&\n      message.Dictionary &&\n      !!message.Dictionary[0]?.data &&\n      !!message.Dictionary[0]?.type\n    ) || false;\n  }\n}\n", "import { LocalSettingsModel } from '../models/local';\nimport { modStorage } from 'bc-deeplib/deeplib';\nimport { SettingsModel } from '../models/settings';\n\nexport function settingsReset() {\n  modStorage.playerStorage = <SettingsModel>{};\n  modStorage.save();\n}\n\nexport function localSettingsLoad() {\n  const data = modStorage.getLocalStorage('LocalData') as LocalSettingsModel | null;\n\n  if (!data) {\n    window.ThemedLocalData = <LocalSettingsModel>{\n      loginOptions: {\n        hideDummy: false,\n        hideCredits: false\n      }\n    };\n\n    localSettingsSave();\n  } else {\n    window.ThemedLocalData = data;\n  }\n}\n\nexport function localSettingsSave() {\n  modStorage.setLocalStorage('LocalData', window.ThemedLocalData);\n}", "import { HookPriority, sdk, Style } from 'bc-deeplib/deeplib';\nimport { LocalSettingsModel } from '../models/local';\nimport { localSettingsLoad, localSettingsSave } from '../utilities/data';\n\nconst ids = {\n  optionsOpen: 'tmd-login-options-open',\n  optionsClose: 'tmd-login-options-dialog-close',\n  optionsSheet: 'tmd-login-options-dialog',\n  optionsContent: 'tmd-login-options-dialog-content',\n  optionsStyle: 'tmd-login-options-style',\n};\n\nconst options: Record<keyof LocalSettingsModel['loginOptions'], string> = {\n  hideCredits: 'Hide Credits',\n  hideDummy: 'Hide Dummy',\n};\n\nexport function loadLoginOptions() {\n  localSettingsLoad();\n  patchLoginPage();\n\n  Style.injectEmbed(ids.optionsStyle, `${PUBLIC_URL}/styles/login-options.css`);\n  createUI();\n\n  const loginRunHook = sdk.hookFunction('LoginRun', HookPriority.Observe, (args, next) => {\n    next(args);\n\n    ElementSetPosition(ids.optionsOpen, 2000, 1000, 'bottom-right');\n    ElementSetSize(ids.optionsOpen, 90, 90);\n\n    ElementSetSize(ids.optionsSheet, 1000, 500);\n  });\n  \n  const loginExitHook = sdk.hookFunction('LoginUnload', HookPriority.Observe, (args, next) => {\n    loginExitHook();\n    loginRunHook();\n\n    removeUI();\n    Style.eject(ids.optionsStyle);\n    unpatchLoginPage();\n\n    return next(args);\n  });\n}\n\nfunction createUI() {\n  const loginOptions = window.ThemedLocalData.loginOptions;\n\n  const optionsButton = ElementButton.Create(ids.optionsOpen, () => optionsSheet.showModal(), {\n    tooltip: '[Themed] Login Options',\n    image: './Icons/Preference.png',\n  });\n  document.body.appendChild(optionsButton);\n\n  const optionsSheet = ElementCreate({\n    tag: 'dialog',\n    attributes: {\n      id: ids.optionsSheet,\n    },\n    children: [\n      {\n        tag: 'div',\n        attributes: {\n          id: ids.optionsContent\n        },\n        children: [\n          ...Array.from(Object.entries(options)).map(([key, value]) => {\n            const typedKey = key as keyof LocalSettingsModel['loginOptions'];\n\n            return {\n              tag: 'label',\n              classList: ['tmd-login-options-label'],\n              children: [\n                ElementCheckbox.Create(`tmd-login-options-${key}`, () => {\n                  loginOptions[typedKey] = !loginOptions[typedKey];\n                  localSettingsSave();\n                  repatchLoginPage();\n                },\n                {\n                  checked: loginOptions[typedKey],\n                }),\n                value\n              ]\n            } as HTMLOptions<keyof HTMLElementTagNameMap>;\n          })\n        ]\n      },\n      ElementButton.Create(ids.optionsClose, () => optionsSheet.close(),\n        {\n          label: 'Close',\n        },\n      )\n    ],\n    parent: document.body\n  });\n}\n\nfunction removeUI() {\n  document.getElementById(ids.optionsOpen)?.remove();\n  document.getElementById(ids.optionsSheet)?.remove();\n}\n\nfunction patchLoginPage() {\n  const loginOptions = window.ThemedLocalData.loginOptions;\n\n  if (loginOptions.hideDummy) {\n    sdk.patchFunction('LoginRun', {\n      'DrawCharacter(LoginCharacter, 1400, 100, 0.9);': '',\n    });\n\n    sdk.patchFunction('LoginDoNextThankYou', {\n      'CharacterRelease(LoginCharacter, false);': '',\n      'CharacterAppearanceFullRandom(LoginCharacter);': '',\n      'if (InventoryGet(LoginCharacter, \"ItemNeck\") != null) InventoryRemove(LoginCharacter, \"ItemNeck\", false);': '',\n      'CharacterFullRandomRestrain(LoginCharacter)': '',\n    });\n  }\n\n  if (loginOptions.hideCredits) {\n    sdk.patchFunction('LoginRun', {\n      'if (LoginCredits) LoginDrawCredits();': 'if (false) LoginDrawCredits();',\n      'DrawImage(\"Screens/\" + CurrentModule + \"/\" + CurrentScreen + \"/Bubble.png\", 1400, 16);': '',\n      'DrawText(TextGet(\"ThankYou\") + \" \" + LoginThankYou, 1625, 53, \"Black\", \"Gray\");': '',\n    });\n\n    sdk.patchFunction('LoginDoNextThankYou', {\n      'LoginThankYou = CommonRandomItemFromList(LoginThankYou, LoginThankYouList)': '',\n    });\n  }\n}\n\nfunction unpatchLoginPage() {\n  sdk.unpatchFunction('LoginRun');\n  sdk.unpatchFunction('LoginDoNextThankYou');\n}\n\nfunction repatchLoginPage() {\n  unpatchLoginPage();\n  patchLoginPage();\n}", "import { BaseMigrator } from 'bc-deeplib/deeplib';\n\nexport class V140Migrator extends BaseMigrator {\n  get migrationVersion(): string {\n    return '1.4.0';\n  }\n\n  migrate(): boolean {\n    const colorsData = Player.Themed.ColorsModule;\n    const integrationsData = Player.Themed.IntegrationModule;\n\n    if (colorsData) {\n      // @ts-expect-error migration\n      if (Player.Themed.ColorsModule['primaryColor']) {\n      // @ts-expect-error migration\n        Player.Themed.ColorsModule.base.main = Player.Themed.ColorsModule['primaryColor'];\n        // @ts-expect-error migration\n        delete Player.Themed.ColorsModule['primaryColor'];\n      }\n\n      // @ts-expect-error migration\n      if (Player.Themed.ColorsModule['accentColor']) {\n      // @ts-expect-error migration\n        Player.Themed.ColorsModule.base.accent = Player.Themed.ColorsModule['accentColor'];\n        // @ts-expect-error migration\n        delete Player.Themed.ColorsModule['accentColor'];\n      }\n\n      // @ts-expect-error migration\n      if (Player.Themed.ColorsModule['textColor']) {\n      // @ts-expect-error migration\n        Player.Themed.ColorsModule.base.text = Player.Themed.ColorsModule['textColor'];\n        // @ts-expect-error migration\n        delete Player.Themed.ColorsModule['textColor'];\n      }\n    }\n\n    if (integrationsData) {\n      // @ts-expect-error migration\n      if (Player.Themed.IntegrationModule['BC']) {\n      // @ts-expect-error migration\n        Player.Themed.IntegrationModule.inputs = Player.Themed.IntegrationModule['BC'];\n        // @ts-expect-error migration\n        delete Player.Themed.IntegrationModule['BC'];\n      }\n      \n      // @ts-expect-error migration\n      if (Player.Themed.IntegrationModule['BC_Chat']) {\n      // @ts-expect-error migration\n        Player.Themed.IntegrationModule.chat = Player.Themed.IntegrationModule['BC_Chat'];\n        // @ts-expect-error migration\n        delete Player.Themed.IntegrationModule['BC_Chat'];\n      }\n      \n      // @ts-expect-error migration\n      if (Player.Themed.IntegrationModule['BC_FriendList']) {\n      // @ts-expect-error migration\n        Player.Themed.IntegrationModule.friendList = Player.Themed.IntegrationModule['BC_FriendList'];\n        // @ts-expect-error migration\n        delete Player.Themed.IntegrationModule['BC_FriendList'];\n      }\n      \n      // @ts-expect-error migration\n      if (Player.Themed.IntegrationModule['BC_Other']) {\n      // @ts-expect-error migration\n        Player.Themed.IntegrationModule.scrollbar = Player.Themed.IntegrationModule['BC_Other'];\n        // @ts-expect-error migration\n        Player.Themed.IntegrationModule.selection = Player.Themed.IntegrationModule['BC_Other'];\n        // @ts-expect-error migration\n        delete Player.Themed.IntegrationModule['BC_Other'];\n      }\n      \n      // @ts-expect-error migration\n      if (Player.Themed.IntegrationModule['FBC']) {\n      // @ts-expect-error migration\n        Player.Themed.IntegrationModule.WCE = Player.Themed.IntegrationModule['FBC'];\n        // @ts-expect-error migration\n        delete Player.Themed.IntegrationModule['FBC'];\n      }\n    }\n\n    return true;\n  }\n}\n", "export default {\n\taliceblue: [240, 248, 255],\n\tantiquewhite: [250, 235, 215],\n\taqua: [0, 255, 255],\n\taquamarine: [127, 255, 212],\n\tazure: [240, 255, 255],\n\tbeige: [245, 245, 220],\n\tbisque: [255, 228, 196],\n\tblack: [0, 0, 0],\n\tblanchedalmond: [255, 235, 205],\n\tblue: [0, 0, 255],\n\tblueviolet: [138, 43, 226],\n\tbrown: [165, 42, 42],\n\tburlywood: [222, 184, 135],\n\tcadetblue: [95, 158, 160],\n\tchartreuse: [127, 255, 0],\n\tchocolate: [210, 105, 30],\n\tcoral: [255, 127, 80],\n\tcornflowerblue: [100, 149, 237],\n\tcornsilk: [255, 248, 220],\n\tcrimson: [220, 20, 60],\n\tcyan: [0, 255, 255],\n\tdarkblue: [0, 0, 139],\n\tdarkcyan: [0, 139, 139],\n\tdarkgoldenrod: [184, 134, 11],\n\tdarkgray: [169, 169, 169],\n\tdarkgreen: [0, 100, 0],\n\tdarkgrey: [169, 169, 169],\n\tdarkkhaki: [189, 183, 107],\n\tdarkmagenta: [139, 0, 139],\n\tdarkolivegreen: [85, 107, 47],\n\tdarkorange: [255, 140, 0],\n\tdarkorchid: [153, 50, 204],\n\tdarkred: [139, 0, 0],\n\tdarksalmon: [233, 150, 122],\n\tdarkseagreen: [143, 188, 143],\n\tdarkslateblue: [72, 61, 139],\n\tdarkslategray: [47, 79, 79],\n\tdarkslategrey: [47, 79, 79],\n\tdarkturquoise: [0, 206, 209],\n\tdarkviolet: [148, 0, 211],\n\tdeeppink: [255, 20, 147],\n\tdeepskyblue: [0, 191, 255],\n\tdimgray: [105, 105, 105],\n\tdimgrey: [105, 105, 105],\n\tdodgerblue: [30, 144, 255],\n\tfirebrick: [178, 34, 34],\n\tfloralwhite: [255, 250, 240],\n\tforestgreen: [34, 139, 34],\n\tfuchsia: [255, 0, 255],\n\tgainsboro: [220, 220, 220],\n\tghostwhite: [248, 248, 255],\n\tgold: [255, 215, 0],\n\tgoldenrod: [218, 165, 32],\n\tgray: [128, 128, 128],\n\tgreen: [0, 128, 0],\n\tgreenyellow: [173, 255, 47],\n\tgrey: [128, 128, 128],\n\thoneydew: [240, 255, 240],\n\thotpink: [255, 105, 180],\n\tindianred: [205, 92, 92],\n\tindigo: [75, 0, 130],\n\tivory: [255, 255, 240],\n\tkhaki: [240, 230, 140],\n\tlavender: [230, 230, 250],\n\tlavenderblush: [255, 240, 245],\n\tlawngreen: [124, 252, 0],\n\tlemonchiffon: [255, 250, 205],\n\tlightblue: [173, 216, 230],\n\tlightcoral: [240, 128, 128],\n\tlightcyan: [224, 255, 255],\n\tlightgoldenrodyellow: [250, 250, 210],\n\tlightgray: [211, 211, 211],\n\tlightgreen: [144, 238, 144],\n\tlightgrey: [211, 211, 211],\n\tlightpink: [255, 182, 193],\n\tlightsalmon: [255, 160, 122],\n\tlightseagreen: [32, 178, 170],\n\tlightskyblue: [135, 206, 250],\n\tlightslategray: [119, 136, 153],\n\tlightslategrey: [119, 136, 153],\n\tlightsteelblue: [176, 196, 222],\n\tlightyellow: [255, 255, 224],\n\tlime: [0, 255, 0],\n\tlimegreen: [50, 205, 50],\n\tlinen: [250, 240, 230],\n\tmagenta: [255, 0, 255],\n\tmaroon: [128, 0, 0],\n\tmediumaquamarine: [102, 205, 170],\n\tmediumblue: [0, 0, 205],\n\tmediumorchid: [186, 85, 211],\n\tmediumpurple: [147, 112, 219],\n\tmediumseagreen: [60, 179, 113],\n\tmediumslateblue: [123, 104, 238],\n\tmediumspringgreen: [0, 250, 154],\n\tmediumturquoise: [72, 209, 204],\n\tmediumvioletred: [199, 21, 133],\n\tmidnightblue: [25, 25, 112],\n\tmintcream: [245, 255, 250],\n\tmistyrose: [255, 228, 225],\n\tmoccasin: [255, 228, 181],\n\tnavajowhite: [255, 222, 173],\n\tnavy: [0, 0, 128],\n\toldlace: [253, 245, 230],\n\tolive: [128, 128, 0],\n\tolivedrab: [107, 142, 35],\n\torange: [255, 165, 0],\n\torangered: [255, 69, 0],\n\torchid: [218, 112, 214],\n\tpalegoldenrod: [238, 232, 170],\n\tpalegreen: [152, 251, 152],\n\tpaleturquoise: [175, 238, 238],\n\tpalevioletred: [219, 112, 147],\n\tpapayawhip: [255, 239, 213],\n\tpeachpuff: [255, 218, 185],\n\tperu: [205, 133, 63],\n\tpink: [255, 192, 203],\n\tplum: [221, 160, 221],\n\tpowderblue: [176, 224, 230],\n\tpurple: [128, 0, 128],\n\trebeccapurple: [102, 51, 153],\n\tred: [255, 0, 0],\n\trosybrown: [188, 143, 143],\n\troyalblue: [65, 105, 225],\n\tsaddlebrown: [139, 69, 19],\n\tsalmon: [250, 128, 114],\n\tsandybrown: [244, 164, 96],\n\tseagreen: [46, 139, 87],\n\tseashell: [255, 245, 238],\n\tsienna: [160, 82, 45],\n\tsilver: [192, 192, 192],\n\tskyblue: [135, 206, 235],\n\tslateblue: [106, 90, 205],\n\tslategray: [112, 128, 144],\n\tslategrey: [112, 128, 144],\n\tsnow: [255, 250, 250],\n\tspringgreen: [0, 255, 127],\n\tsteelblue: [70, 130, 180],\n\ttan: [210, 180, 140],\n\tteal: [0, 128, 128],\n\tthistle: [216, 191, 216],\n\ttomato: [255, 99, 71],\n\tturquoise: [64, 224, 208],\n\tviolet: [238, 130, 238],\n\twheat: [245, 222, 179],\n\twhite: [255, 255, 255],\n\twhitesmoke: [245, 245, 245],\n\tyellow: [255, 255, 0],\n\tyellowgreen: [154, 205, 50]\n}\n", "import colorNames from 'color-name';\n\nconst reverseNames = Object.create(null);\n\n// Create a list of reverse color names\nfor (const name in colorNames) {\n\tif (Object.hasOwn(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nconst cs = {\n\tto: {},\n\tget: {},\n};\n\ncs.get = function (string) {\n\tconst prefix = string.slice(0, 3).toLowerCase();\n\tlet value;\n\tlet model;\n\tswitch (prefix) {\n\t\tcase 'hsl': {\n\t\t\tvalue = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'hwb': {\n\t\t\tvalue = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\t}\n\n\t\tdefault: {\n\t\t\tvalue = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!value) {\n\t\treturn null;\n\t}\n\n\treturn {model, value};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst abbr = /^#([a-f\\d]{3,4})$/i;\n\tconst hex = /^#([a-f\\d]{6})([a-f\\d]{2})?$/i;\n\tconst rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[\\s,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/;\n\tconst per = /^rgba?\\(\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[\\s,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/;\n\tconst keyword = /^(\\w+)$/;\n\n\tlet rgb = [0, 0, 0, 1];\n\tlet match;\n\tlet i;\n\tlet hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tconst i2 = i * 2;\n\t\t\trgb[i] = Number.parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Number.parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Number.parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = Number.parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Number.parseInt(match[i + 1], 10);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(Number.parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!Object.hasOwn(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[,|/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tconst match = string.match(hsl);\n\n\tif (match) {\n\t\tconst alpha = Number.parseFloat(match[4]);\n\t\tconst h = ((Number.parseFloat(match[1]) % 360) + 360) % 360;\n\t\tconst s = clamp(Number.parseFloat(match[2]), 0, 100);\n\t\tconst l = clamp(Number.parseFloat(match[3]), 0, 100);\n\t\tconst a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tconst hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*[\\s,]\\s*([+-]?[\\d.]+)%\\s*[\\s,]\\s*([+-]?[\\d.]+)%\\s*(?:[\\s,]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tconst match = string.match(hwb);\n\n\tif (match) {\n\t\tconst alpha = Number.parseFloat(match[4]);\n\t\tconst h = ((Number.parseFloat(match[1]) % 360) + 360) % 360;\n\t\tconst w = clamp(Number.parseFloat(match[2]), 0, 100);\n\t\tconst b = clamp(Number.parseFloat(match[3]), 0, 100);\n\t\tconst a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function (...rgba) {\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function (...rgba) {\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function (...rgba) {\n\tconst r = Math.round(rgba[0] / 255 * 100);\n\tconst g = Math.round(rgba[1] / 255 * 100);\n\tconst b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function (...hsla) {\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// Hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function (...hwba) {\n\tlet a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (...rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// Helpers\nfunction clamp(number_, min, max) {\n\treturn Math.min(Math.max(min, number_), max);\n}\n\nfunction hexDouble(number_) {\n\tconst string_ = Math.round(number_).toString(16).toUpperCase();\n\treturn (string_.length < 2) ? '0' + string_ : string_;\n}\n\nexport default cs;\n", "/* MIT license */\n/* eslint-disable no-mixed-operators */\nimport cssKeywords from 'color-name';\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\toklab: {channels: 3, labels: ['okl', 'oka', 'okb']},\n\tlch: {channels: 3, labels: 'lch'},\n\toklch: {channels: 3, labels: ['okl', 'okc', 'okh']},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']},\n};\n\nexport default convert;\n\n// LAB f(t) constant\nconst LAB_FT = (6 / 29) ** 3;\n\n// SRGB non-linear transform functions\nfunction srgbNonlinearTransform(c) {\n\tconst cc = c > 0.003_130_8\n\t\t? ((1.055 * (c ** (1 / 2.4))) - 0.055)\n\t\t: c * 12.92;\n\treturn Math.min(Math.max(0, cc), 1);\n}\n\nfunction srgbNonlinearTransformInv(c) {\n\treturn c > 0.040_45 ? (((c + 0.055) / 1.055) ** 2.4) : (c / 12.92);\n}\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tswitch (max) {\n\t\tcase min: {\n\t\t\th = 0;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase r: {\n\t\t\th = (g - b) / delta;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase g: {\n\t\t\th = 2 + (b - r) / delta;\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase b: {\n\t\t\th = 4 + (r - g) / delta;\n\n\t\t\tbreak;\n\t\t}\n\t// No default\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tswitch (v) {\n\t\t\tcase r: {\n\t\t\t\th = bdif - gdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase g: {\n\t\t\t\th = (1 / 3) + rdif - bdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcase b: {\n\t\t\t\th = (2 / 3) + gdif - rdif;\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t// No default\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100,\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.oklab = function (rgb) {\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransformInv(rgb[0] / 255);\n\tconst g = srgbNonlinearTransformInv(rgb[1] / 255);\n\tconst b = srgbNonlinearTransformInv(rgb[2] / 255);\n\n\tconst lp = Math.cbrt(0.412_221_470_8 * r + 0.536_332_536_3 * g + 0.051_445_992_9 * b);\n\tconst mp = Math.cbrt(0.211_903_498_2 * r + 0.680_699_545_1 * g + 0.107_396_956_6 * b);\n\tconst sp = Math.cbrt(0.088_302_461_9 * r + 0.281_718_837_6 * g + 0.629_978_700_5 * b);\n\n\tconst l = 0.210_454_255_3 * lp + 0.793_617_785 * mp - 0.004_072_046_8 * sp;\n\tconst aa = 1.977_998_495_1 * lp - 2.428_592_205 * mp + 0.450_593_709_9 * sp;\n\tconst bb = 0.025_904_037_1 * lp + 0.782_771_766_2 * mp - 0.808_675_766 * sp;\n\n\treturn [l * 100, aa * 100, bb * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Number.POSITIVE_INFINITY;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransformInv(rgb[0] / 255);\n\tconst g = srgbNonlinearTransformInv(rgb[1] / 255);\n\tconst b = srgbNonlinearTransformInv(rgb[2] / 255);\n\n\tconst x = (r * 0.412_456_4) + (g * 0.357_576_1) + (b * 0.180_437_5);\n\tconst y = (r * 0.212_672_9) + (g * 0.715_152_2) + (b * 0.072_175);\n\tconst z = (r * 0.019_333_9) + (g * 0.119_192) + (b * 0.950_304_1);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > LAB_FT ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > LAB_FT ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > LAB_FT ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t3;\n\tlet value;\n\n\tif (s === 0) {\n\t\tvalue = l * 255;\n\t\treturn [value, value, value];\n\t}\n\n\tconst t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tvalue = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tvalue = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tvalue = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tvalue = t1;\n\t\t}\n\n\t\trgb[i] = value * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0: {\n\t\t\treturn [v, t, p];\n\t\t}\n\n\t\tcase 1: {\n\t\t\treturn [q, v, p];\n\t\t}\n\n\t\tcase 2: {\n\t\t\treturn [p, v, t];\n\t\t}\n\n\t\tcase 3: {\n\t\t\treturn [p, q, v];\n\t\t}\n\n\t\tcase 4: {\n\t\t\treturn [t, p, v];\n\t\t}\n\n\t\tcase 5: {\n\t\t\treturn [v, p, q];\n\t\t}\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\t// eslint-disable-next-line no-bitwise\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces, default-case-last */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: { r = v;  g = n;  b = wh; break;\n\t\t}\n\n\t\tcase 1: { r = n;  g = v;  b = wh; break;\n\t\t}\n\n\t\tcase 2: { r = wh; g = v;  b = n; break;\n\t\t}\n\n\t\tcase 3: { r = wh; g = n;  b = v; break;\n\t\t}\n\n\t\tcase 4: { r = n;  g = wh; b = v; break;\n\t\t}\n\n\t\tcase 5: { r = v;  g = wh; b = n; break;\n\t\t}\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces, default-case-last */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.240_454_2) + (y * -1.537_138_5) + (z * -0.498_531_4);\n\tg = (x * -0.969_266) + (y * 1.876_010_8) + (z * 0.041_556);\n\tb = (x * 0.055_643_4) + (y * -0.204_025_9) + (z * 1.057_225_2);\n\n\t// Assume sRGB\n\tr = srgbNonlinearTransform(r);\n\tg = srgbNonlinearTransform(g);\n\tb = srgbNonlinearTransform(b);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > LAB_FT ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > LAB_FT ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > LAB_FT ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.xyz.oklab = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\n\tconst lp = Math.cbrt(0.818_933_010_1 * x + 0.361_866_742_4 * y - 0.128_859_713_7 * z);\n\tconst mp = Math.cbrt(0.032_984_543_6 * x + 0.929_311_871_5 * y + 0.036_145_638_7 * z);\n\tconst sp = Math.cbrt(0.048_200_301_8 * x + 0.264_366_269_1 * y + 0.633_851_707 * z);\n\n\tconst l = 0.210_454_255_3 * lp + 0.793_617_785 * mp - 0.004_072_046_8 * sp;\n\tconst a = 1.977_998_495_1 * lp - 2.428_592_205 * mp + 0.450_593_709_9 * sp;\n\tconst b = 0.025_904_037_1 * lp + 0.782_771_766_2 * mp - 0.808_675_766 * sp;\n\n\treturn [l * 100, a * 100, b * 100];\n};\n\nconvert.oklab.oklch = function (oklab) {\n\treturn convert.lab.lch(oklab);\n};\n\nconvert.oklab.xyz = function (oklab) {\n\tconst ll = oklab[0] / 100;\n\tconst a = oklab[1] / 100;\n\tconst b = oklab[2] / 100;\n\n\tconst l = (0.999_999_998 * ll + 0.396_337_792 * a + 0.215_803_758 * b) ** 3;\n\tconst m = (1.000_000_008 * ll - 0.105_561_342 * a - 0.063_854_175 * b) ** 3;\n\tconst s = (1.000_000_055 * ll - 0.089_484_182 * a - 1.291_485_538 * b) ** 3;\n\n\tconst x = 1.227_013_851 * l - 0.557_799_98 * m + 0.281_256_149 * s;\n\tconst y = -0.040_580_178 * l + 1.112_256_87 * m - 0.071_676_679 * s;\n\tconst z = -0.076_381_285 * l - 0.421_481_978 * m + 1.586_163_22 * s;\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.oklab.rgb = function (oklab) {\n\tconst ll = oklab[0] / 100;\n\tconst aa = oklab[1] / 100;\n\tconst bb = oklab[2] / 100;\n\n\tconst l = (ll + 0.396_337_777_4 * aa + 0.215_803_757_3 * bb) ** 3;\n\tconst m = (ll - 0.105_561_345_8 * aa - 0.063_854_172_8 * bb) ** 3;\n\tconst s = (ll - 0.089_484_177_5 * aa - 1.291_485_548 * bb) ** 3;\n\n\t// Assume sRGB\n\tconst r = srgbNonlinearTransform(4.076_741_662_1 * l - 3.307_711_591_3 * m + 0.230_969_929_2 * s);\n\tconst g = srgbNonlinearTransform(-1.268_438_004_6 * l + 2.609_757_401_1 * m - 0.341_319_396_5 * s);\n\tconst b = srgbNonlinearTransform(-0.004_196_086_3 * l - 0.703_418_614_7 * m + 1.707_614_701 * s);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.oklch.oklab = function (oklch) {\n\treturn convert.lch.lab(oklch);\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > LAB_FT ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > LAB_FT ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > LAB_FT ? z2 : (z - 16 / 116) / 7.787;\n\n\t// Illuminant D65 XYZ Tristrimulus Values\n\t// https://en.wikipedia.org/wiki/CIE_1931_color_space\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t/* eslint-disable no-bitwise */\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\t\t/* eslint-enable no-bitwise */\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\t// eslint-disable-next-line no-bitwise\n\tif (r >> 4 === g >> 4 && g >> 4 === b >> 4) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\targs = args[0];\n\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (Math.trunc(args > 50) + 1) * 0.5;\n\t/* eslint-disable no-bitwise */\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\t/* eslint-enable no-bitwise */\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\targs = args[0];\n\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\t/* eslint-disable no-bitwise */\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\t/* eslint-enable no-bitwise */\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.slice(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f\\d]{6}|[a-f\\d]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = [...colorString].map(char => char + char).join('');\n\t}\n\n\tconst integer = Number.parseInt(colorString, 16);\n\t/* eslint-disable no-bitwise */\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\t/* eslint-enable no-bitwise */\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet hue;\n\n\tconst grayscale = chroma < 1 ? min / (1 - chroma) : 0;\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else if (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else if (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2 * s * l) : (2 * s * (1 - l));\n\n\tlet f = 0;\n\tif (c < 1) {\n\t\tf = (l - 0.5 * c) / (1 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0: {\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\t}\n\n\t\tcase 1: {\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\t}\n\n\t\tcase 2: {\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\t}\n\n\t\tcase 3: {\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\t}\n\n\t\tcase 4: {\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\t}\n\n\t\tdefault: {\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t\t}\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255,\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1 - c);\n\tlet f = 0;\n\n\tif (v > 0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else if (l >= 0.5 && l < 1) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65_535) * 255, (apple[1] / 65_535) * 255, (apple[2] / 65_535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65_535, (rgb[1] / 255) * 65_535, (rgb[2] / 255) * 65_535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\t/* eslint-disable no-bitwise */\n\tconst value = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (value << 16) + (value << 8) + value;\n\t/* eslint-enable no-bitwise */\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.slice(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst value = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [value / 255 * 100];\n};\n", "import conversions from './conversions.js';\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let {length} = models, i = 0; i < length; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null,\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length > 0) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let {length} = adjacents, i = 0; i < length; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nfunction route(fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let {length} = models, i = 0; i < length; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n}\n\nexport default route;\n", "import conversions from './conversions.js';\nimport route from './route.js';\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let {length} = result, i = 0; i < length; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfor (const fromModel of models) {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\tfor (const toModel of routeModels) {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t}\n}\n\nexport default convert;\n", "import colorString from 'color-string';\nimport convert from 'color-convert';\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[[...convert[model].labels].sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = [...object.color];\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = Array.prototype.slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst {labels} = convert[this.model];\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to[self.model](...arguments_);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n\t\treturn colorString.to.rgb.percent(...arguments_);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst {channels} = convert[this.model];\n\t\tconst {labels} = convert[this.model];\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n\t},\n\n\talpha(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(95.047)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(108.833)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(...this.rgb().round().color);\n\t},\n\n\thexa(value) {\n\t\tif (value !== undefined) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\tconst rgbArray = this.rgb().round().color;\n\n\t\tlet alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n\t\tif (alphaHex.length === 1) {\n\t\t\talphaHex = '0' + alphaHex;\n\t\t}\n\n\t\treturn colorString.to.hex(...rgbArray) + alphaHex;\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.04045) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\t// https://www.w3.org/TR/WCAG/#contrast-enhanced\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 10000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_colour_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst {channels} = convert[model];\n\n\t// Conversion methods\n\tColor.prototype[model] = function (...arguments_) {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments_.length > 0) {\n\t\t\treturn new Color(arguments_, model);\n\t\t}\n\n\t\treturn new Color([...assertArray(convert[this.model][model].raw(this.color)), this.valpha], model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (...arguments_) {\n\t\tlet color = arguments_[0];\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(arguments_, channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] ||= [])[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (value !== undefined) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nexport default Color;\n", "import Color from 'color';\nimport { BaseColorsModel, SpecialColorsModel } from '../models/colors';\n\nexport const plainColors: BaseColorsModel = {\n  main: '',\n  element: '',\n  elementHover: '',\n  elementDisabled: '',\n  elementHint: '',\n  text: '',\n  textShadow: '',\n  accent: '',\n  accentHover: '',\n  accentDisabled: '',\n};\n\nexport const specialColors = {\n  equipped: ['', ''],\n  crafted: ['', ''],\n  blocked: ['', ''],\n  limited: ['', ''],\n  allowed: ['', ''],\n  roomFriend: ['', ''],\n  roomBlocked: ['', ''],\n  roomGame: ['', ''],\n};\n\nexport enum ColorType {\n  Base = '~',\n  Hover = '-',\n  Disabled = '=',\n  Active = '+',\n  NoDraw = '!',\n  Custom = '%',\n  FromButton = '@',\n}\n\nexport const _Color = {\n  getComputed: CommonMemoize((color: string): string => {\n    const div = document.createElement('div');\n    div.style.color = color;\n    document.body.appendChild(div);\n    const computedColor = getComputedStyle(div).color;\n    div.remove();\n\n    return computedColor;\n  }),\n\n  getHexComputed: CommonMemoize((color: string): string => {\n    return Color(_Color.getComputed(color)).hex();\n  }),\n\n  isValidHex(color: string) {\n    return /^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/.test(color);\n  },\n\n  composeRoot() {\n    const colorSettings = Player.Themed.ColorsModule;\n    const globalSettings = Player.Themed.GlobalModule;\n\n    Object.keys(colorSettings.special).forEach((key) => {\n      const typedKey = key as keyof SpecialColorsModel;\n      const clr = Color(colorSettings.special[typedKey]);\n      specialColors[typedKey] = [clr.hex(), clr.lighten(0.2).hex()];\n    });\n\n    if (globalSettings.doUseAdvancedColoring) {\n      Object.keys(colorSettings.base).forEach(key => {\n        const typedKey = key as keyof BaseColorsModel;\n        plainColors[typedKey] = colorSettings.base[typedKey];\n      });\n    } else {\n      const primaryColor = _Color.getHexComputed(colorSettings.base.main);\n      const elementColor = Color(primaryColor).lighten(0.2).hex();\n      const accentColor = _Color.getHexComputed(colorSettings.base.accent);\n      const textColor = _Color.getHexComputed(colorSettings.base.text);\n\n      plainColors.main = primaryColor;\n      plainColors.element = elementColor;\n      plainColors.elementHover = Color(elementColor).lighten(0.2).hex();\n      plainColors.elementDisabled = Color(elementColor).darken(0.2).hex();\n      plainColors.elementHint = Color(elementColor).lighten(0.2).hex();\n      plainColors.text = textColor;\n      plainColors.accent = accentColor;\n      plainColors.accentHover = Color(accentColor).lighten(0.2).hex();\n      plainColors.accentDisabled = Color(accentColor).darken(0.2).hex();\n    }\n    plainColors.textShadow = _Color.getHexComputed('rgba(0,0,0,0.5)');\n  },\n};\n", "import { advElement, BaseSubscreen, getModule, getText, modStorage, SubscreenOptions } from 'bc-deeplib/deeplib';\nimport { BaseColorsModel, ColorsSettingsModel, SpecialColorsModel } from '../models/colors';\nimport { ColorsModule } from '../modules/colors';\nimport { _Color } from '../utilities/color';\nimport { Custom, Input, SettingElement } from 'bc-deeplib/base/elements_typings';\n\n\nexport class GuiColors extends BaseSubscreen {\n  settingsBackup: ColorsSettingsModel = {} as ColorsSettingsModel;\n\n  static override subscreenOptions: SubscreenOptions = {\n    name: 'colors',\n    icon: `${PUBLIC_URL}/images/palette.svg`\n  };\n\n  get settings(): ColorsSettingsModel {\n    return super.settings as ColorsSettingsModel;\n  }\n\n  get pageStructure(): SettingElement[][] {\n    const settings = this.settings;\n    const defaultSettings = getModule<ColorsModule>('ColorsModule').defaultSettings;\n    const isBaseMode = !modStorage.playerStorage.GlobalModule.doUseAdvancedColoring;\n    const baseModeKey = (key: keyof BaseColorsModel) => ['main', 'accent', 'text'].includes(key);\n\n    const ret: SettingElement[][] = [[], []];\n\n    const themeDropdownOptions: Omit<HTMLOptions<\"option\">, \"tag\">[] = ['dark', 'light'].map(e => ({ attributes: { value: e, label: getText('colors.setting.theme-type-' + e), selected: e === this.settings.themeSettings.themeType } }))\n    const themeType: Custom = {\n      id: 'tmd-theme-type',\n      type: 'custom',\n      htmlOptions: {\n        tag: 'div',\n        attributes: {\n          id: 'tmd-theme-type-container'\n        },\n        children: [\n          {\n            tag: \"label\",\n            attributes: {\n              for: 'tmd-theme-type-dropdown'\n            },\n            children: [getText('colors.setting.theme-type.title')]\n          },\n          ElementCreateDropdown('tmd-theme-type-dropdown', themeDropdownOptions, function () {\n            settings.themeSettings.themeType = this.value as 'dark' | 'light';\n            ColorsModule.reloadTheme();\n          })\n        ]\n      }\n    }\n    ret[0].push(themeType)\n\n    ret[0].push(...Object.entries(this.settings.base).map(([key, value]) => {\n      const typedKey = key as keyof BaseColorsModel;\n\n      return <Input>{\n        id: key,\n        type: 'color',\n        label: getText(`colors.setting.${key}.name`),\n        description: getText(`colors.setting.${key}.desc`),\n        setElementValue: () => value ?? defaultSettings.base[typedKey],\n        setSettingValue: () => value ?? defaultSettings.base[typedKey],\n        disabled: isBaseMode && !baseModeKey(typedKey)\n      };\n    })\n    .sort((a, b) => (a.disabled ? 1 : 0) - (b.disabled ? 1 : 0)) as Input[])\n\n    ret[1].push(...Object.entries(this.settings.special).map(([key, value]) => {\n      const typedKey = key as keyof SpecialColorsModel;\n\n      return <Input>{\n        id: key,\n        type: 'color',\n        label: getText(`colors.setting.${key}.name`),\n        description: getText(`colors.setting.${key}.desc`),\n        setElementValue: () => value ?? defaultSettings.special[typedKey],\n        setSettingValue: () => value ?? defaultSettings.special[typedKey],\n      };\n    }));\n\n    return ret;\n  }\n\n  load(): void {\n    super.load();\n\n    const typeToggleButton = advElement.createButton({\n      id: 'tmd-inputs-type-toggle',\n      onClick: () => {\n        this.pageStructure.forEach((page) => {\n          page.forEach((elm) => {\n            if (elm.type == 'color' || elm.type == 'text') {\n              const e = document.getElementById(elm.id);\n              if (!e) return;\n              const elementType = e.getAttribute('type');\n\n              if (elementType == 'color') {\n                e.setAttribute('type', 'text');\n              } else {\n                e.setAttribute('type', 'color');\n              }\n            }\n          });\n        });\n        this.resize();\n      },\n      size: [90, 90],\n      options: {\n        image: `${PUBLIC_URL}/images/refresh.svg`,\n        tooltip: getText('colors.button.change_input_type'),\n      }\n    });\n\n    const menu = document.getElementById('deeplib-nav-menu');\n    if (menu) {\n      ElementMenu.PrependItem(menu, typeToggleButton);\n    }\n\n    this.settingsBackup = CommonCloneDeep(this.settings);\n\n    const settings = getModule<ColorsModule>('ColorsModule').settings;\n\n    Object.entries(this.settings.base).forEach(([key]) => {\n      (document.getElementById(key) as HTMLInputElement)?.addEventListener('input', function () {\n        if (!_Color.isValidHex(this.value)) {\n          this.setCustomValidity('Invalid hex color');\n        } else {\n          this.setCustomValidity('');\n          const typedKey = key as keyof BaseColorsModel;\n          settings.base[typedKey] = this.value;\n        }\n\n        ColorsModule.reloadTheme();\n      });\n    });\n\n    Object.entries(this.settings.special).forEach(([key]) => {\n      (document.getElementById(key) as HTMLInputElement)?.addEventListener('input', function () {\n        if (!_Color.isValidHex(this.value)) {\n          this.setCustomValidity('Invalid hex color');\n        } else {\n          this.setCustomValidity('');\n          const typedKey = key as keyof SpecialColorsModel;\n          settings.special[typedKey] = this.value;\n        }\n\n        ColorsModule.reloadTheme();\n      });\n    });\n  }\n\n  exit(): void {\n    const settings = getModule<ColorsModule>('ColorsModule').settings;\n\n    Object.entries(this.settings.base).forEach(([key]) => {\n      const input = document.getElementById(key) as HTMLInputElement;\n\n      if (!input) return;\n\n      if (!_Color.isValidHex(input.value)) {\n        const typedKey = key as keyof BaseColorsModel;\n        settings.base[typedKey] = this.settingsBackup.base[typedKey];\n      }\n    });\n\n    Object.entries(this.settings.special).forEach(([key]) => {\n      const input = document.getElementById(key) as HTMLInputElement;\n\n      if (!input) return;\n\n      if (!_Color.isValidHex(input.value)) {\n        const typedKey = key as keyof SpecialColorsModel;\n        settings.special[typedKey] = this.settingsBackup.special[typedKey];\n      }\n    });\n\n    super.exit();\n  }\n}\n", "export const ModName = 'Themed';\nexport const FullModName = 'BC Themed';\nexport const ModRepository = 'https://github.com/dDeepLb/Themed-BC';\nexport const MOD_VERSION_CAPTION = IS_DEVEL ? `${MOD_VERSION} - ${VERSION_HASH}` : MOD_VERSION;\n\nexport const ModuleCategory = {\n  Global: 'Global',\n  Colors: 'Colors',\n  Profiles: 'Profiles',\n  Integration: 'Integration',\n  GuiRedraw: 'GuiRedraw'\n};", "import { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { plainColors, specialColors } from '../../utilities/color';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookAppearanceGetPreviewImageColor() {\n  sdk.hookFunction(\n    'AppearanceGetPreviewImageColor',\n    HookPriority.Observe,\n    (args: Parameters<typeof AppearanceGetPreviewImageColor>, next: (args: Parameters<typeof AppearanceGetPreviewImageColor>) => ReturnType<typeof AppearanceGetPreviewImageColor>) => {\n      if (!doRedraw()) return next(args);\n\n      const [c, item, hover] = args;\n\n      if (DialogMenuMode === 'permissions' && c.IsPlayer()) {\n        let permission: keyof typeof specialColors = 'allowed';\n        if (InventoryIsPermissionBlocked(c, item.Asset.Name, item.Asset.Group.Name)) permission = 'blocked';\n        else if (InventoryIsPermissionLimited(c, item.Asset.Name, item.Asset.Group.Name)) permission = 'limited';\n        return item.Worn ? specialColors.equipped[hover ? 1 : 0] : specialColors[permission][hover ? 1 : 0];\n      } else {\n        const unusable = item.SortOrder.startsWith(DialogSortOrder.Unusable.toString())\n          || item.SortOrder.startsWith(DialogSortOrder.TargetFavoriteUnusable.toString())\n          || item.SortOrder.startsWith(DialogSortOrder.PlayerFavoriteUnusable.toString());\n        const blocked = item.SortOrder.startsWith(DialogSortOrder.Blocked.toString());\n        const limited = item.Icons.includes('AllowedLimited');\n        if (blocked) return specialColors.blocked[hover ? 1 : 0];\n        else if (item.Worn) return specialColors.equipped[hover ? 1 : 0];\n        else if ((item.Craft != null) && (item.Craft.Name != null)) return specialColors.crafted[hover ? 1 : 0];\n        else if (unusable) return plainColors.elementDisabled;\n        else if (limited) return specialColors.limited[hover ? 1 : 0];\n        else return hover ? plainColors.elementHover : plainColors.element;\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDialogGetMenuButtonColor() {\n  sdk.hookFunction('DialogGetMenuButtonColor', 0, (args, next) => {\n    if (!doRedraw()) return next(args);\n\n    const [buttonName] = args;\n\n    if (DialogIsMenuButtonDisabled(buttonName)) {\n      return '%disabled';\n    } else if (buttonName === 'ColorDefault') {\n      return DialogColorSelect || '%background';\n    } else {\n      return '%background';\n    }\n  }, ModuleCategory.GuiRedraw);\n}\n", "import { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { plainColors } from '../../utilities/color';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawBackNextButton() {\n  sdk.hookFunction(\n    'DrawBackNextButton',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawBackNextButton>, next: (args: Parameters<typeof DrawBackNextButton>) => ReturnType<typeof DrawBackNextButton>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Left, Top, Width, Height, Label, Color, Image, , , Disabled] = args;\n      let [, , , , , , , BackText, NextText, , ArrowWidth] = args;\n\n      if (ArrowWidth == null || ArrowWidth > Width / 2) ArrowWidth = Width / 2;\n      const LeftSplit = Left + ArrowWidth;\n      const RightSplit = Left + Width - ArrowWidth;\n\n      ControllerAddActiveArea(Left, Top);\n      ControllerAddActiveArea(Left + Width - ArrowWidth, Top);\n\n      MainCanvas.save();\n      MainCanvas.textAlign = 'center';\n\n      MainCanvas.beginPath();\n      MainCanvas.rect(Left, Top, Width, Height);\n      MainCanvas.fillStyle = plainColors.element;\n      MainCanvas.fillRect(Left, Top, Width, Height);\n      if (MouseIn(Left, Top, Width, Height) && !CommonIsMobile && !Disabled) {\n        MainCanvas.fillStyle = plainColors.elementHover;\n        if (MouseX > RightSplit) {\n          MainCanvas.fillRect(RightSplit, Top, ArrowWidth, Height);\n        } else if (MouseX <= LeftSplit) {\n          MainCanvas.fillRect(Left, Top, ArrowWidth, Height);\n        } else {\n          MainCanvas.fillRect(Left + ArrowWidth, Top, Width - ArrowWidth * 2, Height);\n        }\n      } else if (CommonIsMobile && ArrowWidth < Width / 2 && !Disabled) {\n        MainCanvas.fillStyle = plainColors.elementDisabled;\n        MainCanvas.fillRect(Left, Top, ArrowWidth, Height);\n        MainCanvas.fillRect(RightSplit, Top, ArrowWidth, Height);\n      }\n      MainCanvas.lineWidth = 2;\n      MainCanvas.strokeStyle = plainColors.accent;\n      MainCanvas.stroke();\n      MainCanvas.closePath();\n\n      DrawTextFit(Label, Left + Width / 2, Top + Height / 2 + 1, CommonIsMobile ? Width - 6 : Width - 36, Color);\n      DrawTextFit(Label, Left + Width / 2, Top + (Height / 2) + 1, (CommonIsMobile) ? Width - 6 : Width - 36, 'Black');\n\n      if (Image != null && Image != '') {\n        DrawImage(Image, Left + 2, Top + 2);\n      }\n\n      ControllerAddActiveArea(Left + Width / 2, Top);\n\n      MainCanvas.beginPath();\n      MainCanvas.fillStyle = 'Black';\n      MainCanvas.moveTo(Left + 15, Top + Height / 5);\n      MainCanvas.lineTo(Left + 5, Top + Height / 2);\n      MainCanvas.lineTo(Left + 15, Top + Height - Height / 5);\n      MainCanvas.stroke();\n      MainCanvas.closePath();\n\n      MainCanvas.beginPath();\n      MainCanvas.fillStyle = 'Black';\n      MainCanvas.moveTo(Left + Width - 15, Top + Height / 5);\n      MainCanvas.lineTo(Left + Width - 5, Top + Height / 2);\n      MainCanvas.lineTo(Left + Width - 15, Top + Height - Height / 5);\n      MainCanvas.stroke();\n      MainCanvas.closePath();\n\n      MainCanvas.restore();\n\n      if (CommonIsMobile) return;\n      if (BackText == null) BackText = () => 'MISSING VALUE FOR: BACK TEXT';\n      if (NextText == null) NextText = () => 'MISSING VALUE FOR: NEXT TEXT';\n      if (MouseX >= Left && MouseX <= Left + Width && MouseY >= Top && MouseY <= Top + Height && !Disabled)\n        DrawHoverElements.push(() => {\n          DrawButtonHover(Left, Top, Width, Height, MouseX < LeftSplit ? BackText() : MouseX >= RightSplit ? NextText() : '');\n        });\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "export const _Image = {\n  doNotColorizeImageIncludes: [\n    'Assets/Female3DCG/',\n    'Backgrounds/',\n    'Icons/Struggle/',\n    'Icons/LARP/',\n    'Icons/MagicBattle/',\n    'Screens/',\n    'http'\n  ],\n\n  doColorizeImageIncludes: [\n    PUBLIC_URL\n  ],\n\n  doNotColorizeImages: [\n    'Icons/Accept.png',\n    'Icons/Activity.png',\n    'Icons/Arousal.png',\n    'Icons/Audio.png',\n    'Icons/BlindToggle2.png',\n    'Icons/Cancel.png',\n    'Icons/Cell.png',\n    'Icons/Checked.png',\n    'Icons/ClubCard.png',\n    'Icons/Controller.png',\n    'Icons/Crafting.png',\n    'Icons/Exit.png',\n    'Icons/Explore.png',\n    'Icons/Gavel.png',\n    'Icons/Gender.png',\n    'Icons/Infiltration.png',\n    'Icons/Lock.png',\n    'Icons/LockMenu.png',\n    'Icons/MagicSchool.png',\n    'Icons/Online.png',\n    'Icons/Platform.png',\n    'Icons/Poker.png',\n    'Icons/Search.png',\n    'Icons/Security.png',\n    'Icons/ServiceBell.png',\n    'Icons/Title.png',\n    'Icons/Use.png',\n    'Icons/WinkNone.png',\n    'Icons/Color.png',\n    'Icons/ColorChange.png',\n    'Icons/ColorChangeMulti.png',\n    'Icons/Small/ColorBlocked.png',\n    'Icons/Small/ColorChange.png',\n    'Icons/Small/ColorChangeMulti.png',\n    'Icons/Small/Naked.png',\n    'Icons/Small/Use.png',\n    'Icons/Small/YouTube.png',\n  ],\n\n  doColorizeImages: [\n    ''\n  ],\n\n  doDrawImage(source: string) {\n    if (!source) return false;\n    if (typeof source !== 'string') return false;\n    let doDraw = true;\n\n    if (doDraw) {\n      const includesFolder = _Image.doNotColorizeImageIncludes.some(prefix => source.startsWith(prefix));\n      const includesFile = _Image.doNotColorizeImages.includes(source);\n      if (includesFolder || includesFile) {\n        doDraw = false;\n      }\n    }\n\n    if (!doDraw) {\n      const includesFolder = _Image.doColorizeImageIncludes.some(prefix => source.startsWith(prefix));\n      const includesFile = _Image.doColorizeImages.includes(source);\n      if (includesFolder || includesFile) {\n        doDraw = true;\n      }\n    }\n\n    return doDraw;\n  },\n};\n\nexport function drawRect(x: number, y: number, width: number, height: number, backgroundColor: string, borderColor: string) {\n  DrawRect(x, y, width, height, backgroundColor);\n  DrawEmptyRect(x, y, width, height, borderColor, 2);\n}\n\nexport function drawButtonRect(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  backgroundColor: string,\n  backgroundHoverColor: string,\n  backgroundDisabledColor: string,\n  borderColor: string,\n  borderHoverColor: string,\n  borderDisabledColor: string,\n  isHovering: boolean,\n  disabled: boolean\n) {\n  if (!isHovering && !disabled) drawRect(x, y, width, height, backgroundColor, borderColor);\n  else if (isHovering && !disabled) drawRect(x, y, width, height, backgroundHoverColor, borderHoverColor);\n  else if (disabled) drawRect(x, y, width, height, backgroundDisabledColor, borderDisabledColor);\n}\n", "import { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { ColorType, plainColors } from '../../utilities/color';\nimport { drawButtonRect } from '../../utilities/drawing';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawButton() {\n  sdk.hookFunction(\n    'DrawButton',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawButton>, next: (args: Parameters<typeof DrawButton>) => ReturnType<typeof DrawButton>) => {\n      if (!doRedraw()) return next(args);\n\n      const [x, y, width, height, label, , image, hoveringText, isDisabled] = args;\n      let color = args[5];\n      const isHovering = MouseHovering(x, y, width, height);\n\n      const buttonStateSymbol = (() => {\n        if (isDisabled) return ColorType.Disabled;\n        if (isHovering) return ColorType.Hover;\n        return ColorType.Base;\n      })();\n      color = ColorType.FromButton + buttonStateSymbol + color;\n\n      ControllerAddActiveArea(x, y);\n\n      drawButtonRect(\n        x,\n        y,\n        width,\n        height,\n        color,\n        color,\n        color,\n        '%border',\n        '%hover',\n        '%disabled',\n        isHovering,\n        isDisabled ?? false\n      );\n\n      DrawTextFit(label, x + width / 2, y + height / 2 + 1, width - 4, plainColors.text);\n\n      if (image != null && image != '') {\n        DrawImage(image, x + 2, y + 2);\n      }\n\n      if (hoveringText != null && isHovering) {\n        DrawHoverElements.push(() => DrawButtonHover(x, y, width, height, hoveringText));\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { plainColors } from '../../utilities/color';\nimport { drawRect } from '../../utilities/drawing';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawButtonHover() {\n  sdk.hookFunction(\n    'DrawButtonHover',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawButtonHover>, next: (args: Parameters<typeof DrawButtonHover>) => ReturnType<typeof DrawButtonHover>) => {\n      if (!doRedraw()) return next(args);\n\n      const [, , Width, Height, HoveringText] = args;\n      let [Left, Top] = args;\n\n      if (HoveringText == null || HoveringText == '') return next(args);\n\n      Left = MouseX > 1000 ? Left - 475 : Left + Width + 25;\n      Top = Top + (Height - 65) / 2;\n      MainCanvas.save();\n      MainCanvas.textAlign = 'center';\n      drawRect(Left, Top, 450, 65, plainColors.elementHint, plainColors.accent);\n      DrawTextFit(HoveringText, Left + 225, Top + 33, 444, 'Black');\n      MainCanvas.restore();\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawCheckbox() {\n  sdk.hookFunction(\n    'DrawCheckbox',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawCheckbox>, next: (args: Parameters<typeof DrawCheckbox>) => ReturnType<typeof DrawCheckbox>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Left, Top, Width, Height, Text, IsChecked, Disabled = false, TextColor = 'Black', CheckImage = 'Icons/Checked.png'] = args;\n\n      const backgroundColor = Disabled ? '%disabled' : '%background';\n\n      DrawText(Text, Left + 100, Top + 33, TextColor, '');\n      DrawButton(Left, Top, Width, Height, '', backgroundColor, IsChecked ? CheckImage : '', undefined, Disabled);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { ColorType, plainColors, _Color } from '../../utilities/color';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawEmptyRect() {\n  sdk.hookFunction(\n    'DrawEmptyRect',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawEmptyRect>, next: (args: Parameters<typeof DrawEmptyRect>) => ReturnType<typeof DrawEmptyRect>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Left, Top, Width, Height, Color, Thickness] = args;\n\n      const drawEmptyRect = (color: string) => {\n        MainCanvas.beginPath();\n        MainCanvas.rect(Left, Top, Width, Height);\n        MainCanvas.lineWidth = Thickness ?? 2;\n        MainCanvas.strokeStyle = color;\n        MainCanvas.stroke();\n      };\n\n      if (Color?.startsWith(ColorType.Custom)) {\n        switch (Color.substring(1).toLowerCase()) {\n          case 'border':\n            drawEmptyRect(plainColors.accent);\n            break;\n\n          case 'hover':\n            drawEmptyRect(plainColors.accentHover);\n            break;\n\n          case 'disabled':\n            drawEmptyRect(plainColors.accentDisabled);\n            break;\n\n          default:\n            next(args);\n            break;\n        }\n      } else {\n        switch (_Color.getHexComputed(Color).toLowerCase()) {\n          case '#ffffff':\n          case '#dddddd':\n          case '#000000':\n            drawEmptyRect(plainColors.accent);\n            break;\n\n          default:\n            next(args);\n            break;\n        }\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { plainColors } from '../../utilities/color';\nimport { _Image } from '../../utilities/drawing';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawImageEx() {\n  sdk.hookFunction(\n    'DrawImageEx',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawImageEx>, next: (args: Parameters<typeof DrawImageEx>) => ReturnType<typeof DrawImageEx>) => {\n      if (!doRedraw()) return next(args);\n      if (typeof args[0] !== 'string') return next(args);\n      if (!_Image.doDrawImage(args[0])) return next(args);\n\n      const [Source, Canvas, X, Y] = args;\n      let Options = args[4];\n      Options ??= {};\n      Options.HexColor = plainColors.accent;\n      Options.FullAlpha = true;\n\n      return next([Source, Canvas, X, Y, Options]);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { plainColors } from '../../utilities/color';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawPreviewBox() {\n  sdk.hookFunction(\n    'DrawPreviewBox',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawPreviewBox>, next: (args: Parameters<typeof DrawPreviewBox>) => ReturnType<typeof DrawPreviewBox>) => {\n      if (!doRedraw()) return next(args);\n\n      const [X, Y, Path, Description, Options] = args;\n\n      const { Vibrating, Icons, Disabled } = Options || {};\n      let { Foreground, Background, Width, Height } = Options || {};\n      Width = Width || DrawAssetPreviewDefaultWidth;\n      Height = Height || DrawAssetPreviewDefaultHeight;\n\n      const Padding = 2;\n      const TextGutter = Description ? 44 : 0;\n\n      Foreground = plainColors.text;\n      Background = Background || plainColors.element;\n      const hover = MouseHovering(X, Y, Width, Height);\n      if (hover) Background = Background || plainColors.elementHover;\n      if (Disabled) Background = Background || plainColors.elementDisabled;\n\n      let ImageX = X + Padding;\n      let ImageY = Y + Padding;\n      let ImageWidth = Width;\n      let ImageHeight = Height - TextGutter;\n\n      if (ImageWidth > ImageHeight) {\n        const Ratio = ImageHeight / ImageWidth;\n        ImageWidth *= Ratio;\n        ImageX += (Width - ImageWidth) / 2;\n      } else if (ImageWidth < ImageHeight) {\n        const Ratio = ImageWidth / ImageHeight;\n        ImageHeight *= Ratio;\n        ImageY += (Height - ImageHeight - TextGutter) / 2;\n      }\n\n      ImageWidth -= 2 * Padding;\n      ImageHeight -= 2 * Padding;\n\n      if (Vibrating) {\n        ImageX += 1 + Math.floor(Math.random() * 3);\n        ImageY += 1 + Math.floor(Math.random() * 3);\n      }\n\n      DrawRect(X, Y, Width, Height, Background);\n      ControllerAddActiveArea(X, Y);\n      DrawEmptyRect(X, Y, Width, Height, hover ? plainColors.accentHover : plainColors.accent);\n      if (Path !== '') DrawImageResize(Path, ImageX, ImageY, ImageWidth, ImageHeight);\n      DrawPreviewIcons(Icons ?? [], X, Y);\n      if (Description) DrawTextFit(Description, X + Width / 2, Y + Height - 25, Width - 2 * Padding, Foreground);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import Color, { ColorInstance } from 'color';\nimport { ColorType, plainColors, specialColors } from '../../utilities/color';\nimport { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawRect() {\n  sdk.hookFunction(\n    'DrawRect',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawRect>, next: (args: Parameters<typeof DrawRect>) => ReturnType<typeof DrawRect>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Left, Top, Width, Height] = args;\n      let color = args[4];\n\n      const drawRect = (color: string) => {\n        next([Left, Top, Width, Height, color]);\n      };\n\n      const hover = MouseIn(Left, Top, Width, Height) ? 1 : 0;\n\n      if (color?.startsWith(ColorType.NoDraw)) {\n        return next([Left, Top, Width, Height, color.substring(1)]);\n      }\n\n      const buttonStates = [ColorType.Hover, ColorType.Disabled, ColorType.Base];\n      let buttonStateSymbol = color[0] as ColorType;\n      if (color?.startsWith(ColorType.FromButton)) {\n        color = color.substring(1);\n        buttonStateSymbol = color[0] as ColorType;\n\n        if (buttonStates.includes(buttonStateSymbol)) {\n          color = color.substring(1);\n        }\n      }\n\n      if (color?.startsWith(ColorType.Custom)) {\n        switch (color.substring(1)) {\n          case 'disabled':\n            color = hover ? Color(plainColors.elementDisabled).lighten(0.2).hex()\n              : plainColors.elementDisabled;\n            break;\n\n          case 'hover':\n            color = plainColors.elementHover;\n            break;\n\n          case 'background':\n            color = hover ? plainColors.elementHover\n              : plainColors.element;\n            break;\n\n          case 'accent':\n            color = hover ? plainColors.accentHover\n              : plainColors.accent;\n            break;\n\n          case 'allowed':\n          case 'equipped':\n          case 'crafted':\n          case 'limited':\n          case 'blocked': {\n            const typedColor = color.substring(1) as keyof typeof specialColors;\n            color = specialColors[typedColor][hover];\n            break;\n          }\n\n          default:\n            return next(args);\n        }\n      } else {\n        let parsedColor: string | null = null;\n        try {\n          if ((color[0] === '#' && color.length === 9) || color.startsWith('rgba'))\n            parsedColor = Color(color.toLowerCase()).hexa().toLowerCase();\n          else\n            parsedColor = Color(color.toLowerCase()).hex().toLowerCase();\n        } catch {\n          parsedColor = null;\n          return next(args);\n        }\n        switch (parsedColor) {\n          case '#eeeeee':\n          case '#dddddd':\n          case '#cccccc':\n          case '#ffffff':\n          case '#ffff88':\n          case '#ffffff88':\n          case '#ffffffcc':\n          case '#d7f6e9': // LSCG Version Tooltip\n          case '#808080':\n            color = plainColors.element;\n            break;\n\n          case '#00ffff':\n            color = plainColors.elementHover;\n            break;\n\n          case '#ffc0cb':\n          case '#ddffdd':\n            color = plainColors.accent;\n            break;\n\n          case '#888888':\n          case '#ebebe4':\n            color = plainColors.elementDisabled;\n            break;\n\n          default:\n          // fallthrough\n        }\n      }\n\n      if (buttonStates.includes(buttonStateSymbol)) {\n        let parsedColor: ColorInstance | null = null;\n        try {\n          parsedColor = Color(color.toLowerCase());\n        } catch {\n          parsedColor = null;\n        }\n\n        if (parsedColor !== null) {\n          if (buttonStateSymbol === ColorType.Hover) {\n            color = parsedColor.lighten(0.2).hex();\n          } else if (buttonStateSymbol === ColorType.Disabled) {\n            color = parsedColor.darken(0.2).hex();\n          }\n\n          return drawRect(color);\n        }\n      }\n\n      drawRect(color);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { HookPriority, modStorage, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { plainColors } from '../../utilities/color';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawRoomBackground() {\n  sdk.hookFunction(\n    'DrawRoomBackground',\n    HookPriority.Observe,\n    ([URL, ...args]: Parameters<typeof DrawRoomBackground>, next: (args: Parameters<typeof DrawRoomBackground>) => ReturnType<typeof DrawRoomBackground>) => {\n      if (!doRedraw()) return next([URL, ...args]);\n\n      if (URL.includes('Sheet.jpg')) {\n        if (modStorage.playerStorage.GlobalModule.doUseFlatColor) {\n          DrawRect(0, 0, 2000, 1000, plainColors.main);\n        } else {\n          next([URL, ...args]);\n          MainCanvas.save();\n          MainCanvas.globalCompositeOperation = 'multiply';\n          DrawRect(0, 0, 2000, 1000, plainColors.main);\n          MainCanvas.restore();\n        }\n      } else {\n        next([URL, ...args]);\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import Color from 'color';\nimport { plainColors } from '../../utilities/color';\nimport { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawText() {\n  sdk.hookFunction(\n    'DrawText',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawText>, next: (args: Parameters<typeof DrawText>) => ReturnType<typeof DrawText>) => {\n      if (!doRedraw()) return next(args);\n      if (!args[0]) return next(args);\n      if (!args[3]) return next(args);\n      const color = args[3];\n\n\n      let parsedColor = color;\n      try {\n        parsedColor = Color(color.toLowerCase()).hex();\n      } catch (e) {\n        parsedColor = color;\n      }\n\n      if (parsedColor === '#000000') {\n        args[3] = plainColors.text;\n        args[4] = '';\n      } else {\n        args[4] = '';\n      }\n\n      next(args);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import Color from 'color';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { plainColors } from '../../utilities/color';\nimport { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawTextFit() {\n  sdk.hookFunction(\n    'DrawTextFit',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawTextFit>, next: (args: Parameters<typeof DrawTextFit>) => ReturnType<typeof DrawTextFit>) => {\n      if (!doRedraw()) return next(args);\n      if (!args[0]) return next(args);\n      if (!args[4]) return next(args);\n\n      let parsedColor = args[4];\n      try {\n        parsedColor = Color(args[4].toLowerCase()).hex();\n      } catch (e) {\n        parsedColor = args[4];\n      }\n\n      if (parsedColor === '#000000') {\n        args[4] = plainColors.text;\n      }\n\n      return next(args);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import Color from 'color';\nimport { plainColors } from '../../utilities/color';\nimport { drawRect } from '../../utilities/drawing';\nimport { HookPriority, sdk } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../../modules/gui_redraw';\nimport { ModuleCategory } from '../../utilities/mod_definition';\n\nexport function hookDrawTextWrap() {\n  sdk.hookFunction(\n    'DrawTextWrap',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawTextWrap>, next: (args: Parameters<typeof DrawTextWrap>) => ReturnType<typeof DrawTextWrap>) => {\n      if (!doRedraw()) return next(args);\n      if (!args[0]) return next(args);\n      if (!args[5]) return next(args);\n\n\n      const [Text, X, , Width, Height, ForeColor, BackColor, MaxLine, LineSpacing = 23] = args;\n      let [, , Y, , ,] = args;\n      const isHovering = MouseHovering(X, Y, Width, Height);\n\n      if (!Text) return;\n\n      ControllerAddActiveArea(X, Y);\n\n      if (BackColor != null) {\n        if (!isHovering) {\n          drawRect(X, Y, Width, Height, BackColor, plainColors.accent);\n        } else {\n          drawRect(X, Y, Width, Height, plainColors.elementHover, plainColors.accentHover);\n        }\n      }\n\n      let TextSize;\n      if (MaxLine != null) {\n        TextSize = MainCanvas.font;\n        GetWrapTextSize(Text, Width, MaxLine);\n      }\n\n\n      let parsedForeColor = ForeColor;\n      try {\n        parsedForeColor = Color(ForeColor.toLowerCase()).hex();\n      } catch (e) {\n        parsedForeColor = ForeColor;\n      }\n\n      MainCanvas.fillStyle = parsedForeColor === '#000000' ? plainColors.text : ForeColor;\n      if (MainCanvas.measureText(Text).width > Width) {\n        const words = fragmentText(Text, Width);\n        let line = '';\n\n        let LineCount = 1;\n        for (let n = 0; n < words.length; n++) {\n          const testLine = line + words[n] + ' ';\n          if (MainCanvas.measureText(testLine).width > Width && n > 0) {\n            line = words[n] + ' ';\n            LineCount++;\n          } else line = testLine;\n        }\n\n        line = '';\n        Y = Y - (LineCount - 1) * LineSpacing + Height / 2;\n        for (let n = 0; n < words.length; n++) {\n          const testLine = line + words[n] + ' ';\n          if (MainCanvas.measureText(testLine).width > Width && n > 0) {\n            MainCanvas.fillText(line, X + Width / 2, Y);\n            line = words[n] + ' ';\n            Y += LineSpacing * 2;\n          } else {\n            line = testLine;\n          }\n        }\n        MainCanvas.fillText(line, X + Width / 2, Y);\n      } else MainCanvas.fillText(Text, X + Width / 2, Y + Height / 2);\n\n      if (MaxLine != null && TextSize != null) MainCanvas.font = TextSize;\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { BaseModule, modStorage, sdk } from 'bc-deeplib/deeplib'; import { hookAppearanceGetPreviewImageColor } from '../hooks/gui_redraw/appearance_get_preview_image_color';\nimport { hookDialogGetMenuButtonColor } from '../hooks/gui_redraw/dialog_get_menu_button_color';\nimport { hookDrawBackNextButton } from '../hooks/gui_redraw/draw_back_next_button';\nimport { hookDrawButton } from '../hooks/gui_redraw/draw_button';\nimport { hookDrawButtonHover } from '../hooks/gui_redraw/draw_button_hover';\nimport { hookDrawCheckbox } from '../hooks/gui_redraw/draw_checkbox';\nimport { hookDrawEmptyRect } from '../hooks/gui_redraw/draw_empty_rect';\nimport { hookDrawImageEx } from '../hooks/gui_redraw/draw_image_ex';\nimport { hookDrawPreviewBox } from '../hooks/gui_redraw/draw_preview_box';\nimport { hookDrawRect } from '../hooks/gui_redraw/draw_rect';\nimport { hookDrawRoomBackground } from '../hooks/gui_redraw/draw_room_background';\nimport { hookDrawText } from '../hooks/gui_redraw/draw_text';\nimport { hookDrawTextFit } from '../hooks/gui_redraw/draw_text_fit';\nimport { hookDrawTextWrap } from '../hooks/gui_redraw/draw_text_wrap';\n;\n\nexport const doRedraw = () => {\n  return modStorage.playerStorage?.GlobalModule?.modEnabled && modStorage.playerStorage.GlobalModule?.doVanillaGuiOverhaul && CurrentScreen !== 'ClubCard';\n};\n\nexport class GuiRedrawModule extends BaseModule {\n  patched: boolean = false;\n\n  load(): void {\n    hookDrawRoomBackground();\n    hookDrawButton();\n    hookDrawCheckbox();\n    hookDrawBackNextButton();\n    hookDrawImageEx();\n    hookDrawRect();\n    hookDrawEmptyRect();\n    hookDrawButtonHover();\n    hookDrawPreviewBox();\n    hookAppearanceGetPreviewImageColor();\n    hookDrawTextWrap();\n    hookDrawTextFit();\n    hookDrawText();\n    hookDialogGetMenuButtonColor();\n\n    if (doRedraw()) this.patchGui();\n  }\n\n  patchGui() {\n    if (this.patched) return false;\n\n    sdk.patchFunction('ChatSearchPermissionDraw', {\n      'bgColor = Hover ? \"red\" : \"pink\";':\n        'bgColor = \"%allowed\";',\n\n      'bgColor = Hover ? \"green\" : \"lime\";':\n        'bgColor = \"%searchBlock\";'\n    });\n\n    sdk.patchFunction('DialogDraw', {\n      'DrawRect(1087 + offset, 550, 225, 275, bgColor);':\n        'DrawRect(1087 + offset, 550, 225, 275, disabled ? \"%disabled\" : (hover ? \"%hover\" : \"%background\"));DrawEmptyRect(1087 + offset, 550, 225, 275, \"%border\");',\n\n      'const bgColor = disabled ? \"Gray\" : (hover ? \"aqua\" : \"white\");':\n        'const bgColor = disabled ? \"%disabled\" : (hover ? \"%hover\" : \"%background\");',\n    });\n\n    sdk.patchFunction('DrawProcessScreenFlash', {\n      'DrawRect(0, 0, 2000, 1000, \"#ffffff\" + DrawGetScreenFlashAlpha(FlashTime / Math.max(1, 4 - DrawLastDarkFactor)));':\n        'DrawRect(0, 0, 2000, 1000, \"!#ffffff\" + DrawGetScreenFlashAlpha(FlashTime / Math.max(1, 4 - DrawLastDarkFactor)));',\n\n      'DrawRect(0, 0, 2000, 1000, DrawScreenFlashColor + PinkFlashAlpha);':\n        'DrawRect(0, 0, 2000, 1000, \"!\" + DrawScreenFlashColor + PinkFlashAlpha);'\n    });\n\n    sdk.patchFunction('ChatAdminRun', {\n      'const ButtonBackground = canEdit ? \"White\" : \"#ebebe4\";':\n        'const ButtonBackground = canEdit ? \"%background\" : \"%disabled\";'\n    });\n\n    sdk.patchFunction('AppearanceRun', {\n      'const ButtonColor = canAccess ? \"White\" : \"#888\";':\n        'const ButtonColor = canAccess ? \"%background\" : \"%disabled\";',\n      'DrawButton(1635, 145 + (A - CharacterAppearanceOffset) * 95, 65, 65, \"\", layeringEnabled ? \"#fff\" : \"#aaa\", \"Icons/Small/Layering.png\", TextGet(\"Layering\"), !layeringEnabled);':\n        'DrawButton(1635, 145 + (A - CharacterAppearanceOffset) * 95, 65, 65, \"\", layeringEnabled ? \"%background\" : \"%disabled\", \"Icons/Small/Layering.png\", TextGet(\"Layering\"), !layeringEnabled);',\n      'DrawButton(1725, 145 + (A - CharacterAppearanceOffset) * 95, 160, 65, ColorButtonText, CanCycleColors ? ColorButtonColor : \"#aaa\", null, null, !CanCycleColors);':\n        'DrawButton(1725, 145 + (A - CharacterAppearanceOffset) * 95, 160, 65, ColorButtonText, CanCycleColors ? ColorButtonColor : \"%disabled\", null, null, !CanCycleColors);',\n      'DrawButton(1910, 145 + (A - CharacterAppearanceOffset) * 95, 65, 65, \"\", CanPickColor ? \"#fff\" : \"#aaa\", CanPickColor ? ColorIsSimple ? \"Icons/Small/ColorChange.png\" : \"Icons/Small/ColorChangeMulti.png\" : \"Icons/Small/ColorBlocked.png\", null, !CanPickColor);':\n        'DrawButton(1910, 145 + (A - CharacterAppearanceOffset) * 95, 65, 65, \"\", CanPickColor ? \"%background\" : \"%disabled\", CanPickColor ? ColorIsSimple ? \"Icons/Small/ColorChange.png\" : \"Icons/Small/ColorChangeMulti.png\" : \"Icons/Small/ColorBlocked.png\", null, !CanPickColor);',\n    });\n\n    sdk.patchFunction('ExtendedItemGetButtonColor', {\n      'ButtonColor = \"#888888\";':\n        'ButtonColor = \"%accent\";',\n      'ButtonColor = Hover ? \"red\" : \"pink\";':\n        'ButtonColor = \"%blocked\";',\n      'ButtonColor = Hover ? \"orange\" : \"#fed8b1\";':\n        'ButtonColor = \"%limited\";',\n      'ButtonColor = Hover ? \"green\" : \"lime\";':\n        'ButtonColor = \"%allowed\";',\n\n      'ButtonColor = \"Red\";':\n        'ButtonColor = \"%blocked\";',\n      'ButtonColor = \"Pink\";':\n        'ButtonColor = \"%limited\";',\n      'ButtonColor = Hover ? \"Cyan\" : \"LightGreen\";':\n        'ButtonColor = \"%allowed\";',\n      'ButtonColor = Hover ? \"Cyan\" : \"White\";':\n        'ButtonColor = Hover ? \"%hover\" : \"%background\";',\n    });\n\n    sdk.patchFunction('PreferenceSubscreenDifficultyRun', {\n      'DrawButton(500, 320 + 150 * D, 300, 64, TextGet(\"DifficultyLevel\" + D.toString()), (D == Player.GetDifficulty()) ? \"#DDFFDD\" : \"White\", \"\");':\n        'DrawButton(500, 320 + 150 * D, 300, 64, TextGet(\"DifficultyLevel\" + D.toString()), (D == Player.GetDifficulty()) ? \"%accent\" : \"%background\", \"\");',\n      'DrawButton(500, 825, 300, 64, TextGet(\"DifficultyChangeMode\") + \" \" + TextGet(\"DifficultyLevel\" + PreferenceDifficultyLevel.toString()), PreferenceDifficultyAccept ? \"White\" : \"#ebebe4\", \"\");':\n        'DrawButton(500, 825, 300, 64, TextGet(\"DifficultyChangeMode\") + \" \" + TextGet(\"DifficultyLevel\" + PreferenceDifficultyLevel.toString()), PreferenceDifficultyAccept ? \"%background\" : \"%disabled\", \"\");'\n    });\n\n    sdk.patchFunction('ChatAdminRoomCustomizationRun', {\n      'DrawButton(725, 840, 250, 65, TextGet(\"Clear\"), ChatRoomPlayerIsAdmin() ? \"White\" : \"#ebebe4\", null, null, !ChatRoomPlayerIsAdmin());':\n        'DrawButton(725, 840, 250, 65, TextGet(\"Clear\"), ChatRoomPlayerIsAdmin() ? \"%background\" : \"%disabled\", null, null, !ChatRoomPlayerIsAdmin());',\n      'DrawButton(1025, 840, 250, 65, TextGet(\"Save\"), ChatRoomPlayerIsAdmin() ? \"White\" : \"#ebebe4\", null, null, !ChatRoomPlayerIsAdmin());':\n        'DrawButton(1025, 840, 250, 65, TextGet(\"Save\"), ChatRoomPlayerIsAdmin() ? \"%background\" : \"%disabled\", null, null, !ChatRoomPlayerIsAdmin());',\n    });\n\n    sdk.patchFunction('Shop2._AssetElementDraw', {\n      'options.Background = \"cyan\";':\n        'options.Background = \"%hover\";',\n      'options.Background = \"white\";':\n        'options.Background = \"%background\";',\n      'options.Background = \"gray\";':\n        'options.Background = \"%disabled\";',\n      'options.Background = \"pink\";':\n        'options.Background = \"%equipped\";',\n    });\n\n    sdk.patchFunction('ChatRoomMenuDraw', {\n      'let color = \"White\";': 'let color = \"%background\";',\n      'color = \"White\";': 'color = \"%background\";',\n      'color = \"Pink\";': 'color = \"%blocked\";',\n      'color = \"Yellow\";': 'color = \"%limited\";',\n      'color = ChatRoomGetUpTimer === 0 ? \"Yellow\" : \"Pink\";': 'color = ChatRoomGetUpTimer === 0 ? \"%limited\" : \"%blocked\";',\n      'color = Player.IsSlow() ? \"Yellow\" : \"White\";': 'color = Player.IsSlow() ? \"%limited\" : \"%background\";',\n    });\n\n    this.patched = true;\n  }\n\n  unpatchGui() {\n    if (!this.patched) return false;\n\n    sdk.unpatchFunction('ChatSearchPermissionDraw');\n    sdk.unpatchFunction('DialogDraw');\n    sdk.unpatchFunction('DrawProcessScreenFlash');\n    sdk.unpatchFunction('ChatAdminRun');\n    sdk.unpatchFunction('AppearanceRun');\n\n    sdk.unpatchFunction('ExtendedItemGetButtonColor');\n    sdk.unpatchFunction('PreferenceSubscreenDifficultyRun');\n    sdk.unpatchFunction('ChatAdminRoomCustomizationRun');\n    sdk.unpatchFunction('Shop2._AssetElementDraw');\n    sdk.unpatchFunction('ChatRoomMenuDraw');\n\n    this.patched = false;\n  }\n\n  toggleGuiPatches() {\n    if (!doRedraw()) {\n      return this.unpatchGui();\n    } else {\n      return this.patchGui();\n    }\n  }\n}\n", "import { modStorage } from 'bc-deeplib/deeplib';\nimport { doRedraw } from '../modules/gui_redraw';\nimport { plainColors } from './color';\n\nexport function changeModColors() {\n  if (doRedraw()) {\n    changeBctColors();\n    changeMbsColors();\n  } else {\n    resetBctColors();\n    resetMbsColors();\n  }\n}\n\nfunction changeBctColors() {\n  if (Player.BCT) {\n    BCT_API.HintBackColor = plainColors.element;\n    BCT_API.HintBorderColor = plainColors.accent;\n    BCT_API.HintForeColor = plainColors.text;\n  }\n}\n\nfunction resetBctColors() {\n  if (Player.BCT) {\n    BCT_API.HintBackColor = 'yellow';\n    BCT_API.HintBorderColor = 'black';\n    BCT_API.HintForeColor = 'black';\n  }\n}\n\nfunction changeMbsColors() {\n  if (typeof mbs !== 'undefined' && mbs.API_VERSION.major === 1 && mbs.API_VERSION.minor >= 3) {\n    if (!modStorage.playerStorage.IntegrationModule.MBS) return;\n    return mbs.css.setStyle({\n      backgroundColor: plainColors.main,\n      buttonColor: plainColors.element,\n      buttonHoverColor: plainColors.elementHover,\n      borderColor: plainColors.accent,\n      tooltipColor: plainColors.elementHint,\n      textColor: plainColors.text\n    });\n  }\n}\n\nfunction resetMbsColors() {\n  if (typeof mbs !== 'undefined' && mbs.API_VERSION.major === 1 && mbs.API_VERSION.minor >= 3) {\n    if (!modStorage.playerStorage.IntegrationModule.MBS)\n      mbs.css.setStyle({\n        backgroundColor: mbs.css.DEFAULT_STYLE.backgroundColor,\n        buttonColor: mbs.css.DEFAULT_STYLE.buttonColor,\n        buttonHoverColor: mbs.css.DEFAULT_STYLE.buttonHoverColor,\n        borderColor: mbs.css.DEFAULT_STYLE.borderColor,\n        tooltipColor: mbs.css.DEFAULT_STYLE.tooltipColor,\n        textColor: mbs.css.DEFAULT_STYLE.textColor\n      });\n  }\n}\n", "import { getText } from 'bc-deeplib/deeplib';\n\nexport function useLgcModal(prompt: string, acceptCallbackFn: () => void, cancelCallbackFn: () => void) {\n  if (document.getElementById('themed-modal')) return false;\n\n  const modal = document.createElement('div');\n  const modalTitle = document.createElement('div');\n  const modalButtons = document.createElement('div');\n  const modalAcceptButton = document.createElement('div');\n  const modalCancelButton = document.createElement('div');\n\n  modal.classList.add('themed-modal');\n  modalTitle.id = 'modal-prompt';\n  modalButtons.id = 'modal-buttons';\n  modalAcceptButton.id = 'modal-button-accept';\n  modalCancelButton.id = 'modal-button-cancel';\n\n  modalAcceptButton.classList.add('modal-button');\n  modalCancelButton.classList.add('modal-button');\n\n  modalTitle.innerHTML = prompt;\n  modalAcceptButton.innerText = getText('modal.button.accept');\n  modalCancelButton.innerText = getText('modal.button.cancel');\n\n  modalAcceptButton.addEventListener('click', () => {\n    acceptCallbackFn();\n\n    modal.remove();\n  });\n\n  modalCancelButton.addEventListener('click', () => {\n    cancelCallbackFn();\n\n    modal.remove();\n  });\n\n  modalButtons.append(modalAcceptButton, modalCancelButton);\n  modal.append(modalTitle, modalButtons);\n\n  document.body.append(modal);\n}\n\nexport function camelToKebabCase(str: string) {\n  return str\n    .replace(/([A-Z])/g, '-$1')\n    .toLowerCase()\n    .replace(/^-/, '');\n}\n", "import { modStorage, Style } from 'bc-deeplib/deeplib';\nimport { IntegrationSettingsModel } from '../models/integration';\nimport { plainColors, specialColors } from './color';\nimport { camelToKebabCase } from './other';\n\ntype styles = {\n  [key in keyof Omit<IntegrationSettingsModel, 'modEnabled' | 'doShowNewVersionMessage' | 'MBS'>]: string;\n};\nconst styles: styles = {\n  inputs: '',\n  chat: '',\n  inventory: '',\n  friendList: '',\n  friendListBlur: '',\n  scrollbar: '',\n  selection: '',\n  WCE: '',\n  FUSAM: '',\n  TTS: '',\n};\n\nexport const BcStyle = {\n  injectAll() {\n    const isEnabled = modStorage.playerStorage.GlobalModule.modEnabled;\n\n    Style.injectEmbed('tmd-style', `${PUBLIC_URL}/styles/themed.css`);\n\n    if (!isEnabled) return;\n\n    Style.injectInline('tmd-root', composeRoot());\n    Style.injectEmbed('tmd-chat-room-search', `${PUBLIC_URL}/styles/chatroom_search.css`)\n\n    const styleIDs = Object.keys(styles) as (keyof typeof styles)[];\n    styleIDs.forEach((id) => {\n      if (!modStorage.playerStorage.IntegrationModule[id]) return;\n      Style.injectEmbed(id, `${PUBLIC_URL}/styles/${id}.css`);\n    });\n  },\n\n  ejectAll() {\n    Style.eject('tmd-root');\n    Style.eject('tmd-style');\n    Style.eject('tmd-chat-room-search')\n\n    const styleIDs = Object.keys(styles) as (keyof typeof styles)[];\n    styleIDs.forEach((id) => {\n      Style.eject(id);\n    });\n  },\n\n  reloadAll() {\n    BcStyle.ejectAll();\n    BcStyle.injectAll();\n  }\n};\n\nexport function composeRoot() {\n  let genedColors = '';\n\n  Object.keys(plainColors).forEach((key: string) => {\n    const typedKey = key as keyof typeof plainColors;\n    genedColors += `--tmd-${camelToKebabCase(key)}: ${plainColors[typedKey]};\\n\\t`;\n  });\n  Object.keys(specialColors).forEach((key) => {\n    const typedKey = key as keyof typeof specialColors;\n    genedColors += `--tmd-${camelToKebabCase(key)}: ${specialColors[typedKey][0]};\\n\\t`;\n    genedColors += `--tmd-${camelToKebabCase(key)}-hover: ${specialColors[typedKey][1]};\\n\\t`;\n  });\n\n  return /*css*/ `\n    :root {\n      ${genedColors}\n    }\n    `.replace(/\\t+|\\n\\s*/g, '\\t');\n}\n", "import Color from 'color';\nimport { ColorsSettingsModel } from '../models/colors';\nimport { GuiColors } from '../screens/colors';\nimport { _Color } from '../utilities/color';\nimport { changeModColors } from '../utilities/integration';\nimport { BcStyle } from '../utilities/style';\nimport { GuiRedrawModule } from './gui_redraw';\nimport { BaseModule, deepLibLogger, getModule, Subscreen } from 'bc-deeplib/deeplib';\n\nconst primaryColor = Color('#202020');\nconst elementColor = primaryColor.lighten(0.2);\nconst accentColor = Color('#440171');\nconst textColor = Color('#cccccc');\nconst specialColors = {\n  equipped: Color('#3575b5'),\n  crafted: Color('#aaa235'),\n  blocked: Color('#870c0c'),\n  limited: Color('#9d6600'),\n  allowed: Color('#008800'),\n  roomFriend: Color('#008800'),\n  roomBlocked: Color('#870c0c'),\n  roomGame: Color('#3575b5'),\n};\n\nexport class ColorsModule extends BaseModule {\n  get settingsScreen(): Subscreen | null {\n    return GuiColors;\n  }\n\n  get settings(): ColorsSettingsModel {\n    return super.settings as ColorsSettingsModel;\n  }\n\n  set settings(val) {\n    super.settings = val;\n  }\n\n  get defaultSettings() {\n    return <ColorsSettingsModel>{\n      themeSettings: {\n        themeType: 'dark'\n      },\n      base: {\n        main: primaryColor.hex(),\n        element: elementColor.hex(),\n        elementHover: elementColor.lighten(0.3).hex(),\n        elementDisabled: elementColor.darken(0.2).hex(),\n        elementHint: elementColor.lighten(0.3).hex(),\n        accent: accentColor.hex(),\n        accentHover: accentColor.lighten(0.3).hex(),\n        accentDisabled: accentColor.darken(0.2).hex(),\n        text: textColor.hex(),\n      },\n      special: {\n        equipped: specialColors.equipped.hex(),\n        crafted: specialColors.crafted.hex(),\n        blocked: specialColors.blocked.hex(),\n        limited: specialColors.limited.hex(),\n        allowed: specialColors.allowed.hex(),\n        roomFriend: specialColors.roomFriend.hex(),\n        roomBlocked: specialColors.roomBlocked.hex(),\n        roomGame: specialColors.roomGame.hex(),\n      },\n    };\n  }\n\n  load(): void {\n  }\n\n  static reloadTheme(): void {\n    deepLibLogger.info('Reloading theme');\n    const themeType = getModule<ColorsModule>('ColorsModule').settings.themeSettings.themeType;\n    document.body.dataset.tmdThemeType = themeType\n    _Color.composeRoot();\n    BcStyle.reloadAll();\n    changeModColors();\n    getModule<GuiRedrawModule>('GuiRedrawModule').toggleGuiPatches();\n  }\n}\n", "import { ShareModule } from './share';\nimport { BaseModule, getModule, sendLocalMessage as messageSendLocal } from 'bc-deeplib/deeplib';\n\nexport class CommandsModule extends BaseModule {\n  load(): void {\n    CommandCombine([\n      {\n        Tag: 'share-theme',\n        Description: '[member number]: Shares your theme with other people that have Themed installed!',\n        Action(args) {\n          if (!args) return getModule<ShareModule>('ShareModule').share(undefined);\n\n          const targetNumber = parseInt(args, 10);\n          const target = ChatRoomCharacter.find((c) => c.MemberNumber == targetNumber);\n          if (!target)\n            messageSendLocal('theme-share-error', `No character with MemberNumber ${targetNumber} found!`);\n          else\n            getModule<ShareModule>('ShareModule').share(target.MemberNumber);\n        }\n      }\n    ]);\n  }\n\n  run(): void { }\n}\n", "import { BaseSubscreen, getModule, getText, SubscreenOptions } from 'bc-deeplib/deeplib';\nimport { GlobalSettingsModel } from '../models/global';\nimport { GlobalModule } from '../modules/global';\nimport { SettingElement } from 'bc-deeplib/base/elements_typings';\nimport { ColorsModule } from '../modules/colors';\n\nexport class GuiGlobal extends BaseSubscreen {\n\n  protected static override subscreenOptions: SubscreenOptions = {\n    name: 'global',\n    icon: `${PUBLIC_URL}/images/cog.svg`\n  };\n\n  get settings(): GlobalSettingsModel {\n    return super.settings as GlobalSettingsModel;\n  }\n\n  get pageStructure(): SettingElement[][] {\n    const defaultSettings = getModule<GlobalModule>('GlobalModule').defaultSettings;\n\n    return [Object.entries(this.settings).map(([key, value]) => {\n      const typedKey = key as keyof GlobalSettingsModel;\n      return {\n        id: `tmd-global-${key}`,\n        type: 'checkbox',\n        label: getText(`settings.setting.${typedKey}.name`),\n        description: getText(`settings.setting.${typedKey}.desc`),\n        setElementValue: () => value ?? defaultSettings[typedKey],\n        setSettingValue: (val) => {\n          this.settings[typedKey] = val;\n          ColorsModule.reloadTheme();\n        }\n      };\n    })];\n  }\n\n  load(): void {\n    super.load();\n  }\n}\n", "import { BaseModule, HookPriority, sdk, Subscreen } from 'bc-deeplib/deeplib';\nimport { GlobalSettingsModel } from '../models/global';\nimport { GuiGlobal } from '../screens/global';\nimport { changeModColors } from '../utilities/integration';\nimport { ModuleCategory } from '../utilities/mod_definition';\nimport { BcStyle } from '../utilities/style';\nimport { ColorsModule } from './colors';\n\nexport class GlobalModule extends BaseModule {\n  private static transparentCharacters: number[] = [];\n\n  get settingsScreen(): Subscreen | null {\n    return GuiGlobal;\n  }\n\n  get settings(): GlobalSettingsModel {\n    return super.settings as GlobalSettingsModel;\n  }\n\n  set settings(val) {\n    super.settings = val;\n  }\n\n  get defaultSettings() {\n    return <GlobalSettingsModel>{\n      modEnabled: true,\n      doVanillaGuiOverhaul: true,\n      doUseAdvancedColoring: false,\n      doUseFlatColor: false,\n      doShowLocaleTime: true,\n      doIndicateCharacterAbsence: true,\n      doShowNewVersionMessage: true\n    };\n  }\n\n  load(): void {\n    ColorsModule.reloadTheme()\n\n    const reload = () => {\n      changeModColors();\n      BcStyle.reloadAll();\n    };\n\n    // try to be sure that the colors are updated \n    // even for mods that are loaded shortly after Themed\n    setTimeout(reload, 60_000);\n    setTimeout(reload, 300_000);\n\n    sdk.hookFunction(\n      'ChatRoomCurrentTime',\n      HookPriority.Observe,\n      (args, next) => {\n        if (!this.settings.doShowLocaleTime) return next(args);\n\n        const currentTime = new Date(Date.now());\n\n        return currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n      },\n      ModuleCategory.Global\n    );\n\n    sdk.hookFunction(\n      'DialogDraw',\n      HookPriority.Observe,\n      (args: Parameters<typeof DialogDraw>, next: (args: Parameters<typeof DialogDraw>) => ReturnType<typeof DialogDraw>) => {\n        if (!this.settings.modEnabled) return next(args);\n        if (!this.settings.doIndicateCharacterAbsence) return next(args);\n        if (!(CurrentScreen == 'ChatRoom')) return next(args);\n        if (!CurrentCharacter) return next(args);\n\n        next(args);\n\n        if (!CurrentCharacter || !CurrentCharacter?.MemberNumber) return;\n        if (CurrentCharacter.IsPlayer()) return;\n        if (!CurrentCharacter?.Canvas?.getContext('2d') || !CurrentCharacter?.CanvasBlink?.getContext('2d')) return;\n        if (ChatRoomCharacter.includes(CurrentCharacter)) {\n          if (GlobalModule.transparentCharacters.includes(CurrentCharacter.MemberNumber)) {\n            CurrentCharacter.Canvas.getContext('2d')!.globalAlpha = 1.0;\n            CurrentCharacter.CanvasBlink.getContext('2d')!.globalAlpha = 1.0;\n            CharacterAppearanceBuildCanvas(CurrentCharacter);\n            GlobalModule.transparentCharacters.filter((x) => x !== CurrentCharacter!.MemberNumber);\n          }\n        } else {\n          MainCanvas.save();\n          MainCanvas.globalCompositeOperation = 'multiply';\n          MainCanvas.beginPath();\n          MainCanvas.fillStyle = 'gray';\n          MainCanvas.fillRect(500, 0, 500, 1000);\n          MainCanvas.fill();\n          MainCanvas.restore();\n\n          if (!GlobalModule.transparentCharacters.includes(CurrentCharacter.MemberNumber)) {\n            CurrentCharacter.Canvas.getContext('2d')!.globalAlpha = 0.2;\n            CurrentCharacter.CanvasBlink.getContext('2d')!.globalAlpha = 0.2;\n            CharacterAppearanceBuildCanvas(CurrentCharacter);\n            GlobalModule.transparentCharacters.push(CurrentCharacter.MemberNumber);\n          }\n\n          DrawImageEx('Icons/Warning.svg', MainCanvas, 500 + 125, 125, { Width: 250, Height: 250, HexColor: '#ff0000', FullAlpha: true });\n        }\n      },\n      ModuleCategory.Global\n    );\n\n    sdk.hookFunction(\n      'AppearanceRun',\n      HookPriority.Observe,\n      (args: Parameters<typeof AppearanceRun>, next: (args: Parameters<typeof AppearanceRun>) => ReturnType<typeof AppearanceRun>) => {\n        if (!this.settings.modEnabled) return next(args);\n        if (!this.settings.doIndicateCharacterAbsence) return next(args);\n        if (!(CurrentScreen == 'Appearance')) return next(args);\n        if (!CharacterAppearanceSelection || !CharacterAppearanceSelection.MemberNumber) return next(args);\n\n        next(args);\n\n        if (CharacterAppearanceSelection === null) return;\n        if (CharacterAppearanceSelection.IsPlayer()) return;\n        if (!CharacterAppearanceSelection?.Canvas?.getContext('2d') || !CharacterAppearanceSelection?.CanvasBlink?.getContext('2d')) return;\n        if (ChatRoomCharacter.includes(CharacterAppearanceSelection)) {\n          if (GlobalModule.transparentCharacters.includes(CharacterAppearanceSelection.MemberNumber)) {\n            CharacterAppearanceSelection.Canvas.getContext('2d')!.globalAlpha = 1.0;\n            CharacterAppearanceSelection.CanvasBlink.getContext('2d')!.globalAlpha = 1.0;\n            CharacterAppearanceBuildCanvas(CharacterAppearanceSelection);\n            GlobalModule.transparentCharacters.filter((x) => x !== CharacterAppearanceSelection!.MemberNumber);\n          }\n        } else {\n          MainCanvas.save();\n          MainCanvas.globalCompositeOperation = 'multiply';\n          MainCanvas.beginPath();\n          MainCanvas.fillStyle = 'gray';\n          MainCanvas.fillRect(660, 0, 500, 1000);\n          MainCanvas.fill();\n          MainCanvas.restore();\n\n          if (!GlobalModule.transparentCharacters.includes(CharacterAppearanceSelection.MemberNumber)) {\n            CharacterAppearanceSelection.Canvas.getContext('2d')!.globalAlpha = 0.2;\n            CharacterAppearanceSelection.CanvasBlink.getContext('2d')!.globalAlpha = 0.2;\n            CharacterAppearanceBuildCanvas(CharacterAppearanceSelection);\n            GlobalModule.transparentCharacters.push(CharacterAppearanceSelection.MemberNumber);\n          }\n\n          DrawImageEx('Icons/Warning.svg', MainCanvas, 660 + 125, 125, { Width: 250, Height: 250, HexColor: '#ff0000' });\n        }\n      },\n      ModuleCategory.Global\n    );\n\n    sdk.hookFunction(\n      'ChatRoomSync',\n      HookPriority.Observe,\n      (args: Parameters<typeof ChatRoomSync>, next: (args: Parameters<typeof ChatRoomSync>) => ReturnType<typeof ChatRoomSync>) => {\n        Character.filter(character => character.IsPlayer() || !GlobalModule.transparentCharacters?.includes(character.MemberNumber!));\n\n        return next(args);\n      },\n      ModuleCategory.Global\n    );\n  }\n\n  run(): void { }\n}\n", "import { BaseSubscreen, getModule, getText, SubscreenOptions } from 'bc-deeplib/deeplib';\nimport { IntegrationSettingsModel } from '../models/integration';\nimport { IntegrationModule } from '../modules/integration';\nimport { SettingElement } from 'bc-deeplib/base/elements_typings';\nimport { ColorsModule } from '../modules/colors';\n\nexport class GuiIntegration extends BaseSubscreen {\n  \n  protected static override subscreenOptions: SubscreenOptions = {\n    name: 'integration',\n    icon: `${PUBLIC_URL}/images/stars.svg`\n  };\n\n  get settings(): IntegrationSettingsModel {\n    return super.settings as IntegrationSettingsModel;\n  }\n\n  get pageStructure(): SettingElement[][] {\n    const defaultSettings = getModule<IntegrationModule>('IntegrationModule').defaultSettings;\n\n    return [Object.entries(this.settings).map(([key, value]) => { \n      const typedKey = key as keyof IntegrationSettingsModel;\n\n      return {\n        id: `tmd-integration-${key}`,\n        type: 'checkbox',\n        label: getText(`integration.setting.${key}.name`),\n        description: getText(`integration.setting.${key}.desc`),\n        setElementValue: () => value ?? defaultSettings[typedKey],\n        setSettingValue: (val) => {\n          this.settings[typedKey] = val;\n          ColorsModule.reloadTheme();\n        }\n      };\n    })];\n  }\n\n  load(): void {\n    super.load();\n  }\n}\n", "import { BaseModule, Subscreen } from 'bc-deeplib/deeplib';\nimport { IntegrationSettingsModel } from '../models/integration';\nimport { GuiIntegration } from '../screens/integration';\n\nexport class IntegrationModule extends BaseModule {\n  get settingsScreen(): Subscreen | null {\n    return GuiIntegration;\n  }\n\n  get settings(): IntegrationSettingsModel {\n    return super.settings as IntegrationSettingsModel;\n  }\n\n  set settings(val) {\n    super.settings = val;\n  }\n\n  get defaultSettings() {\n    return <IntegrationSettingsModel>{\n      inputs: true,\n      chat: true,\n      inventory: true,\n      friendList: true,\n      friendListBlur: false,\n      scrollbar: true,\n      selection: true,\n      WCE: true,\n      FUSAM: true,\n      TTS: true,\n      MBS: true\n    };\n  }\n\n  load(): void {\n  }\n}\n", "const STYLES = {\n  INFO: 'color: #32CCCC',\n  LOG: 'color: #CCCC32',\n  DEBUG: 'color: #9E4BCF'\n};\n\nconst cmdPrefix = 'Themed';\n\nexport function conInfo(...args: any[]) {\n  if (typeof args[0] === 'string') console.info(`%c${cmdPrefix}: ${args[0]}`, STYLES.INFO, ...args.slice(1));\n  else console.info(`%c${cmdPrefix}:`, STYLES.LOG, ...args);\n}\n\nexport function conLog(...args: any[]) {\n  if (typeof args[0] === 'string') console.log(`%c${cmdPrefix}: ${args[0]}`, STYLES.LOG, ...args.slice(1));\n  else console.log(`%c${cmdPrefix}:`, STYLES.LOG, ...args);\n}\n\nexport function conWarn(...args: any[]) {\n  if (typeof args[0] === 'string') console.warn(`%c${cmdPrefix}: ${args[0]}`, STYLES.LOG, ...args.slice(1));\n  else console.warn(`%c${cmdPrefix}: `, STYLES.LOG, ...args);\n}\n\nexport function conErr(...args: any[]) {\n  if (typeof args[0] === 'string') console.error(`%c${cmdPrefix}: ${args[0]}`, STYLES.LOG, ...args.slice(1));\n  else console.error(`%c${cmdPrefix}:`, STYLES.LOG, ...args);\n}\n\nexport function conDebug(...args: any[]) {\n  if (IS_DEVEL) {\n    if (typeof args[0] === 'string') console.debug(`%c${cmdPrefix}: ${args[0]}`, STYLES.DEBUG, ...args.slice(1));\n    else console.debug(`%c${cmdPrefix}:`, STYLES.LOG, ...args);\n  }\n}\n", "import { advElement, BaseSubscreen, getText, layout, Modal, modStorage, SubscreenOptions } from 'bc-deeplib/deeplib';\nimport { BaseColorsModel } from '../models/colors';\nimport { ProfileEntryModel, ProfilesSettingsModel } from '../models/profiles';\nimport { ColorsModule } from '../modules/colors';\nimport { conWarn } from '../utilities/console';\n\nexport class GuiProfiles extends BaseSubscreen {\n\n  protected static override subscreenOptions: SubscreenOptions = {\n    name: 'profiles',\n    icon: `${PUBLIC_URL}/images/users_group.svg`,\n    drawCharacter: false\n  };\n\n  get settings(): ProfilesSettingsModel {\n    return super.settings as ProfilesSettingsModel;\n  }\n\n  load() {\n    super.load();\n\n    const profilesContainer = ElementCreate({\n      tag: 'div',\n      classList: ['tmd-profiles-container'],\n      attributes: {\n        id: 'tmd-profiles-container'\n      },\n      parent: layout.getSubscreen()\n    });\n\n    for (let i = 0; i < 3; i++) {\n      const profileId = i + 1;\n      const profileName = this.settings[profileId].name || getText('profiles.text.profile') + ` ${profileId}`;\n\n      const profileElement = ElementCreate({\n        tag: 'div',\n        attributes: {\n          id: `tmd-profile-${profileId}`,\n        },\n        classList: ['tmd-profile'],\n        children: [\n          advElement.createLabel({\n            id: `tmd-profile-label-${profileId}`,\n            label: profileName\n          }),\n          this.createColorShowcase(profileId),\n          {\n            tag: 'div',\n            classList: ['tmd-profile-buttons'],\n            children: [\n              advElement.createButton({\n                id: `tmd-profiles-profile-save-${profileId}`,\n                onClick: () => this.handleProfilesSaving(profileId),\n                options: {\n                  label: getText('profiles.button.save'),\n                }\n              }),\n\n              advElement.createButton({\n                id: `tmd-profiles-profile-load-${profileId}`,\n                onClick: () => this.handleProfilesLoading(profileId),\n                options: {\n                  label: getText('profiles.button.load'),\n                  disabled: !this.profileExists(profileId)\n                }\n              }),\n\n              advElement.createButton({\n                id: `tmd-profiles-profile-delete-${profileId}`,\n                onClick: () => this.handleProfilesDeleting(profileId),\n                options: {\n                  label: getText('profiles.button.delete'),\n                  disabled: !this.profileExists(profileId)\n                }\n              }),\n            ]\n          }\n        ]\n      });\n\n      profilesContainer.appendChild(profileElement);\n    }\n\n    CharacterAppearanceForceUpCharacter = Player.MemberNumber ?? -1;\n  }\n\n  resize(onLoad?: boolean): void {\n    super.resize(onLoad);\n  }\n\n  private async handleProfilesSaving(profileId: number): Promise<void> {\n    if (!this.profileCanBeSaved(profileId)) return;\n\n    const name = await Modal.prompt(getText('profiles.prompt'));\n    if (name === null) return;\n\n    const storage = modStorage.playerStorage;\n    const profile = this.settings[profileId];\n\n    if (!profile || Object.keys(profile).length === 0) {\n      this.settings[profileId] = {} as ProfileEntryModel;\n    }\n\n    this.settings[profileId] = CommonCloneDeep({\n      name: name,\n      data: {\n        GlobalModule: storage.GlobalModule,\n        ColorsModule: storage.ColorsModule,\n        IntegrationModule: storage.IntegrationModule,\n      },\n    });\n\n    const display = name ? `\"${name}\"` : profileId;\n    ToastManager.success(`${getText('profiles.text.profile')} ${display} ${getText('profiles.text.has_been_saved')}`);\n\n    this.updateProfileLabel(profileId);\n    this.updateProfileButtons(profileId);\n    this.updateProfileColorShowcase(profileId);\n  }\n\n  private handleProfilesLoading(profileId: number): void {\n    if (!this.profileExists(profileId)) {\n      ToastManager.error(`${getText('profiles.text.profile')} ${profileId} ${getText('profiles.text.doesnt_exist')}`);\n      return;\n    }\n\n    const data = this.settings[profileId].data;\n\n    modStorage.playerStorage = CommonCloneDeep({\n      ...modStorage.playerStorage,\n      GlobalModule: data.GlobalModule,\n      ColorsModule: data.ColorsModule,\n      IntegrationModule: data.IntegrationModule,\n    });\n\n    const name = this.settings[profileId].name;\n    const display = name ? `\"${name}\"` : profileId;\n    ToastManager.success(`${getText('profiles.text.profile')} ${display} ${getText('profiles.text.has_been_loaded')}`);\n\n    ColorsModule.reloadTheme();\n  }\n\n  private handleProfilesDeleting(profileId: number): void {\n    if (!this.profileExists(profileId)) {\n      ToastManager.info(`${getText('profiles.text.profile')} ${profileId} ${getText('profiles.text.doesnt_exist')}`);\n      return;\n    }\n\n    const name = this.settings[profileId].name;\n\n    this.settings[profileId] = {\n      name: '',\n      data: {}\n    } as ProfileEntryModel;\n\n    const display = name ? `\"${name}\"` : profileId;\n    ToastManager.success(`${getText('profiles.text.profile')} ${display} ${getText('profiles.text.has_been_deleted')}`);\n\n    this.updateProfileLabel(profileId);\n    this.updateProfileButtons(profileId);\n    this.updateProfileColorShowcase(profileId);\n  }\n\n  private updateProfileButtons(profileId: number): void {\n    const profileSaveButton = ElementWrap(`tmd-profiles-profile-save-${profileId}`) as HTMLButtonElement;\n    const profileLoadButton = ElementWrap(`tmd-profiles-profile-load-${profileId}`) as HTMLButtonElement;\n    const profileDeleteButton = ElementWrap(`tmd-profiles-profile-delete-${profileId}`) as HTMLButtonElement;\n\n    if (!profileSaveButton || !profileLoadButton || !profileDeleteButton) return;\n\n    profileSaveButton.disabled = !this.profileCanBeSaved(profileId);\n    profileLoadButton.disabled = !this.profileExists(profileId);\n    profileDeleteButton.disabled = !this.profileExists(profileId);\n  }\n\n  private updateProfileLabel(profileId: number): void {\n    const name = this.settings[profileId].name;\n    const display = name ? name : `${getText('profiles.text.profile')} ${profileId}`;\n    const profileLabel = ElementWrap(`tmd-profile-label-${profileId}`);\n    if (!profileLabel) return;\n    profileLabel.textContent = display;\n  }\n\n  private updateProfileColorShowcase(profileId: number): void {\n    ElementWrap(`tmd-profile-color-showcase-${profileId}`)?.remove();\n\n    const colorShowcase = this.createColorShowcase(profileId);\n\n    if (colorShowcase) {\n      ElementWrap(`tmd-profile-label-${profileId}`)?.after(colorShowcase);\n    }\n  }\n\n  private createColorShowcase(profileId: number): HTMLDivElement | null {\n    const exists = this.profileExists(profileId);\n\n    if (!exists) return null;\n\n    const profile = this.settings[profileId];\n\n    const colors = Object.entries(profile.data.ColorsModule.base);\n\n    return ElementCreate({\n      tag: 'div',\n      classList: ['tmd-profile-color-showcase'],\n      attributes: {\n        id: `tmd-profile-color-showcase-${profileId}`\n      },\n      children:\n        colors.map(([key, value]) => {\n          const isBaseMode = !profile.data.GlobalModule.doUseAdvancedColoring;\n          const baseModeKey = (key: keyof BaseColorsModel) => ['main', 'accent', 'text'].includes(key);\n\n          if (isBaseMode && !baseModeKey(key as keyof BaseColorsModel)) {\n            return;\n          }\n\n          return advElement.createButton({\n            id: `tmd-profile-color-showcase-${profileId}-${key}`,\n            htmlOptions: {\n              button: {\n                style: {\n                  '--background-color': value\n                },\n                classList: ['tmd-profile-color-showcase-button']\n              }\n            },\n            options: {\n              noStyling: true,\n              tooltip: getText(`colors.setting.${key}.name`),\n            }\n          });\n        })\n    });\n  }\n\n  private isValidProfileId(id: number): boolean {\n    if (id < 1 || id > 3) {\n      conWarn(`Invalid profile id ${id}`);\n      return false;\n    }\n\n    return true;\n  }\n\n  private profileCanBeSaved(profileId: number): boolean {\n    if (!this.isValidProfileId(profileId)) return false;\n\n    return true;\n  }\n\n  private profileExists(profileId: number): boolean {\n    if (!this.isValidProfileId(profileId)) return false;\n\n    const data = this.settings[profileId]?.data || {};\n\n    if (!data || Object.keys(data).length === 0) return false;\n\n    return true;\n  }\n}\n", "import { BaseModule, deepMergeMatchingProperties, getModule, modStorage, Subscreen } from 'bc-deeplib/deeplib';\nimport { ProfileSaveModel, ProfilesSettingsModel } from '../models/profiles';\nimport { GuiProfiles } from '../screens/profiles';\nimport { ColorsModule } from './colors';\nimport { GlobalModule } from './global';\nimport { IntegrationModule } from './integration';\n\nexport class ProfilesModule extends BaseModule {\n  get settings(): ProfilesSettingsModel {\n    return super.settings as ProfilesSettingsModel;\n  }\n\n  set settings(val) {\n    super.settings = val;\n  }\n\n  get settingsScreen(): Subscreen | null {\n    return GuiProfiles;\n  }\n\n  get defaultSettings() {\n    const profileDefaults: ProfileSaveModel = {\n      GlobalModule: getModule<GlobalModule>('GlobalModule').defaultSettings,\n      ColorsModule: getModule<ColorsModule>('ColorsModule').defaultSettings,\n      IntegrationModule: getModule<IntegrationModule>('IntegrationModule').defaultSettings\n    };\n\n    const data = modStorage.playerStorage?.ProfilesModule || {};\n    \n    for (let i = 0; i < 3; i++) {\n      const profileIndex = i + 1;\n      if (!data[profileIndex] || Object.keys(data[profileIndex]).length === 0) {\n        data[profileIndex] = {\n          data: <ProfileSaveModel>{},\n          name: ''\n        };\n      }\n      \n      if (Object.keys(data[profileIndex].data).length > 0) \n        data[profileIndex].data = deepMergeMatchingProperties<ProfileSaveModel>(profileDefaults, data[profileIndex].data);\n    }\n\n    return data;\n  }\n\n  load(): void {\n  }\n}\n", "import { ColorsSettingsModel } from '../models/colors';\nimport { ColorsModule } from './colors';\nimport { GlobalSettingsModel } from '../models/global';\nimport { advElement, BaseModule, EventChannel, getText, sendActionMessage as messageSendAction, sendLocalMessage as messageSendLocal, Modal, modStorage } from 'bc-deeplib/deeplib';\n\ninterface ThemedMessageModel {\n  Settings: GlobalSettingsModel,\n  Theme: ColorsSettingsModel,\n  ThemeVersion: string,\n}\n\ntype Events = {\n  ThemedTheme: ThemedMessageModel;\n};\n\nexport class ShareModule extends BaseModule {\n  channel: EventChannel<Events, 'share'> | null = null;\n\n  load(): void {\n    this.channel = new EventChannel('share');\n\n    this.channel.registerListener('ThemedTheme', (data, sender) => {\n      const theme = data.Theme;\n      const version = data.ThemeVersion;\n      const settings = data.Settings;\n\n      const senderName = CharacterNickname(sender);\n      const prompt = getText('modal.prompt.share')\n        .replace('$Sender', `${senderName} (${sender.MemberNumber})`)\n        .replace('$SenderPronoun', CharacterPronoun(sender, 'Possessive', false))\n        .split('<br>')\n        .map((str) => ({\n          tag: 'span',\n          children: [str]\n        }) as HTMLOptions<'span'>);\n\n      const shareNotification = getText('modal.prompt.chat_share_notification')\n        .replace('$Sender', `${senderName} (${sender.MemberNumber})`);\n\n      const message = ElementCreate({\n        tag: 'div',\n        classList: ['themed-chat-modal'],\n        attributes: {\n          'data-time': ChatRoomCurrentTime(),\n          'data-sender': sender.MemberNumber?.toString(),\n          id: sender.MemberNumber?.toString()\n        },\n        children: [\n          {\n            tag: 'span',\n            classList: ['modal-prompt'],\n            children: [\n              shareNotification\n            ]\n          },\n          advElement.createButton({\n            id: ElementGenerateID(),\n            htmlOptions: {\n              button: {\n                classList: ['modal-button']\n              }\n            },\n            options: {\n              label: getText('modal.button.show'),\n            },\n            onClick: () => {\n              if (!version || version !== Player.Themed.Version) {\n                messageSendLocal('theme-not-up-to-date', `Theme sent by ${senderName} is not up-to-date!`);\n                return;\n              }\n\n              Modal.confirm(prompt).then((result) => {\n                if (result) {\n                  this.acceptShare(theme, settings);\n                }\n              });\n            },\n          })\n        ]\n      });\n\n      ChatRoomAppendChat(message);\n    });\n  }\n\n  acceptShare(data: ColorsSettingsModel, settings: GlobalSettingsModel): void {\n    Player.Themed.ColorsModule = data;\n    Player.Themed.GlobalModule.doUseAdvancedColoring = settings.doUseAdvancedColoring;\n    modStorage.save();\n\n    ColorsModule.reloadTheme();\n  }\n\n  share(target: number | undefined): void {\n    messageSendLocal('theme-share', 'Shared theme with ' + (target ? CharacterNickname(ChatRoomCharacter.find((c) => c.MemberNumber == target) as Character) : 'everyone'));\n    messageSendAction(`${CharacterNickname(Player)} shares ${CharacterPronoun(Player, 'Possessive', false)} Themed theme!`, target);\n\n    this.channel?.sendEvent('ThemedTheme', {\n      Theme: Player.Themed.ColorsModule,\n      Settings: Player.Themed.GlobalModule,\n      ThemeVersion: Player.Themed.Version\n    });\n  }\n}\n", "import { BaseMigrator } from 'bc-deeplib/deeplib';\nimport { ColorsModule } from '../modules/colors';\n\nexport class DeeplibMigrator extends BaseMigrator {\n  get migrationVersion(): string {\n    return '1.6.0';\n  }\n\n  migrate() {\n    // @ts-expect-error migration\n    Player.Themed.GlobalModule.modEnabled = Player.Themed.GlobalModule.themedEnabled;\n    // @ts-expect-error migration\n    delete Player.Themed.GlobalModule.themedEnabled;\n\n    ColorsModule.reloadTheme();\n  }\n}", "import { BaseSubscreen, getText, layout, modules, advElement, SubscreenOptions } from 'bc-deeplib/deeplib';\nimport { settingsReset } from '../utilities/data';\nimport { ColorsModule } from '../modules/colors';\n\nexport class GuiReset extends BaseSubscreen {\n  get name(): string {\n    return 'reset';\n  }\n\n  protected static override subscreenOptions: SubscreenOptions = {\n    drawCharacter: false,\n    name: 'reset'\n  };\n\n  load() {\n    super.load();\n    let timeToConfirm = 5;\n\n    ElementCreate({\n      tag: 'div',\n      classList: ['tmd-reset-container'],\n      attributes: {\n        id: 'tmd-reset-container'\n      },\n      children: [\n        advElement.createLabel({\n          id: 'themed-reset-label-perma_reset_of_mod_data',\n          label: getText('reset.label.perma_reset_of_mod_data'),\n        }),\n        {\n          tag: 'br'\n        },\n        advElement.createLabel({\n          id: 'themed-reset-label-warning',\n          label: getText('reset.label.warning'),\n        }),\n        advElement.createLabel({\n          id: 'themed-reset-label-if_u_confirm_perma_reset',\n          label: getText('reset.label.if_u_confirm_perma_reset'),\n        }),\n        {\n          tag: 'br'\n        },\n        advElement.createLabel({\n          id: 'themed-reset-label-youll_able_to_use_mod',\n          label: getText('reset.label.youll_able_to_use_mod'),\n        }),\n        {\n          tag: 'br'\n        },\n        advElement.createLabel({\n          id: 'themed-reset-label-action_cannot_be_undone',\n          label: getText('reset.label.action_cannot_be_undone'),\n        }),\n        {\n          tag: 'br'\n        },\n        {\n          tag: 'div',\n          attributes: {\n            id: 'tmd-reset-buttons-container'\n          },\n          children: [\n            advElement.createButton({\n              id: 'tmd-reset-button',\n              onClick: () => {\n                this.confirm();\n                timer?.();\n              },\n              options: {\n                label: `${getText('reset.button.confirm')} (${timeToConfirm})`,\n              },\n              disabled: true\n            }),\n            advElement.createButton({\n              id: 'tmd-cancel-button',\n              onClick: () => {\n                this.exit();\n                timer?.();\n              },\n              options: {\n                label: getText('reset.button.cancel')\n              }\n            })\n          ]\n        }\n      ],\n      parent: layout.getSubscreen(),\n    });\n\n    const timer = TimerCreate(() => {\n      timeToConfirm--;\n      const button = ElementWrap('tmd-reset-button') as HTMLButtonElement | null;\n      const buttonLabel = button?.querySelector('.button-label');\n\n      if (buttonLabel) {\n        buttonLabel.textContent = `${getText('reset.button.confirm')} (${timeToConfirm})`;\n      }\n\n      if (timeToConfirm <= 0) {\n        if (button && buttonLabel) {\n          button.disabled = false;\n          buttonLabel.textContent = getText('reset.button.confirm');\n        }\n\n        timer();\n      }\n    }, 1000, true, 'universal');\n  }\n\n  resize(onLoad?: boolean): void {\n    super.resize(onLoad);\n    ElementSetPosition('tmd-reset-container', 500, 175, 'top-left');\n    ElementSetSize('tmd-reset-container', 1000, null);\n  }\n\n  confirm() {\n    settingsReset();\n\n    for (const module of modules()) {\n      module.registerDefaultSettings();\n    }\n\n    ColorsModule.reloadTheme();\n\n    this.setSubscreen(null);\n    PreferenceSubscreenExtensionsClear();\n  }\n}\n", "import { BaseMigrator, BaseModule, GUI, GuiImportExport, initMod, modStorage, VersionModule } from 'bc-deeplib/deeplib';\nimport { loadLoginOptions } from './hooks/login_options';\nimport { V140Migrator } from './migrators/v140_migrator';\nimport { ColorsModule } from './modules/colors';\nimport { CommandsModule } from './modules/commands';\nimport { GlobalModule } from './modules/global';\nimport { GuiRedrawModule } from './modules/gui_redraw';\nimport { IntegrationModule } from './modules/integration';\nimport { ProfilesModule } from './modules/profiles';\nimport { ShareModule } from './modules/share';\nimport { MOD_VERSION_CAPTION } from './utilities/mod_definition';\nimport { DeeplibMigrator } from './migrators/deeplib_migrator';\nimport { GuiReset } from './screens/reset';\n\n(async () => {\n  const changelog = await fetch(`${PUBLIC_URL}/text/changelog.txt`)\n    .then((res) => res.text())\n    .then((text) => text.replace(/\\r\\n/g, '\\n'));\n\n  const modules: Array<BaseModule> = [\n    new GUI({\n      buttonText: 'Themed',\n      identifier: 'Themed',\n      image: `${PUBLIC_URL}/images/mod.png`,\n    }),\n    new GlobalModule(),\n    new ColorsModule(),\n    new GuiRedrawModule(),\n    new IntegrationModule(),\n    new ProfilesModule(),\n    new CommandsModule(),\n    new ShareModule(),\n    new VersionModule({\n      newVersionMessage: changelog\n    })\n  ];\n\n  const migrators: Array<BaseMigrator> = [\n    new V140Migrator(),\n    new DeeplibMigrator(),\n  ];\n\n  return initMod({\n    beforeLogin: () => loadLoginOptions(),\n    modInfo: {\n      info: {\n        name: 'Themed',\n        fullName: 'Themed',\n        version: MOD_VERSION_CAPTION\n      }\n    },\n    mainMenuOptions: {\n      importExportSubscreen: new GuiImportExport({\n        customFileExtension: '.tmd',\n        onImport() {\n          modStorage.save();\n          ColorsModule.reloadTheme();\n        },\n      }),\n      repoLink: 'https://github.com/dDeepLb/Themed-BC',\n      wikiLink: 'https://github.com/dDeepLb/Themed-BC/wiki',\n      resetSubscreen: new GuiReset()\n    },\n    modules,\n    migrators,\n    translationOptions: {\n      pathToTranslationsFolder: `${PUBLIC_URL}/translations/`,\n    }\n  });\n})();\n"],
  "mappings": "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",
  "names": ["o", "e", "__name", "t", "n", "r", "i", "a", "c", "l", "d", "g", "s", "p", "_a", "options", "MOD_VERSION", "BaseMigrator", "elem", "link", "rawSdkImport", "models", "convert", "primaryColor", "elementColor", "accentColor", "textColor", "Color", "Color", "drawRect", "color", "URL", "specialColors", "key", "modules"]
}
