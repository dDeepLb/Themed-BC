{
  "version": 3,
  "sources": ["../node_modules/.pnpm/bondage-club-mod-sdk@1.2.0/node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js", "../src/Themed.ts", "../src/Base/Modules.ts", "../src/Utilities/ModDefinition.ts", "../src/Base/BaseModule.ts", "../src/Utilities/SDK.ts", "../src/Utilities/Console.ts", "../src/Hooks/GuiRedraw/AppearanceGetPreviewImageColor.ts", "../src/Utilities/Color.ts", "../src/Hooks/GuiRedraw/DrawBackNextButton.ts", "../src/Utilities/Drawing.ts", "../src/Hooks/GuiRedraw/DrawButton.ts", "../src/Hooks/GuiRedraw/DrawButtonHover.ts", "../src/Hooks/GuiRedraw/DrawCheckbox.ts", "../src/Hooks/GuiRedraw/DrawEmptyRect.ts", "../src/Hooks/GuiRedraw/DrawImageEx.ts", "../src/Hooks/GuiRedraw/DrawPreviewBox.ts", "../src/Hooks/GuiRedraw/DrawRect.ts", "../src/Utilities/String.ts", "../src/Utilities/Data.ts", "../src/Hooks/GuiRedraw/DrawRoomBackground.ts", "../src/Hooks/GuiRedraw/DrawText.ts", "../src/Hooks/GuiRedraw/DrawTextFit.ts", "../src/Hooks/GuiRedraw/DrawTextWrap.ts", "../src/Modules/GuiRedraw.ts", "../src/Translation.ts", "../src/Base/SettingDefinitions.ts", "../src/Base/BaseSetting.ts", "../src/Static/Styles/BC_Chat.css", "../src/Static/Styles/BC_FriendList.css", "../src/Static/Styles/BC_Inputs.css", "../src/Static/Styles/BC_Other.css", "../src/Static/Styles/FBC.css", "../src/Static/Styles/FUSAM.css", "../src/Static/Styles/TTS.css", "../src/Static/Styles/Themed.css", "../src/Utilities/Integration.ts", "../src/Utilities/Style.ts", "../src/Screens/Reset.ts", "../src/Screens/Support.ts", "../src/Screens/MainMenu.ts", "../src/Utilities/RibbonMenu.ts", "../src/Base/SettingUtils.ts", "../src/Screens/Colors.ts", "../src/Utilities/Other.ts", "../src/Modules/Colors.ts", "../src/Modules/Commands.ts", "../src/Screens/Global.ts", "../src/Modules/Global.ts", "../src/Screens/Integration.ts", "../src/Modules/Integration.ts", "../src/Screens/Profiles.ts", "../src/Modules/Profiles.ts", "../src/Modules/Share.ts", "../src/Static/HTML/Changelog.html", "../src/Modules/Version.ts"],
  "sourcesContent": ["// Bondage Club Mod Development Kit (1.2.0)\n// For more info see: https://github.com/Jomshir98/bondage-club-mod-sdk\n/** @type {ModSDKGlobalAPI} */\nvar bcModSdk=function(){\"use strict\";const o=\"1.2.0\";function e(o){alert(\"Mod ERROR:\\n\"+o);const e=new Error(o);throw console.error(e),e}const t=new TextEncoder;function n(o){return!!o&&\"object\"==typeof o&&!Array.isArray(o)}function r(o){const e=new Set;return o.filter((o=>!e.has(o)&&e.add(o)))}const i=new Map,a=new Set;function c(o){a.has(o)||(a.add(o),console.warn(o))}function s(o){const e=[],t=new Map,n=new Set;for(const r of f.values()){const i=r.patching.get(o.name);if(i){e.push(...i.hooks);for(const[e,a]of i.patches.entries())t.has(e)&&t.get(e)!==a&&c(`ModSDK: Mod '${r.name}' is patching function ${o.name} with same pattern that is already applied by different mod, but with different pattern:\\nPattern:\\n${e}\\nPatch1:\\n${t.get(e)||\"\"}\\nPatch2:\\n${a}`),t.set(e,a),n.add(r.name)}}e.sort(((o,e)=>e.priority-o.priority));const r=function(o,e){if(0===e.size)return o;let t=o.toString().replaceAll(\"\\r\\n\",\"\\n\");for(const[n,r]of e.entries())t.includes(n)||c(`ModSDK: Patching ${o.name}: Patch ${n} not applied`),t=t.replaceAll(n,r);return(0,eval)(`(${t})`)}(o.original,t);let i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(t,o.name,n),c=r.apply(this,e);return null==a||a(),c};for(let t=e.length-1;t>=0;t--){const n=e[t],r=i;i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(t,o.name,n.mod),c=n.hook.apply(this,[e,o=>{if(1!==arguments.length||!Array.isArray(e))throw new Error(`Mod ${n.mod} failed to call next hook: Expected args to be array, got ${typeof o}`);return r.call(this,o)}]);return null==a||a(),c}}return{hooks:e,patches:t,patchesSources:n,enter:i,final:r}}function l(o,e=!1){let r=i.get(o);if(r)e&&(r.precomputed=s(r));else{let e=window;const a=o.split(\".\");for(let t=0;t<a.length-1;t++)if(e=e[a[t]],!n(e))throw new Error(`ModSDK: Function ${o} to be patched not found; ${a.slice(0,t+1).join(\".\")} is not object`);const c=e[a[a.length-1]];if(\"function\"!=typeof c)throw new Error(`ModSDK: Function ${o} to be patched not found`);const l=function(o){let e=-1;for(const n of t.encode(o)){let o=255&(e^n);for(let e=0;e<8;e++)o=1&o?-306674912^o>>>1:o>>>1;e=e>>>8^o}return((-1^e)>>>0).toString(16).padStart(8,\"0\").toUpperCase()}(c.toString().replaceAll(\"\\r\\n\",\"\\n\")),d={name:o,original:c,originalHash:l};r=Object.assign(Object.assign({},d),{precomputed:s(d),router:()=>{},context:e,contextProperty:a[a.length-1]}),r.router=function(o){return function(...e){return o.precomputed.enter.apply(this,[e])}}(r),i.set(o,r),e[r.contextProperty]=r.router}return r}function d(){for(const o of i.values())o.precomputed=s(o)}function p(){const o=new Map;for(const[e,t]of i)o.set(e,{name:e,original:t.original,originalHash:t.originalHash,sdkEntrypoint:t.router,currentEntrypoint:t.context[t.contextProperty],hookedByMods:r(t.precomputed.hooks.map((o=>o.mod))),patchedByMods:Array.from(t.precomputed.patchesSources)});return o}const f=new Map;function u(o){f.get(o.name)!==o&&e(`Failed to unload mod '${o.name}': Not registered`),f.delete(o.name),o.loaded=!1,d()}function g(o,t){o&&\"object\"==typeof o||e(\"Failed to register mod: Expected info object, got \"+typeof o),\"string\"==typeof o.name&&o.name||e(\"Failed to register mod: Expected name to be non-empty string, got \"+typeof o.name);let r=`'${o.name}'`;\"string\"==typeof o.fullName&&o.fullName||e(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof o.fullName}`),r=`'${o.fullName} (${o.name})'`,\"string\"!=typeof o.version&&e(`Failed to register mod ${r}: Expected version to be string, got ${typeof o.version}`),o.repository||(o.repository=void 0),void 0!==o.repository&&\"string\"!=typeof o.repository&&e(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof o.version}`),null==t&&(t={}),t&&\"object\"==typeof t||e(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=f.get(o.name);a&&(a.allowReplace&&i||e(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\\nWas the mod loaded multiple times?`),u(a));const c=o=>{let e=g.patching.get(o.name);return e||(e={hooks:[],patches:new Map},g.patching.set(o.name,e)),e},s=(o,t)=>(...n)=>{var i,a;const c=null===(a=(i=m.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,o,g.name);g.loaded||e(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==c||c(),s},p={unload:s(\"unload\",(()=>u(g))),hookFunction:s(\"hookFunction\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);\"number\"!=typeof t&&e(`Mod ${r} failed to hook function '${o}': Expected priority number, got ${typeof t}`),\"function\"!=typeof n&&e(`Mod ${r} failed to hook function '${o}': Expected hook function, got ${typeof n}`);const s={mod:g.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const o=a.hooks.indexOf(s);o>=0&&(a.hooks.splice(o,1),d())}})),patchFunction:s(\"patchFunction\",((o,t)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);n(t)||e(`Mod ${r} failed to patch function '${o}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))\"string\"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):e(`Mod ${r} failed to patch function '${o}': Invalid format of patch '${n}'`);d()})),removePatches:s(\"removePatches\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const t=l(o);c(t).patches.clear(),d()})),callOriginal:s(\"callOriginal\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to call a function: Expected function name string, got ${typeof o}`);const i=l(o);return Array.isArray(t)||e(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s(\"getOriginalHash\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to get hash: Expected function name string, got ${typeof o}`);return l(o).originalHash}))},g={name:o.name,fullName:o.fullName,version:o.version,repository:o.repository,allowReplace:i,api:p,loaded:!0,patching:new Map};return f.set(o.name,g),Object.freeze(p)}function h(){const o=[];for(const e of f.values())o.push({name:e.name,fullName:e.fullName,version:e.version,repository:e.repository});return o}let m;const y=void 0===window.bcModSdk?window.bcModSdk=function(){const e={version:o,apiVersion:1,registerMod:g,getModsInfo:h,getPatchingInfo:p,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return m=e,Object.freeze(e)}():(n(window.bcModSdk)||e(\"Failed to init Mod SDK: Name already in use\"),1!==window.bcModSdk.apiVersion&&e(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==o&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);return\"undefined\"!=typeof exports&&(Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=y),y}();\n", "import { modules, registerModule } from './Base/Modules';\nimport { GUI } from './Base/SettingUtils';\nimport { ColorsModule } from './Modules/Colors';\nimport { CommandsModule } from './Modules/Commands';\nimport { GlobalModule } from './Modules/Global';\nimport { GuiRedrawModule } from './Modules/GuiRedraw';\nimport { IntegrationModule } from './Modules/Integration';\nimport { ProfilesModule } from './Modules/Profiles';\nimport { ShareModule } from './Modules/Share';\nimport { VersionModule } from './Modules/Version';\nimport { Localization } from './Translation';\nimport { _Color } from './Utilities/Color';\nimport { conDebug, conLog } from './Utilities/Console';\nimport { dataStore, dataTake } from './Utilities/Data';\nimport { ModName, ModVersion } from './Utilities/ModDefinition';\nimport { RibbonMenu } from './Utilities/RibbonMenu';\nimport { hookFunction } from './Utilities/SDK';\nimport { BcStyle } from './Utilities/Style';\n\nfunction initWait() {\n  conLog('Init wait');\n  if (CurrentScreen == null || CurrentScreen === 'Login') {\n    hookFunction('LoginResponse', 0, (args, next) => {\n      conDebug('Init! LoginResponse caught: ', args);\n      next(args);\n      const response = args[0];\n      if (response && typeof response.Name === 'string' && typeof response.AccountName === 'string') {\n        init();\n      }\n    });\n  } else {\n    conLog('Already logged in, init');\n    init();\n  }\n}\n\nexport function init() {\n  if (window.ThemedLoaded) return;\n\n  Localization.load();\n\n  RibbonMenu.registerMod(ModName);\n\n  dataTake();\n\n  if (!initModules()) {\n    unload();\n    return;\n  }\n\n  VersionModule.checkIfNewVersion();\n\n  dataStore();\n\n  _Color.composeRoot();\n  BcStyle.injectAll();\n\n  window.ThemedLoaded = true;\n  conLog(`Loaded! Version: ${ModVersion}`);\n}\n\nfunction initModules(): boolean {\n  registerModule(new GUI());\n  registerModule(new GlobalModule());\n  registerModule(new ColorsModule());\n  registerModule(new GuiRedrawModule());\n  registerModule(new IntegrationModule());\n  registerModule(new ProfilesModule());\n  registerModule(new CommandsModule());\n  registerModule(new ShareModule());\n  registerModule(new VersionModule());\n\n  for (const m of modules()) {\n    m.Init();\n  }\n\n  for (const m of modules()) {\n    m.Load();\n  }\n\n  for (const m of modules()) {\n    m.Run();\n  }\n\n  conLog('Modules Loaded.');\n  return true;\n}\n\nexport function unload(): true {\n  unloadModules();\n\n  delete window.ThemedLoaded;\n  conLog('Unloaded.');\n  return true;\n}\n\nfunction unloadModules() {\n  for (const m of modules()) {\n    m.Unload();\n  }\n}\n\ninitWait();\n", "import { BaseModule } from './BaseModule';\n\nexport const modulesMap: Map<string, BaseModule> = new Map<string, BaseModule>();\n\nexport function modules(): BaseModule[] {\n  return [...modulesMap.values()];\n}\n\nexport function registerModule<T extends BaseModule>(module: T): T {\n  modulesMap.set(module.constructor.name, module);\n  return module;\n}\n\nexport function getModule<T extends BaseModule>(moduleType: string): T {\n  return modulesMap.get(moduleType) as T;\n}\n", "export const ModName = 'Themed';\nexport const FullModName = 'BC Themed';\nexport const ModVersion = '1.3.2';\nexport const ModRepository = 'https://github.com/dDeepLb/Themed-BC';\n\nexport const DebugMode = false;\n", "import { BaseSettingsModel } from '../Models/Global';\nimport { SettingsModel } from '../Models/Settings';\nimport { Subscreen } from './SettingDefinitions';\n\nexport abstract class BaseModule {\n  get settingsScreen(): Subscreen | null {\n    return null;\n  }\n\n  /** Allows changing the subkey for that module settings storage */\n  get settingsStorage(): string | null {\n    return this.constructor.name;\n  }\n\n  get settings(): BaseSettingsModel {\n    if (!this.settingsStorage) return {} as BaseSettingsModel;\n    if (!Player.Themed) {\n      Player.Themed = <SettingsModel>{};\n      this.registerDefaultSettings();\n    } else if (!(<any>Player.Themed)[this.settingsStorage]) this.registerDefaultSettings();\n    return Player.Themed[this.settingsStorage];\n  }\n\n  set settings(val) {\n    if (!Player.Themed) {\n      Player.Themed = <SettingsModel>{};\n      this.registerDefaultSettings();\n    } else if (!(<any>Player.Themed)[this.settingsStorage]) this.registerDefaultSettings();\n    Player.Themed[this.settingsStorage] = val;\n  }\n\n  get enabled(): boolean {\n    if (!Player?.Themed?.GlobalModule) return false;\n    return (\n      Player.Themed.GlobalModule.themedEnabled &&\n      this.settings.themedEnabled &&\n      (ServerPlayerIsInChatRoom() || (CurrentModule == 'Room' && CurrentScreen == 'Crafting'))\n    );\n  }\n\n  Init() {\n    this.registerDefaultSettings();\n  }\n\n  registerDefaultSettings(): void {\n    const storage = this.settingsStorage;\n    const defaults = this.defaultSettings;\n    if (!storage || !defaults) return;\n\n    (<any>Player.Themed)[storage] = Object.assign(defaults, (<any>Player.Themed)[storage] ?? {});\n  }\n\n  get defaultSettings(): BaseSettingsModel | null {\n    return null;\n  }\n\n  Load() { }\n\n  Run() {\n    // Empty\n  }\n\n  Unload() {\n    // Empty\n  }\n}\n", "import bcMod from 'bondage-club-mod-sdk';\nimport { conErr } from './Console';\nimport { ModName, FullModName, ModVersion, ModRepository } from './ModDefinition';\n\nexport const SDK = bcMod.registerMod(\n  {\n    name: ModName,\n    fullName: FullModName,\n    version: ModVersion,\n    repository: ModRepository\n  },\n  {\n    allowReplace: false\n  }\n);\n\nexport enum HookPriority {\n  Observe = 0,\n  AddBehavior = 1,\n  ModifyBehavior = 5,\n  OverrideBehavior = 10,\n  Top = 100\n}\n\nexport enum ModuleCategory {\n  Global = 0,\n  Colors = 1,\n  Integration = 2,\n  GuiRedraw = 3,\n  Version = 4,\n  Markdown = 5\n}\n\nconst patchedFunctions: Map<string, PatchedFunctionData> = new Map();\n\nfunction initPatchableFunction(target: string): PatchedFunctionData {\n  let result = patchedFunctions.get(target);\n  if (!result) {\n    result = {\n      name: target,\n      hooks: []\n    };\n    patchedFunctions.set(target, result);\n  }\n  return result;\n}\n\nexport function patchFunction(target: string, patches: Record<string, string>): void {\n  SDK.patchFunction(target, patches);\n}\n\nexport function unpatchFuntion(target: string) {\n  SDK.removePatches(target);\n}\n\nexport function hookFunction(\n  target: string,\n  priority: number,\n  hook: import('../../.types/bcmodsdk').PatchHook,\n  module: ModuleCategory | null = null\n): () => void {\n  const data = initPatchableFunction(target);\n\n  if (data.hooks.some((h) => h.hook === hook)) {\n    conErr(`Duplicate hook for \"${target}\"`, hook);\n    return () => null;\n  }\n\n  const removeCallback = SDK.hookFunction(target, priority, hook as any);\n\n  data.hooks.push({\n    hook,\n    priority,\n    module,\n    removeCallback\n  });\n  data.hooks.sort((a, b) => b.priority - a.priority);\n  return removeCallback;\n}\n\nexport function removeHookByModule(target: string, module: ModuleCategory): boolean {\n  const data = initPatchableFunction(target);\n\n  for (let i = data.hooks.length - 1; i >= 0; i--) {\n    if (data.hooks[i].module === module) {\n      data.hooks[i].removeCallback();\n      data.hooks.splice(i, 1);\n    }\n  }\n\n  return true;\n}\n\nexport function removeAllHooksByModule(module: ModuleCategory): boolean {\n  for (const data of patchedFunctions.values()) {\n    for (let i = data.hooks.length - 1; i >= 0; i--) {\n      if (data.hooks[i].module === module) {\n        data.hooks[i].removeCallback();\n        data.hooks.splice(i, 1);\n      }\n    }\n  }\n\n  return true;\n}\n", "import { DebugMode } from './ModDefinition';\n\nconst STYLES = {\n  INFO: 'color: #32CCCC',\n  LOG: 'color: #CCCC32',\n  DEBUG: 'color: #9E4BCF'\n};\n\nconst cmdPrefix = 'Themed';\n\nexport function conInfo(...args: any[]) {\n  if (typeof args[0] === 'string') console.info(`%c${cmdPrefix}: ${args[0]}`, STYLES.INFO, ...args.slice(1));\n  else console.info(`%c${cmdPrefix}:`, STYLES.LOG, ...args);\n}\n\nexport function conLog(...args: any[]) {\n  if (typeof args[0] === 'string') console.log(`%c${cmdPrefix}: ${args[0]}`, STYLES.LOG, ...args.slice(1));\n  else console.log(`%c${cmdPrefix}:`, STYLES.LOG, ...args);\n}\n\nexport function conWarn(...args: any[]) {\n  if (typeof args[0] === 'string') console.warn(`%c${cmdPrefix}: ${args[0]}`, STYLES.LOG, ...args.slice(1));\n  else console.warn(`%c${cmdPrefix}: `, STYLES.LOG, ...args);\n}\n\nexport function conErr(...args: any[]) {\n  if (typeof args[0] === 'string') console.error(`%c${cmdPrefix}: ${args[0]}`, STYLES.LOG, ...args.slice(1));\n  else console.error(`%c${cmdPrefix}:`, STYLES.LOG, ...args);\n}\n\nexport function conDebug(...args: any[]) {\n  if (DebugMode) {\n    if (typeof args[0] === 'string') console.debug(`%c${cmdPrefix}: ${args[0]}`, STYLES.DEBUG, ...args.slice(1));\n    else console.debug(`%c${cmdPrefix}:`, STYLES.LOG, ...args);\n  }\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { hookFunction, HookPriority, ModuleCategory } from '../../Utilities/SDK';\n\nconst itemPreviewColors = {\n  base: ['%background', '%hover'],\n  worn: ['lightblue', 'lightskyblue'],\n  unusable: ['gray', 'gray'],\n  crafted: ['#FFFFAF', 'palegoldenrod'],\n  blocked: ['#b81010', 'red'],\n  limited: ['orange', '#fcae55'],\n  allowed: ['green', 'limegreen'],\n};\n\nexport function hookAppearanceGetPreviewImageColor() {\n  hookFunction(\n    'AppearanceGetPreviewImageColor',\n    HookPriority.Observe,\n    (args: Parameters<typeof AppearanceGetPreviewImageColor>, next: (args: Parameters<typeof AppearanceGetPreviewImageColor>) => ReturnType<typeof AppearanceGetPreviewImageColor>) => {\n      if (!doRedraw()) return next(args);\n\n      const [c, item, hover] = args;\n\n      if (DialogMenuMode === 'permissions' && c.IsPlayer()) {\n        let permission = 'allowed';\n        if (InventoryIsPermissionBlocked(c, item.Asset.Name, item.Asset.Group.Name)) permission = 'blocked';\n        else if (InventoryIsPermissionLimited(c, item.Asset.Name, item.Asset.Group.Name)) permission = 'limited';\n        return item.Worn ? 'gray' : itemPreviewColors[permission][hover ? 1 : 0];\n      } else {\n        const unusable = item.SortOrder.startsWith(DialogSortOrder.Unusable.toString())\n          || item.SortOrder.startsWith(DialogSortOrder.TargetFavoriteUnusable.toString())\n          || item.SortOrder.startsWith(DialogSortOrder.PlayerFavoriteUnusable.toString());\n        const blocked = item.SortOrder.startsWith(DialogSortOrder.Blocked.toString());\n        const limited = item.Icons.includes('AllowedLimited');\n        if (blocked) return itemPreviewColors['blocked'][hover ? 1 : 0];\n        else if (item.Worn) return itemPreviewColors['worn'][hover ? 1 : 0];\n        else if ((item.Craft != null) && (item.Craft.Name != null)) return itemPreviewColors['crafted'][hover ? 1 : 0];\n        else if (unusable) return itemPreviewColors['unusable'][hover ? 1 : 0];\n        else if (limited) return itemPreviewColors['limited'][hover ? 1 : 0];\n        else return itemPreviewColors['base'][hover ? 1 : 0];\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { Colors } from '../Models/Colors';\n\ntype RGBAColor = {\n  r: number;\n  g: number;\n  b: number;\n  a?: number;\n};\n\nexport const colors: Colors = {\n  mainBackground: '',\n  elementBackground: '',\n  elementBackgroundHover: '',\n  elementBackgroundDisabled: '',\n  elementHint: '',\n  elementBorder: '',\n  elementBorderHover: '',\n  // elementBorderDisabled: '',\n  text: '',\n  icon: '',\n  // iconHover: '',\n  // iconDisabled: '',\n};\n\nexport const isBlack = (color: string) => _Color.getComputed(color) === 'rgb(0, 0, 0)';\n\nlet cachedColors = {};\n\nexport const _Color = {\n  darken(hexColor: string, percentage: number): string {\n    if (!hexColor) return;\n\n    // Return color if it's cached\n    const cacheColor = _Color.getCache(`darker${hexColor}${percentage}`);\n    if (cacheColor) return cacheColor;\n\n    const color = _Color.extractFromRGBA(_Color.getComputed(hexColor));\n\n    // Calculate the new RGB values after darkening\n    const newRgbColor: RGBAColor = { r: 0, g: 0, b: 0 };\n    newRgbColor.r = Math.max(0, color.r - Math.round((percentage / 100) * color.r));\n    newRgbColor.g = Math.max(0, color.g - Math.round((percentage / 100) * color.g));\n    newRgbColor.b = Math.max(0, color.b - Math.round((percentage / 100) * color.b));\n    newRgbColor.a = color.a;\n\n    // Convert the new RGB values back to a hex string and cache it\n    const ret = _Color.rgbaToHex(newRgbColor);\n    _Color.setCache(`darker${hexColor}${percentage}`, ret);\n\n    return ret;\n  },\n\n  lighten(hexColor: string, percentage: number): string {\n    if (!hexColor) return;\n\n    // Return color if it's cached\n    const cacheColor = _Color.getCache(`lighter${hexColor}${percentage}`);\n    if (cacheColor) return cacheColor;\n\n    const color = _Color.extractFromRGBA(_Color.getComputed(hexColor));\n\n    // Calculate the new RGB values after lightening\n    const newRgbColor: RGBAColor = { r: 0, g: 0, b: 0 };\n    newRgbColor.r = Math.min(255, color.r + Math.round((percentage / 100) * (255 - color.r)));\n    newRgbColor.g = Math.min(255, color.g + Math.round((percentage / 100) * (255 - color.g)));\n    newRgbColor.b = Math.min(255, color.b + Math.round((percentage / 100) * (255 - color.b)));\n    newRgbColor.a = color.a;\n\n    // Convert the new RGB values back to a hex string and cache it\n    const ret = _Color.rgbaToHex(newRgbColor);\n    _Color.setCache(`lighter${hexColor}${percentage}`, ret);\n\n    return ret;\n  },\n\n  toDarkMode(colorHex: string, backgroundColorHex: string) {\n    // Return color if it's cached\n    const cacheColor = _Color.getCache(`darkMode${colorHex}${backgroundColorHex}`);\n    if (cacheColor) return cacheColor;\n\n    const lightColor = _Color.extractFromRGBA(_Color.getComputed(colorHex));\n    const backgroundColor = _Color.extractFromRGBA(_Color.getComputed(backgroundColorHex));\n\n    // Calculate the contrast ratio\n    const contrastRatio = _Color.getContrastRatio(lightColor, backgroundColor);\n\n    // If the contrast is too low, adjust the light color\n    if (contrastRatio < 4.5) {\n      lightColor.r = Math.min(lightColor.r + 30, 255);\n      lightColor.g = Math.min(lightColor.g + 30, 255);\n      lightColor.b = Math.min(lightColor.b + 30, 255);\n    }\n\n    // Convert the new RGB values back to a hex string and cache it\n    const ret = _Color.rgbaToHex(lightColor);\n    _Color.setCache(`darkMode${colorHex}${backgroundColorHex}`, ret);\n\n    return ret;\n  },\n\n  getContrastRatio(color1: RGBAColor, color2: RGBAColor) {\n    const luminance1 = _Color.calculateLuminance(color1);\n    const luminance2 = _Color.calculateLuminance(color2);\n\n    return (Math.max(luminance1, luminance2) + 0.05) / (Math.min(luminance1, luminance2) + 0.05);\n  },\n\n  calculateLuminance(color: RGBAColor) {\n    const r = color.r / 255;\n    const g = color.g / 255;\n    const b = color.b / 255;\n\n    const gammaCorrectedR = r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4);\n    const gammaCorrectedG = g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4);\n    const gammaCorrectedB = b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4);\n\n    return 0.2126 * gammaCorrectedR + 0.7152 * gammaCorrectedG + 0.0722 * gammaCorrectedB;\n  },\n\n  hexToRgba(hex: string): RGBAColor {\n    hex = hex.replace(/^#/, ''); // Remove the \"#\" symbol if it exists\n\n    if (hex.length === 6) {\n      // If no alpha value exists, default alpha to fully opaque (1.0 or 255 in decimal)\n      return {\n        r: parseInt(hex.slice(0, 2), 16),\n        g: parseInt(hex.slice(2, 4), 16),\n        b: parseInt(hex.slice(4, 6), 16),\n        a: 1.0 // Fully opaque alpha\n      };\n    } else if (hex.length === 8) {\n      // If alpha value exists\n      return {\n        r: parseInt(hex.slice(0, 2), 16),\n        g: parseInt(hex.slice(2, 4), 16),\n        b: parseInt(hex.slice(4, 6), 16),\n        a: parseInt(hex.slice(6, 8), 16) / 255 // Convert alpha to range between 0 and 1\n      };\n    }\n\n    // If the input format is invalid, return black with full opacity\n    return { r: 0, g: 0, b: 0, a: 1.0 };\n  },\n\n  rgbaToHex(color: RGBAColor): string {\n    const { r, g, b, a } = color;\n\n    if (a !== undefined && a !== 1) {\n      const alphaHex = Math.round(a * 255)\n        .toString(16)\n        .toUpperCase()\n        .padStart(2, '0');\n      return `#${((1 << 24) | (r << 16) | (g << 8) | b).toString(16).slice(1).toUpperCase()}${alphaHex}`;\n    }\n\n    return `#${((1 << 24) | (r << 16) | (g << 8) | b).toString(16).slice(1).toUpperCase()}`;\n  },\n\n  extractFromRGBA(rgbaString: string) {\n    const rgbaRegex = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*([\\d.]+))?\\)$/;\n    const match = rgbaString.match(rgbaRegex);\n\n    if (match) {\n      const [, tempR, tempG, tempB, tempA] = match;\n      const r = parseInt(tempR, 10);\n      const g = parseInt(tempG, 10);\n      const b = parseInt(tempB, 10);\n      const a = tempA ? parseFloat(tempA) : 1.0; // If alpha is not provided, default to 1.0\n      return {\n        r,\n        g,\n        b,\n        a\n      };\n    } else {\n      return null;\n    }\n  },\n\n  getComputed(color: string): string {\n    const cachedColor = _Color.getCache(`comp${color}`);\n    if (cachedColor) return cachedColor;\n\n    const div = document.createElement('div');\n    div.style.color = color;\n    document.body.appendChild(div);\n    const computedColor = getComputedStyle(div).color;\n    div.remove();\n\n    const ret = computedColor;\n\n    _Color.setCache(`comp${color}`, ret);\n\n    return ret;\n  },\n\n  getHexComputed(color: string) {\n    color = _Color.getComputed(color);\n    const RGBA = _Color.extractFromRGBA(color);\n    const ret = _Color.rgbaToHex(RGBA);\n\n    return ret;\n  },\n\n  composeRoot() {\n    const data = Player.Themed.ColorsModule;\n\n    const primaryColor = _Color.getHexComputed(data.primaryColor);\n    const accentColor = _Color.getHexComputed(data.accentColor);\n    const textColor = _Color.getHexComputed(data.textColor);\n\n    colors.mainBackground = primaryColor;\n    colors.elementBackground = _Color.lighten(primaryColor, 10);\n    colors.elementBackgroundDisabled = primaryColor;\n    colors.elementBackgroundHover = accentColor;\n    colors.elementHint = _Color.lighten(colors.elementBackground, 20);\n    colors.elementBorder = accentColor;\n    colors.elementBorderHover = _Color.lighten(accentColor, 20);\n    colors.text = textColor;\n    colors.icon = accentColor;\n  },\n\n  setCache(key: string, value: string) {\n    cachedColors[key] = value;\n  },\n\n  getCache(key: string) {\n    return cachedColors[key];\n  },\n\n  clearCache() {\n    cachedColors = {};\n  },\n};\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { colors } from '../../Utilities/Color';\nimport { hookFunction, HookPriority, ModuleCategory } from '../../Utilities/SDK';\n\nexport function hookDrawBackNextButton() {\n  hookFunction(\n    'DrawBackNextButton',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawBackNextButton>, next: (args: Parameters<typeof DrawBackNextButton>) => ReturnType<typeof DrawBackNextButton>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Left, Top, Width, Height, Label, Color, Image, , , Disabled] = args;\n      let [, , , , , , , BackText, NextText, , ArrowWidth] = args;\n\n      if (ArrowWidth == null || ArrowWidth > Width / 2) ArrowWidth = Width / 2;\n      const LeftSplit = Left + ArrowWidth;\n      const RightSplit = Left + Width - ArrowWidth;\n\n      ControllerAddActiveArea(Left, Top);\n      ControllerAddActiveArea(Left + Width - ArrowWidth, Top);\n\n      MainCanvas.save();\n      MainCanvas.textAlign = 'center';\n\n      MainCanvas.beginPath();\n      MainCanvas.rect(Left, Top, Width, Height);\n      MainCanvas.fillStyle = colors.elementBackground;\n      MainCanvas.fillRect(Left, Top, Width, Height);\n      if (MouseIn(Left, Top, Width, Height) && !CommonIsMobile && !Disabled) {\n        MainCanvas.fillStyle = colors.elementBackgroundHover;\n        if (MouseX > RightSplit) {\n          MainCanvas.fillRect(RightSplit, Top, ArrowWidth, Height);\n        } else if (MouseX <= LeftSplit) {\n          MainCanvas.fillRect(Left, Top, ArrowWidth, Height);\n        } else {\n          MainCanvas.fillRect(Left + ArrowWidth, Top, Width - ArrowWidth * 2, Height);\n        }\n      } else if (CommonIsMobile && ArrowWidth < Width / 2 && !Disabled) {\n        MainCanvas.fillStyle = colors.elementBackgroundDisabled;\n        MainCanvas.fillRect(Left, Top, ArrowWidth, Height);\n        MainCanvas.fillRect(RightSplit, Top, ArrowWidth, Height);\n      }\n      MainCanvas.lineWidth = 2;\n      MainCanvas.strokeStyle = colors.elementBorder;\n      MainCanvas.stroke();\n      MainCanvas.closePath();\n\n      DrawTextFit(Label, Left + Width / 2, Top + Height / 2 + 1, CommonIsMobile ? Width - 6 : Width - 36, Color);\n      DrawTextFit(Label, Left + Width / 2, Top + (Height / 2) + 1, (CommonIsMobile) ? Width - 6 : Width - 36, 'Black');\n\n      if (Image != null && Image != '') {\n        DrawImage(Image, Left + 2, Top + 2);\n      }\n\n      ControllerAddActiveArea(Left + Width / 2, Top);\n\n      MainCanvas.beginPath();\n      MainCanvas.fillStyle = 'Black';\n      MainCanvas.moveTo(Left + 15, Top + Height / 5);\n      MainCanvas.lineTo(Left + 5, Top + Height / 2);\n      MainCanvas.lineTo(Left + 15, Top + Height - Height / 5);\n      MainCanvas.stroke();\n      MainCanvas.closePath();\n\n      MainCanvas.beginPath();\n      MainCanvas.fillStyle = 'Black';\n      MainCanvas.moveTo(Left + Width - 15, Top + Height / 5);\n      MainCanvas.lineTo(Left + Width - 5, Top + Height / 2);\n      MainCanvas.lineTo(Left + Width - 15, Top + Height - Height / 5);\n      MainCanvas.stroke();\n      MainCanvas.closePath();\n\n      MainCanvas.restore();\n\n      if (CommonIsMobile) return;\n      if (BackText == null) BackText = () => 'MISSING VALUE FOR: BACK TEXT';\n      if (NextText == null) NextText = () => 'MISSING VALUE FOR: NEXT TEXT';\n      if (MouseX >= Left && MouseX <= Left + Width && MouseY >= Top && MouseY <= Top + Height && !Disabled)\n        DrawHoverElements.push(() => {\n          DrawButtonHover(Left, Top, Width, Height, MouseX < LeftSplit ? BackText() : MouseX >= RightSplit ? NextText() : '');\n        });\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "let cachedImageData: {\n  [index: string]: ImageData;\n} = {};\n\nlet cachedBase64Data: {\n  [index: string]: string;\n} = {};\n\nexport const _Image = {\n  doNotDrawImageFolders: [\n    'Assets/Female3DCG/',\n    'Backgrounds/',\n    'Icons/Struggle/',\n    'Screens/',\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyEAYAAABOr1TyAAABb2lDQ1BpY2MAACiRdZG9S0JRGMZ/', // FBC's \"FBC\" overlay icon\n    'http' // Fix bug with recoloring of custom bgs\n  ],\n\n  doNotDrawImages: [\n    'Icons/Accept.png',\n    'Icons/Activity.png',\n    'Icons/Arousal.png',\n    'Icons/Audio.png',\n    'Icons/BlindToggle2.png',\n    'Icons/Cancel.png',\n    'Icons/Cell.png',\n    'Icons/Checked.png',\n    'Icons/ClubCard.png',\n    'Icons/Controller.png',\n    'Icons/Crafting.png',\n    'Icons/Exit.png',\n    'Icons/Explore.png',\n    'Icons/Gavel.png',\n    'Icons/Gender.png',\n    'Icons/Infiltration.png',\n    'Icons/Lock.png',\n    'Icons/LockMenu.png',\n    'Icons/MagicSchool.png',\n    'Icons/Online.png',\n    'Icons/Platform.png',\n    'Icons/Poker.png',\n    'Icons/Search.png',\n    'Icons/Security.png',\n    'Icons/ServiceBell.png',\n    'Icons/Title.png',\n    'Icons/Use.png',\n    'Icons/WinkNone.png',\n    'Icons/Color.png',\n    'Icons/ColorChange.png',\n    'Icons/ColorChangeMulti.png',\n    'Icons/Small/ColorBlocked.png',\n    'Icons/Small/ColorChange.png',\n    'Icons/Small/ColorChangeMulti.png',\n    'Icons/Small/Naked.png',\n    'Icons/Small/Use.png',\n    'Icons/Small/YouTube.png',\n    'Assets/Female3DCG/ItemMisc/Preview/Best Friend Padlock.png',\n    'Assets/Female3DCG/ItemMisc/Preview/Best Friend Timer Padlock.png'\n  ],\n\n  getColorized(source: string, hexColor: string): ImageData | undefined {\n    if (typeof source != 'string') return;\n    const img = DrawGetImage(source);\n\n    if (_Image.getImageDataCache(`${source}&${hexColor}`)) {\n      return _Image.getImageDataCache(`${source}&${hexColor}`);\n    }\n\n    try {\n      if (!img.complete) return undefined;\n      if (!img.naturalWidth) return undefined;\n\n      const width = img.width;\n      const height = img.height;\n\n      ColorCanvas.canvas.width = width;\n      ColorCanvas.canvas.height = height;\n      ColorCanvas.globalCompositeOperation = 'copy';\n      ColorCanvas.drawImage(img, 0, 0);\n\n      const imageData = ColorCanvas.getImageData(0, 0, width, height);\n\n      const colorizedData = _Image.colorize(imageData, hexColor);\n\n      _Image.setImageDataCache(`${source}&${hexColor}`, colorizedData);\n\n      return colorizedData;\n    } catch (e) {\n      return undefined;\n    }\n  },\n\n  turnToBase64(imageData: ImageData, cacheKey: string) {\n    if (_Image.getBase64DataCache(`${cacheKey}`)) return _Image.getBase64DataCache(`${cacheKey}`);\n    const canvas = document.createElement('canvas');\n    canvas.width = imageData.width;\n    canvas.height = imageData.height;\n    const ctx = canvas.getContext('2d');\n    ctx.putImageData(imageData, 0, 0);\n    const base64Data = canvas.toDataURL('image/png');\n    canvas.remove();\n    _Image.setBase64DataCache(cacheKey, base64Data);\n\n    return base64Data;\n  },\n\n  colorize(imageData: ImageData, hexColor: string) {\n    const data = imageData.data;\n\n    const rgbColor = DrawHexToRGB(hexColor);\n\n    for (let pixelData = 0, len = data.length; pixelData < len; pixelData += 4) {\n      if (data[pixelData + 3] == 0) continue;\n      const transparency = (data[pixelData] + data[pixelData + 1] + data[pixelData + 2]) / 383;\n      data[pixelData + 0] = rgbColor.r * transparency;\n      data[pixelData + 1] = rgbColor.g * transparency;\n      data[pixelData + 2] = rgbColor.b * transparency;\n    }\n\n    return imageData;\n  },\n\n  doDrawImage(source: string) {\n    let skipDrawing = false;\n\n    for (const folderPrefix of _Image.doNotDrawImageFolders) {\n      if (typeof source !== 'string') break;\n      if (source.startsWith(folderPrefix)) {\n        skipDrawing = true;\n        break;\n      }\n    }\n\n    if (!skipDrawing && _Image.doNotDrawImages.includes(source)) {\n      skipDrawing = true;\n    }\n\n    return !skipDrawing;\n  },\n\n  setImageDataCache(key: string, data: ImageData): void {\n    cachedImageData[key] = data;\n  },\n\n  getImageDataCache(key: string): ImageData {\n    return cachedImageData[key];\n  },\n\n  setBase64DataCache(key: string, data: string): void {\n    cachedBase64Data[key] = data;\n  },\n\n  getBase64DataCache(key: string): string {\n    return cachedBase64Data[key];\n  },\n\n  clearCache(): void {\n    cachedImageData = {};\n    cachedBase64Data = {};\n  },\n};\n\nexport function drawRect(x: number, y: number, width: number, height: number, backgroundColor: string, borderColor: string) {\n  DrawRect(x, y, width, height, backgroundColor);\n  DrawEmptyRect(x, y, width, height, borderColor, 2);\n}\n\nexport function drawButtonRect(\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n  backgroundColor: string,\n  backgroundHoverColor: string,\n  backgroundDisabledColor: string,\n  borderColor: string,\n  borderHoverColor: string,\n  borderDisabledColor: string,\n  isHovering: boolean,\n  disabled: boolean\n) {\n  if (!isHovering && !disabled) drawRect(x, y, width, height, backgroundColor, borderColor);\n  else if (isHovering && !disabled) drawRect(x, y, width, height, backgroundHoverColor, borderHoverColor);\n  else if (disabled) drawRect(x, y, width, height, backgroundDisabledColor, borderDisabledColor);\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { _Color, colors } from '../../Utilities/Color';\nimport { drawButtonRect } from '../../Utilities/Drawing';\nimport { HookPriority, ModuleCategory, hookFunction } from '../../Utilities/SDK';\n\nexport function hookDrawButton() {\n  hookFunction(\n    'DrawButton',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawButton>, next: (args: Parameters<typeof DrawButton>) => ReturnType<typeof DrawButton>) => {\n      if (!doRedraw()) return next(args);\n\n      const [x, y, width, height, label, color, image, hoveringText, isDisabled] = args;\n      const isHovering = MouseHovering(x, y, width, height);\n\n      ControllerAddActiveArea(x, y);\n\n      switch (_Color.getHexComputed(color).toLowerCase()) {\n        case '#ffffff':\n        case '#dddddd':\n        case '#eeeeee':\n          drawButtonRect(\n            x,\n            y,\n            width,\n            height,\n            colors.elementBackground,\n            colors.elementBackgroundHover,\n            colors.elementBackgroundDisabled,\n            colors.elementBorder,\n            colors.elementBorderHover,\n            colors.elementBorder,\n            isHovering,\n            isDisabled\n          );\n          break;\n\n        default:\n          drawButtonRect(\n            x,\n            y,\n            width,\n            height,\n            _Color.darken(_Color.toDarkMode(color, colors.elementBackground), 20),\n            _Color.darken(_Color.toDarkMode(color, colors.elementBackgroundHover), 30),\n            _Color.darken(_Color.toDarkMode(color, colors.elementBackground), 40),\n            colors.elementBorder,\n            colors.elementBorderHover,\n            colors.elementBorder,\n            isHovering,\n            isDisabled\n          );\n          break;\n      }\n\n      DrawTextFit(label, x + width / 2, y + height / 2 + 1, width - 4, colors.text);\n\n      if (image != null && image != '') {\n        DrawImage(image, x + 2, y + 2);\n      }\n\n      if (hoveringText != null && isHovering) {\n        DrawHoverElements.push(() => DrawButtonHover(x, y, width, height, hoveringText));\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { colors } from '../../Utilities/Color';\nimport { drawRect } from '../../Utilities/Drawing';\nimport { hookFunction, HookPriority, ModuleCategory } from '../../Utilities/SDK';\n\nexport function hookDrawButtonHover() {\n  hookFunction(\n    'DrawButtonHover',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawButtonHover>, next: (args: Parameters<typeof DrawButtonHover>) => ReturnType<typeof DrawButtonHover>) => {\n      if (!doRedraw()) return next(args);\n\n      const [, , Width, Height, HoveringText] = args;\n      let [Left, Top] = args;\n\n      if (HoveringText == null || HoveringText == '') return next(args);\n\n      Left = MouseX > 1000 ? Left - 475 : Left + Width + 25;\n      Top = Top + (Height - 65) / 2;\n      MainCanvas.save();\n      MainCanvas.textAlign = 'center';\n      drawRect(Left, Top, 450, 65, colors.elementHint, colors.elementBorder);\n      DrawTextFit(HoveringText, Left + 225, Top + 33, 444, 'Black');\n      MainCanvas.restore();\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { HookPriority, ModuleCategory, hookFunction } from '../../Utilities/SDK';\n\nexport function hookDrawCheckbox() {\n  hookFunction(\n    'DrawCheckbox',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawCheckbox>, next: (args: Parameters<typeof DrawCheckbox>) => ReturnType<typeof DrawCheckbox>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Left, Top, Width, Height, Text, IsChecked, Disabled = false, TextColor = 'Black', CheckImage = 'Icons/Checked.png'] = args;\n\n      DrawText(Text, Left + 100, Top + 33, TextColor, '');\n      DrawButton(Left, Top, Width, Height, '', 'White', IsChecked ? CheckImage : '', null, Disabled);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { _Color, colors } from '../../Utilities/Color';\nimport { HookPriority, ModuleCategory, hookFunction } from '../../Utilities/SDK';\n\nexport function hookDrawEmptyRect() {\n  hookFunction(\n    'DrawEmptyRect',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawEmptyRect>, next: (args: Parameters<typeof DrawEmptyRect>) => ReturnType<typeof DrawEmptyRect>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Left, Top, Width, Height, Color, Thickness] = args;\n\n      const drawEmptyRect = (color: string) => {\n        MainCanvas.beginPath();\n        MainCanvas.rect(Left, Top, Width, Height);\n        MainCanvas.lineWidth = Thickness;\n        MainCanvas.strokeStyle = color;\n        MainCanvas.stroke();\n      };\n\n      if (Color?.startsWith('%')) {\n        switch (Color.substring(1).toLowerCase()) {\n          case 'border':\n            drawEmptyRect(colors.elementBorder);\n            break;\n\n          default:\n            next(args);\n            break;\n        }\n      } else {\n        switch (_Color.getHexComputed(Color).toLowerCase()) {\n          case '#ffffff':\n          case '#dddddd':\n          case '#000000':\n            drawEmptyRect(colors.elementBorder);\n            break;\n\n          default:\n            next(args);\n            break;\n        }\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { colors } from '../../Utilities/Color';\nimport { _Image } from '../../Utilities/Drawing';\nimport { hookFunction, HookPriority, ModuleCategory } from '../../Utilities/SDK';\n\nexport function hookDrawImageEx() {\n  hookFunction(\n    'DrawImageEx',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawImageEx>, next: (args: Parameters<typeof DrawImageEx>) => ReturnType<typeof DrawImageEx>) => {\n      if (!doRedraw()) return next(args);\n      if (typeof args[0] !== 'string') return next(args);\n      if (!_Image.doDrawImage(args[0])) return next(args);\n\n      const [Source, Canvas, X, Y, Options] = args;\n      const color = args[4].HexColor ?? colors.icon;\n      const colorizedImage = _Image.getColorized(Source, color);\n\n      if (!colorizedImage) return next(args);\n\n      const imageSource = _Image.turnToBase64(colorizedImage, `${Source}${args[4].HexColor}`);\n      next([imageSource ?? Source, Canvas, X, Y, Options]);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { colors } from '../../Utilities/Color';\nimport { hookFunction, HookPriority, ModuleCategory } from '../../Utilities/SDK';\n\nexport function hookDrawPreviewBox() {\n  hookFunction(\n    'DrawPreviewBox',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawPreviewBox>, next: (args: Parameters<typeof DrawPreviewBox>) => ReturnType<typeof DrawPreviewBox>) => {\n      if (!doRedraw()) return next(args);\n\n      const [X, Y, Path, Description, Options] = args;\n\n      const { Vibrating, Disabled, Icons } = Options || {};\n      let { Background, Foreground, Border, Hover, Width, Height } = Options || {};\n      Width = Width || DrawAssetPreviewDefaultWidth;\n      Height = Height || DrawAssetPreviewDefaultHeight;\n\n      const Padding = 2;\n      const TextGutter = Description ? 44 : 0;\n\n      Foreground = colors.text;\n      Border = true;\n      Hover = MouseHovering(X, Y, Width, Height);\n\n      let ImageX = X + Padding;\n      let ImageY = Y + Padding;\n      let ImageWidth = Width;\n      let ImageHeight = Height - TextGutter;\n\n      if (ImageWidth > ImageHeight) {\n        const Ratio = ImageHeight / ImageWidth;\n        ImageWidth *= Ratio;\n        ImageX += (Width - ImageWidth) / 2;\n      } else if (ImageWidth < ImageHeight) {\n        const Ratio = ImageWidth / ImageHeight;\n        ImageHeight *= Ratio;\n        ImageY += (Height - ImageHeight - TextGutter) / 2;\n      }\n\n      ImageWidth -= 2 * Padding;\n      ImageHeight -= 2 * Padding;\n\n      if (Vibrating) {\n        ImageX += 1 + Math.floor(Math.random() * 3);\n        ImageY += 1 + Math.floor(Math.random() * 3);\n      }\n\n      DrawRect(X, Y, Width, Height, Background);\n      ControllerAddActiveArea(X, Y);\n      if (Border) DrawEmptyRect(X, Y, Width, Height, Hover ? colors.elementBorderHover : colors.elementBorder);\n      if (Path !== '') DrawImageResize(Path, ImageX, ImageY, ImageWidth, ImageHeight);\n      DrawPreviewIcons(Icons, X, Y);\n      if (Description) DrawTextFit(Description, X + Width / 2, Y + Height - 25, Width - 2 * Padding, Foreground);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { _Color, colors } from '../../Utilities/Color';\nimport { HookPriority, ModuleCategory, hookFunction } from '../../Utilities/SDK';\n\nexport function hookDrawRect() {\n  hookFunction(\n    'DrawRect',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawRect>, next: (args: Parameters<typeof DrawRect>) => ReturnType<typeof DrawRect>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Left, Top, Width, Height, Color] = args;\n\n      const drawRect = (color: string) => {\n        MainCanvas.beginPath();\n        MainCanvas.fillStyle = color;\n        MainCanvas.fillRect(Left, Top, Width, Height);\n        MainCanvas.fill();\n      };\n\n      if (Color?.startsWith('%')) {\n        switch (Color.substring(1).toLowerCase()) {\n          case 'disabled':\n            drawRect(colors.elementBackgroundDisabled);\n            break;\n\n          case 'hover':\n            drawRect(colors.elementBackgroundHover);\n            break;\n\n          case 'background':\n            drawRect(colors.elementBackground);\n            break;\n\n          case 'friendhint':\n            drawRect(colors.elementHint);\n            break;\n\n          default:\n            next(args);\n            break;\n        }\n      } else {\n        switch (_Color.getHexComputed(Color).toLowerCase()) {\n          case '#eeeeee':\n          case '#dddddd':\n          case '#cccccc':\n          case '#ffffff':\n          case '#ffff88':\n          case '#ffffff88':\n          case '#ffffffcc':\n          case '#d7f6e9': // LSCG Version Tooltip\n            drawRect(colors.elementBackground);\n            break;\n\n          default:\n            next(args);\n            break;\n        }\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "export class _String {\n  static encode(string: string | object) {\n    return LZString.compressToBase64(JSON.stringify(string));\n  }\n\n  static decode(string: string | undefined) {\n    const d = LZString.decompressFromBase64(string as string);\n    let data = {};\n\n    try {\n      const decoded = JSON.parse(d as string);\n      data = decoded;\n    } catch {\n      /* ... */\n    }\n    if (data) return data;\n  }\n}\n", "import { ModName } from './ModDefinition';\nimport { ColorsSettingsModel } from '../Models/Colors';\nimport { SettingsModel } from '../Models/Settings';\nimport { _String } from './String';\n\nexport const PlayerStorage = () => (typeof Player?.[ModName] === 'object' ? CommonCloneDeep(Player?.[ModName]) : undefined);\nexport const ExtensionStorage = () => Player.ExtensionSettings[ModName];\n\nexport function dataTake() {\n  if (ExtensionStorage()) {\n    Player[ModName] = JSON.parse(LZString.decompressFromBase64(ExtensionStorage())) as SettingsModel;\n  } else if (Player.OnlineSettings[ModName]) {\n    Player[ModName] = JSON.parse(LZString.decompressFromBase64(Player.OnlineSettings[ModName]));\n\n    delete Player.OnlineSettings[ModName];\n    window.ServerAccountUpdate.QueueData({ OnlineSettings: Player.OnlineSettings });\n  } else {\n    Player[ModName] = <SettingsModel>{};\n  }\n}\n\nexport function dataStore() {\n  if (!ExtensionStorage()) Player.ExtensionSettings[ModName] = '';\n  const Data: SettingsModel = {\n    Version: PlayerStorage().Version,\n    GlobalModule: PlayerStorage().GlobalModule,\n    ColorsModule: PlayerStorage().ColorsModule,\n    IntegrationModule: PlayerStorage().IntegrationModule,\n    ProfilesModule: PlayerStorage().ProfilesModule\n  };\n  Player.ExtensionSettings[ModName] = _String.encode(Data);\n  ServerPlayerExtensionSettingsSync(ModName);\n}\n\nexport function dataErase() {\n  Player[ModName].ColorsModule = <ColorsSettingsModel>{};\n  dataStore();\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { colors } from '../../Utilities/Color';\nimport { PlayerStorage } from '../../Utilities/Data';\nimport { hookFunction, HookPriority, ModuleCategory } from '../../Utilities/SDK';\n\nexport function hookDrawRoomBackground() {\n  hookFunction(\n    'DrawRoomBackground',\n    HookPriority.Observe,\n    ([URL, ...args]: Parameters<typeof DrawRoomBackground>, next: (args: Parameters<typeof DrawRoomBackground>) => ReturnType<typeof DrawRoomBackground>) => {\n      if (!doRedraw()) return next([URL, ...args]);\n\n      if (URL.includes('Sheet.jpg')) {\n        if (PlayerStorage().GlobalModule.doUseFlatColor) {\n          DrawRect(0, 0, 2000, 1000, colors.mainBackground);\n        } else {\n          next([URL, ...args]);\n          MainCanvas.save();\n          MainCanvas.globalCompositeOperation = 'multiply';\n          DrawRect(0, 0, 2000, 1000, colors.mainBackground);\n          MainCanvas.restore();\n        }\n      } else {\n        next([URL, ...args]);\n      }\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { _Color, colors, isBlack } from '../../Utilities/Color';\nimport { HookPriority, ModuleCategory, hookFunction } from '../../Utilities/SDK';\n\nexport function hookDrawText() {\n  hookFunction(\n    'DrawText',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawText>, next: (args: Parameters<typeof DrawText>) => ReturnType<typeof DrawText>) => {\n      if (!doRedraw()) return next(args);\n\n      if (isBlack(args[3])) {\n        args[3] = colors.text;\n        args[4] = '';\n      } else {\n        args[3] = _Color.toDarkMode(args[3], colors.mainBackground);\n        args[4] = '';\n      }\n\n      next(args);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { _Color, colors, isBlack } from '../../Utilities/Color';\nimport { HookPriority, ModuleCategory, hookFunction } from '../../Utilities/SDK';\n\nexport function hookDrawTextFit() {\n  hookFunction(\n    'DrawTextFit',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawTextFit>, next: (args: Parameters<typeof DrawTextFit>) => ReturnType<typeof DrawTextFit>) => {\n      if (!doRedraw()) return next(args);\n\n      if (isBlack(args[4])) {\n        args[4] = colors.text;\n      } else {\n        args[4] = _Color.toDarkMode(args[4], colors.mainBackground);\n      }\n\n      return next(args);\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { doRedraw } from '../../Modules/GuiRedraw';\nimport { _Color, colors, isBlack } from '../../Utilities/Color';\nimport { drawRect } from '../../Utilities/Drawing';\nimport { HookPriority, ModuleCategory, hookFunction } from '../../Utilities/SDK';\n\nexport function hookDrawTextWrap() {\n  hookFunction(\n    'DrawTextWrap',\n    HookPriority.Observe,\n    (args: Parameters<typeof DrawTextWrap>, next: (args: Parameters<typeof DrawTextWrap>) => ReturnType<typeof DrawTextWrap>) => {\n      if (!doRedraw()) return next(args);\n\n      const [Text, X, , Width, Height, ForeColor, BackColor, MaxLine, LineSpacing = 23] = args;\n      let [, , Y, , ,] = args;\n      const isHovering = MouseHovering(X, Y, Width, Height);\n\n      if (!Text) return;\n\n      ControllerAddActiveArea(X, Y);\n\n      if (BackColor != null) {\n        if (!isHovering) {\n          drawRect(X, Y, Width, Height, BackColor, colors.elementBorder);\n        } else {\n          drawRect(X, Y, Width, Height, _Color.darken(BackColor, 40), colors.elementBorder);\n        }\n      }\n\n      let TextSize;\n      if (MaxLine != null) {\n        TextSize = MainCanvas.font;\n        GetWrapTextSize(Text, Width, MaxLine);\n      }\n\n      MainCanvas.fillStyle = isBlack(ForeColor) ? colors.text : _Color.lighten(_Color.toDarkMode(ForeColor, colors.elementBackground), 50);\n      if (MainCanvas.measureText(Text).width > Width) {\n        const words = fragmentText(Text, Width);\n        let line = '';\n\n        let LineCount = 1;\n        for (let n = 0; n < words.length; n++) {\n          const testLine = line + words[n] + ' ';\n          if (MainCanvas.measureText(testLine).width > Width && n > 0) {\n            line = words[n] + ' ';\n            LineCount++;\n          } else line = testLine;\n        }\n\n        line = '';\n        Y = Y - (LineCount - 1) * LineSpacing + Height / 2;\n        for (let n = 0; n < words.length; n++) {\n          const testLine = line + words[n] + ' ';\n          if (MainCanvas.measureText(testLine).width > Width && n > 0) {\n            MainCanvas.fillText(line, X + Width / 2, Y);\n            line = words[n] + ' ';\n            Y += LineSpacing * 2;\n          } else {\n            line = testLine;\n          }\n        }\n        MainCanvas.fillText(line, X + Width / 2, Y);\n      } else MainCanvas.fillText(Text, X + Width / 2, Y + Height / 2);\n\n      if (MaxLine != null && TextSize != null) MainCanvas.font = TextSize;\n    },\n    ModuleCategory.GuiRedraw\n  );\n}\n", "import { BaseModule } from '../Base/BaseModule';\nimport { hookAppearanceGetPreviewImageColor } from '../Hooks/GuiRedraw/AppearanceGetPreviewImageColor';\nimport { hookDrawBackNextButton } from '../Hooks/GuiRedraw/DrawBackNextButton';\nimport { hookDrawButton } from '../Hooks/GuiRedraw/DrawButton';\nimport { hookDrawButtonHover } from '../Hooks/GuiRedraw/DrawButtonHover';\nimport { hookDrawCheckbox } from '../Hooks/GuiRedraw/DrawCheckbox';\nimport { hookDrawEmptyRect } from '../Hooks/GuiRedraw/DrawEmptyRect';\nimport { hookDrawImageEx } from '../Hooks/GuiRedraw/DrawImageEx';\nimport { hookDrawPreviewBox } from '../Hooks/GuiRedraw/DrawPreviewBox';\nimport { hookDrawRect } from '../Hooks/GuiRedraw/DrawRect';\nimport { hookDrawRoomBackground } from '../Hooks/GuiRedraw/DrawRoomBackground';\nimport { hookDrawText } from '../Hooks/GuiRedraw/DrawText';\nimport { hookDrawTextFit } from '../Hooks/GuiRedraw/DrawTextFit';\nimport { hookDrawTextWrap } from '../Hooks/GuiRedraw/DrawTextWrap';\nimport { PlayerStorage } from '../Utilities/Data';\nimport { patchFunction, unpatchFuntion } from '../Utilities/SDK';\n\nexport const doRedraw = () => {\n  return PlayerStorage()?.GlobalModule?.themedEnabled && PlayerStorage().GlobalModule?.doVanillaGuiOverhaul;\n};\n\nexport class GuiRedrawModule extends BaseModule {\n  patched: boolean = false;\n\n  Load(): void {\n    hookDrawRoomBackground();\n    hookDrawButton();\n    hookDrawCheckbox();\n    hookDrawBackNextButton();\n    hookDrawImageEx();\n    hookDrawRect();\n    hookDrawEmptyRect();\n    hookDrawButtonHover();\n    hookDrawPreviewBox();\n    hookAppearanceGetPreviewImageColor();\n    hookDrawTextWrap();\n    hookDrawTextFit();\n    hookDrawText();\n\n    if (doRedraw()) this.patchGui();\n  }\n\n  patchGui() {\n    if (this.patched) return false;\n\n    patchFunction('ChatSearchNormalDraw', {\n      'DrawButton(X, Y, 630, 85, \"\", (HasBlock && IsFull ? \"#884444\" : HasBlock ? \"#FF9999\" : HasFriends && IsFull ? \"#448855\" : HasFriends ? \"#CFFFCF\" : IsFull ? \"#666\" : \"White\"), null, null, IsFull);':\n        'DrawButton(X, Y, 630, 85, \"\", (HasBlock && IsFull ? \"#4d1b1b\" : HasBlock ? \"#6e0c0c\" : HasFriends && IsFull ? \"#225c30\" : HasFriends ? \"#4d854d\" : IsFull ? \"#444\" : \"White\"), null, null, IsFull);',\n      'DrawTextWrap(ChatSearchMuffle(ChatSearchResult[C].Friends[F].MemberName + \" (\" + ChatSearchResult[C].Friends[F].MemberNumber + \")\"), (X > 1000) ? 685 : X + 660, ListY, 630, Height, \"black\", \"#FFFF88\", 1);':\n        'DrawTextWrap(ChatSearchMuffle(ChatSearchResult[C].Friends[F].MemberName + \" (\" + ChatSearchResult[C].Friends[F].MemberNumber + \")\"), (X > 1000) ? 685 : X + 660, ListY, 630, Height, \"black\", \"%friendhint\", 1);',\n      'DrawTextWrap(TextGet(\"FriendsInRoom\") + \" \" + ChatSearchMuffle(ChatSearchResult[C].DisplayName), (X > 1000) ? 685 : X + 660, ListY, 630, Height, \"black\", \"#FFFF88\", 1);':\n        'DrawTextWrap(TextGet(\"FriendsInRoom\") + \" \" + ChatSearchMuffle(ChatSearchResult[C].DisplayName), (X > 1000) ? 685 : X + 660, ListY, 630, Height, \"black\", \"%friendhint\", 1);',\n      'DrawTextWrap(Block, (X > 1000) ? 685 : X + 660, ListY, 630, Height, \"black\", \"#FF9999\", 1);':\n        'DrawTextWrap(Block, (X > 1000) ? 685 : X + 660, ListY, 630, Height, \"black\", \"#6e0c0c\", 1);'\n    });\n\n    patchFunction('DialogDraw', {\n      'DrawRect(1087 + offset, 550, 225, 275, bgColor);':\n        'DrawRect(1087 + offset, 550, 225, 275, disabled ? \"%disabled\" : (hover ? \"%hover\" : \"%background\"));DrawEmptyRect(1087 + offset, 550, 225, 275, \"%border\");'\n    });\n\n    this.patched = true;\n  }\n\n  unpatchGui() {\n    if (!this.patched) return false;\n\n    unpatchFuntion('ChatSearchNormalDraw');\n    unpatchFuntion('DialogDraw');\n\n    this.patched = false;\n  }\n\n  toggleGuiPatches() {\n    if (!doRedraw()) {\n      return this.unpatchGui();\n    } else {\n      return this.patchGui();\n    }\n  }\n}\n", "export class Localization {\n  private static Translation = new Object();\n  private static FallbackTranslation = new Object();\n\n  static async load() {\n    const lang = TranslationLanguage.toLowerCase();\n    this.Translation = await Localization.fetchLanguageFile(lang);\n    if (lang == 'en') {\n      return;\n    }\n    this.FallbackTranslation = await Localization.fetchLanguageFile('en');\n  }\n\n  static getText(srcTag: string) {\n    return this.Translation[srcTag] || this.FallbackTranslation?.[srcTag] || srcTag || '';\n  }\n\n  private static async fetchLanguageFile(lang: string) {\n    const response = await fetch(`${serverUrl}/translations/${lang}.lang`);\n\n    if (lang != 'en' && !response.ok) {\n      return Localization.fetchLanguageFile('en');\n    }\n    const langFileContent = await response.text();\n\n    return this.parseLanguageFile(langFileContent);\n  }\n\n  private static parseLanguageFile(content) {\n    const translations = {};\n    const lines = content.split('\\n');\n\n    for (const line of lines) {\n      // Ignore empty lines and comments\n      if (line.trim() === '' || line.trim().startsWith('#')) {\n        continue;\n      }\n\n      const [key, value] = line.split('=');\n      translations[key.trim()] = value.trim();\n    }\n\n    return translations;\n  }\n}\n\nexport const getText = (string: string): string => Localization.getText(string);\n", "import { BaseModule } from './BaseModule';\nimport { GuiSubscreen } from './BaseSetting';\nimport { GUI } from './SettingUtils';\n\nexport const SETTING_FUNC_PREFIX: string = 'PreferenceSubscreen';\nexport const SETTING_NAME_PREFIX: string = 'Themed';\nexport const SETTING_FUNC_NAMES: string[] = ['Load', 'Run', 'Click', 'Unload', 'Exit'];\n\nexport type Subscreen = new (module: BaseModule) => GuiSubscreen;\n\nexport function getCurrentSubscreen(): GuiSubscreen | null {\n  return GUI.instance && GUI.instance.currentSubscreen;\n}\n\nexport function setSubscreen(subscreen: GuiSubscreen | string | null): GuiSubscreen | null {\n  if (!GUI.instance) {\n    throw new Error('Attempt to set subscreen before init');\n  }\n  GUI.instance.currentSubscreen = subscreen;\n  return GUI.instance.currentSubscreen;\n}\n", "import { Setting } from '../../.types/setting';\nimport { BaseSettingsModel } from '../Models/Global';\nimport { ColorsModule } from '../Modules/Colors';\nimport { doRedraw } from '../Modules/GuiRedraw';\nimport { getText } from '../Translation';\nimport { colors } from '../Utilities/Color';\nimport { conDebug } from '../Utilities/Console';\nimport { dataStore } from '../Utilities/Data';\nimport { BaseModule } from './BaseModule';\nimport { getModule, modules } from './Modules';\nimport { SETTING_FUNC_NAMES, SETTING_FUNC_PREFIX, SETTING_NAME_PREFIX, setSubscreen } from './SettingDefinitions';\n\nexport abstract class GuiSubscreen {\n  static START_X: number = 180;\n  static START_Y: number = 205;\n  static X_MOD: number = 950;\n  static Y_MOD: number = 75;\n  static POS_BAK: number = GuiSubscreen.START_X;\n  static TEXT_ALIGN_BAK;\n  readonly module: BaseModule;\n\n  constructor(module: BaseModule) {\n    this.module = module;\n\n    // create each handler for a new preference subscreen\n    SETTING_FUNC_NAMES.forEach((name) => {\n      const fName = SETTING_FUNC_PREFIX + SETTING_NAME_PREFIX + this.name + name;\n      if (typeof (<any>this)[name] === 'function' && typeof (<any>window)[fName] !== 'function')\n        (<any>window)[fName] = () => {\n          (<any>this)[name]();\n        };\n    });\n  }\n\n  get name(): string {\n    return 'UNKNOWN';\n  }\n\n  get icon(): string {\n    return '';\n  }\n\n  get label(): string {\n    return 'UNDEFINED SETTING SCREEN';\n  }\n\n  get message(): string {\n    return PreferenceMessage;\n  }\n\n  set message(message: string) {\n    PreferenceMessage = message;\n  }\n\n  get SubscreenName(): string {\n    return SETTING_NAME_PREFIX + this.constructor.name;\n  }\n\n  setSubscreen(screen: GuiSubscreen | string | null) {\n    return setSubscreen(screen);\n  }\n\n  get settings(): BaseSettingsModel {\n    return this.module.settings as BaseSettingsModel;\n  }\n\n  get multipageStructure(): Setting[][] {\n    return [[]];\n  }\n\n  get structure(): Setting[] {\n    return this.multipageStructure[Math.min(PreferencePageCurrent - 1, this.multipageStructure.length - 1)];\n  }\n\n  getYPos(ix: number) {\n    return GuiSubscreen.START_Y + GuiSubscreen.Y_MOD * (ix % 9);\n  }\n\n  getXPos(ix: number) {\n    return GuiSubscreen.START_X + GuiSubscreen.X_MOD * Math.floor(ix / 9);\n  }\n\n  hideElements() {\n    this.multipageStructure.forEach((item, ix) => {\n      if (ix != PreferencePageCurrent - 1) {\n        item.forEach((setting) => {\n          if (setting.type == 'text' || setting.type == 'number' || setting.type == 'color') this.elementHide(setting.id);\n        });\n      }\n    });\n  }\n\n  Load() {\n    conDebug(`Loading ${PreferenceSubscreen} GUI`);\n    for (const module of modules()) {\n      if (!module.settingsScreen) continue;\n      if (!Object.keys(module.settings).length) module.registerDefaultSettings();\n    }\n    this.multipageStructure.forEach((s) =>\n      s.forEach((item) => {\n        switch (item.type) {\n          case 'text':\n            const input = ElementCreateInput(item.id, 'text', item.setting(), '255');\n            input.setAttribute('autocomplete', 'off');\n            break;\n          case 'number':\n            ElementCreateInput(item.id, 'number', item.setting(), '255');\n            break;\n          case 'color':\n            ElementCreateInput(item.id, 'color', item.setting());\n            break;\n        }\n      })\n    );\n\n    CharacterAppearanceForceUpCharacter = Player.MemberNumber ?? -1;\n  }\n\n  Run() {\n    GuiSubscreen.POS_BAK = GuiSubscreen.START_X;\n    GuiSubscreen.TEXT_ALIGN_BAK = MainCanvas.textAlign;\n\n    GuiSubscreen.START_X = 550;\n    MainCanvas.textAlign = 'left';\n\n    DrawCharacter(Player, 50, 50, 0.9, false);\n    //@ts-ignore\n    DrawText(getText(`${this.name}.title`), GuiSubscreen.START_X, GuiSubscreen.START_Y - GuiSubscreen.Y_MOD, 'Black', '#D7F6E9');\n    DrawButton(1815, 75, 90, 90, '', 'White', 'Icons/Exit.png', 'Main Menu');\n\n    if (this.multipageStructure.length > 1) {\n      MainCanvas.textAlign = 'center';\n      PreferencePageChangeDraw(1595, 75, this.multipageStructure.length);\n      MainCanvas.textAlign = 'left';\n    }\n\n    this.hideElements();\n\n    this.structure.forEach((item, ix, arr) => {\n      switch (item.type) {\n        case 'checkbox':\n          this.drawCheckbox(item.label, item.description, item.setting(), ix, item.disabled);\n          break;\n        case 'text':\n        case 'number':\n        case 'color':\n          this.elementPosition(item.id, item.label, item.description, ix, item.disabled);\n          break;\n        case 'label':\n          this.drawLabel(item.label, item.description, ix);\n          break;\n        case 'button':\n          this.drawBetterButton(item.position, item.size, item.label, item.color, item.image, item.disabled);\n          break;\n      }\n    });\n\n    GuiSubscreen.START_X = GuiSubscreen.POS_BAK;\n    MainCanvas.textAlign = GuiSubscreen.TEXT_ALIGN_BAK;\n  }\n\n  Click() {\n    GuiSubscreen.POS_BAK = GuiSubscreen.START_X;\n    GuiSubscreen.TEXT_ALIGN_BAK = MainCanvas.textAlign;\n\n    GuiSubscreen.START_X = 550;\n    MainCanvas.textAlign = 'left';\n\n    if (MouseIn(1815, 75, 90, 90)) return this.Exit();\n    if (this.multipageStructure.length > 1) PreferencePageChangeClick(1595, 75, this.multipageStructure.length);\n\n    this.structure.forEach((item, ix, arr) => {\n      switch (item.type) {\n        case 'checkbox':\n          if (MouseIn(this.getXPos(ix) + 600, this.getYPos(ix) - 32, 64, 64) && !item.disabled) {\n            item.setSetting(!item.setting());\n          }\n          break;\n        case 'button':\n          if (MouseIn(item.position[0], item.position[1], item.size[0], item.size[1])) item.callback();\n          break;\n      }\n    });\n\n    GuiSubscreen.START_X = GuiSubscreen.POS_BAK;\n    MainCanvas.textAlign = GuiSubscreen.TEXT_ALIGN_BAK;\n  }\n\n  Exit() {\n    this.multipageStructure.forEach((s) =>\n      s.forEach((item) => {\n        switch (item.type) {\n          case 'number':\n            if (!CommonIsNumeric(ElementValue(item.id))) {\n              ElementRemove(item.id);\n              break;\n            }\n          case 'text':\n          case 'color':\n            item.setSetting(ElementValue(item.id));\n            ElementRemove(item.id);\n            break;\n        }\n      })\n    );\n\n    CharacterAppearanceForceUpCharacter = -1;\n    CharacterLoadCanvas(Player);\n\n    getModule<ColorsModule>('ColorsModule').reloadTheme();\n\n    setSubscreen('MainMenu');\n    dataStore();\n  }\n\n  Unload() {\n    // Empty\n  }\n\n  tooltip(text: string) {\n    drawTooltip(300, 850, 1400, text, 'left');\n  }\n\n  drawCheckbox(label: string, description: string, value: boolean, order: number, disabled: boolean = false) {\n    const isHovering = MouseIn(this.getXPos(order), this.getYPos(order) - 32, 600, 64);\n    DrawTextFit(getText(label), this.getXPos(order), this.getYPos(order), 600, isHovering ? 'Red' : 'Black', 'Gray');\n    DrawCheckbox(this.getXPos(order) + 600, this.getYPos(order) - 32, 64, 64, '', value ?? false, disabled);\n    if (isHovering) this.tooltip(getText(description));\n  }\n\n  drawBetterButton(position: number[], size: number[], label: string, color: string, image: string = '', disabled: boolean = false) {\n    const isHovering = MouseIn(position[0], position[1] - 32, size[0], size[1]);\n    DrawButton(position[0], position[1], size[0], size[1], '', color, '', '', disabled);\n    DrawImageResize(image, position[0] + 10, position[1] + 10, 60, 60);\n    DrawTextFit(getText(label), position[0] + 80, position[1] + 40, 600, isHovering ? 'Red' : 'Black', 'Gray');\n  }\n\n  drawButton(label: string, color: string, order: number, XOffset: number, disabled: boolean = false) {\n    const isHovering = MouseIn(this.getXPos(order) + XOffset, this.getYPos(order) - 32, 200, 64);\n    DrawButton(this.getXPos(order) + XOffset, this.getYPos(order) - 32, 200, 64, '', color, '', '', disabled);\n    DrawTextFit(getText(label), this.getXPos(order) + XOffset + 58, this.getYPos(order), 600, isHovering ? 'Red' : 'Black', 'Gray');\n  }\n\n  elementHide(elementId: string) {\n    ElementPosition(elementId, -999, -999, 1, 1);\n  }\n\n  elementPosition(elementId: string, label: string, description: string, order: number, disabled: boolean = false) {\n    const isHovering = MouseIn(this.getXPos(order), this.getYPos(order) - 32, 600, 64);\n    DrawTextFit(getText(label), this.getXPos(order), this.getYPos(order), 600, isHovering ? 'Red' : 'Black', 'Gray');\n    ElementPosition(elementId, this.getXPos(order) + 750 + 225, this.getYPos(order), 800, 64);\n    if (disabled) ElementSetAttribute(elementId, 'disabled', 'true');\n    if (!disabled) document.getElementById(elementId)?.removeAttribute('disabled');\n    if (isHovering) this.tooltip(getText(description));\n  }\n\n  drawLabel(label: string, description: string, order: number) {\n    const isHovering = MouseIn(this.getXPos(order), this.getYPos(order) - 32, 600, 64);\n    DrawTextFit(getText(label), this.getXPos(order), this.getYPos(order), 600, isHovering ? 'Red' : 'Black', 'Gray');\n    if (isHovering) this.tooltip(getText(description));\n  }\n}\n\nfunction drawTooltip(x: number, y: number, width: number, text: string, align: 'left' | 'center' | 'right') {\n  const canvas = MainCanvas;\n  const bak = canvas.textAlign;\n  canvas.textAlign = align;\n  canvas.beginPath();\n  canvas.rect(x, y, width, 65);\n  canvas.fillStyle = doRedraw() ? colors.elementBackground : '#FFFF88';\n  canvas.fillRect(x, y, width, 65);\n  canvas.fill();\n  canvas.lineWidth = 2;\n  canvas.strokeStyle = doRedraw() ? colors.elementBorder : 'black';\n  canvas.stroke();\n  canvas.closePath();\n  DrawTextFit(text, align === 'left' ? x + 3 : x + width / 2, y + 33, width - 6, doRedraw() ? colors.text : 'black');\n  canvas.textAlign = bak;\n}\n", "#TextAreaChatLog[data-colortheme=\"dark\"],\n#TextAreaChatLog[data-colortheme=\"dark2\"] {\n  background-color: var(--background);\n  color: var(--text);\n  border-color: var(--elementBorder);\n\n  .ChatMessageName {\n    text-shadow: 0 0 0.12em var(--textShadow);\n  }\n\n  .ChatMessage {\n    border-bottom: none;\n  }\n\n  .ChatMessageActivity,\n  .ChatMessageAction,\n  .ChatMessageEmote {\n    --base-color: var(--background);\n  }\n\n  .chat-room-sep {\n    --base-color: var(--background) !important;\n    border-bottom: min(0.4vh, 0.2vw) var(--elementBorder) solid !important;\n    border-top: min(0.4vh, 0.2vw) var(--elementBorder) solid !important;\n  }\n\n  .chat-room-sep-collapse {\n    border-right: min(0.4vh, 0.2vw) var(--elementBorder) solid !important;\n    color: var(--text);\n  }\n\n  .chat-room-sep-header {\n    color: var(--text);\n  }\n\n  ~#chat-room-bot {\n    --button-color: var(--elementBackground);\n    background-color: var(--background);\n    border-color: rgba(0, 0, 0, 0.25);\n    color: var(--text);\n\n    &:has(#InputChat:focus) {\n      outline: 2px solid var(--elementBackgroundHover);\n      box-shadow: 0 0 0 3px var(--background);\n    }\n\n    #InputChat {\n      background-color: var(--background);\n      color: var(--text);\n      border-color: var(--elementBorder);\n      outline: var(--elementBorder) solid 1px;\n    }\n\n    #chat-room-buttons-collapse:hover,\n    .chat-room-button:hover:before {\n      background-color: var(--elementBackgroundHover) !important;\n    }\n  }\n}\n", "#FriendList {\n  background-color: var(--friendlistBackground);\n  border-color: var(--elementBorder);\n  padding: 0;\n  margin-top: 1%;\n  padding-bottom: 0%;\n}\n", "textarea {\n  background: var(--elementBackground);\n  color: var(--text);\n  border: 2px solid var(--elementBorder);\n}\n\ninput {\n  background: var(--elementBackground);\n  color: var(--text);\n  border: 2px solid var(--elementBorder);\n}\n\ntextarea:focus,\ninput:focus {\n  outline: var(--elementBorder) solid 1px;\n}\n\n.button-touch,\n.button-touch:before,\n.button:hover {\n  background-color: var(--elementBackgroundHover);\n  border-color: var(--elementBorderHover);\n  color: var(--text);\n}\n", "::-webkit-scrollbar {\n  background-color: var(--scrollbar);\n}\n\n::-webkit-scrollbar-corner {\n  background-color: var(--scrollbar);\n}\n\n::-webkit-scrollbar-thumb {\n  background-color: var(--elementBackground);\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background-color: var(--accent);\n}\n\n::selection {\n  background-color: var(--accent);\n  color: var(--text);\n}\n", ".bce-img {\n  border-color: var(--elementBorder);\n}\n\n#bceRichOnlineProfile {\n  background: var(--elementBackground) !important;\n  color: var(--text) !important;\n  border: 2px dashed var(--elementBorder) !important;\n}\n\n#bce-instant-messenger {\n  top: 0%;\n  left: 0%;\n  background-color: var(--background);\n  color: var(--text);\n  border-color: var(--elementBorder);\n  max-width: 99.5%;\n  max-height: 85%;\n  min-width: 38%;\n  min-height: 30%;\n}\n\n.bce-friend-list-entry.bce-friend-list-selected {\n  border-top-color: var(--elementBorder);\n  border-bottom-color: var(--elementBorder);\n  background-color: var(--elementBackground);\n}\n\n.bce-friend-list-entry:hover {\n  background-color: var(--elementBackgroundHover);\n}\n\n#bce-message-right-container {\n  border-left-color: var(--elementBorder);\n}\n\n#bce-message-input {\n  border-top: 1px solid var(--elementBorder);\n  border-bottom: 1px solid var(--elementBorder);\n  background-color: var(--background);\n  color: var(--text);\n}\n\n.bce-message-divider {\n  border-bottom-color: var(--elementBorder);\n}\n\n.bce-message-sender {\n  text-shadow: 0.05em 0.05em var(--textShadow);\n}\n\n.bce-message-Message .bce-message-sender {\n  text-shadow: 0.05em 0.05em var(--textShadow);\n}\n\n#bce-friend-search {\n  background-color: var(--background);\n  border-bottom-color: var(--elementBorder);\n  color: var(--text);\n}\n\n.bce-colors .bce-dark-input {\n  background-color: var(--elementBackground);\n  border: 1px solid var(--elementBorder);\n  color: var(--text);\n}\n", "#fusam-addon-manager-container {\n  color: var(--text);\n  background-color: var(--background);\n}\n\n.fusam.button,\n.fusam .button {\n  border-color: var(--elementBorder);\n  background-color: var(--elementBackground);\n  color: var(--text);\n}\n\n.fusam.button:hover,\n.fusam .button:hover,\n.fusam.button:focus,\n.fusam .button:focus,\n.fusam select:hover,\n.fusam select:focus {\n  background-color: var(--accent);\n}\n\n.fusam select,\n.fusam option {\n  border-color: var(--elementBorder);\n  background-color: var(--elementBackground);\n  color: var(--text);\n}\n\n.fusam select:disabled:hover {\n  background-color: var(--elementBackgroundHover);\n}\n", ".tts-dialog {\n  background-color: var(--background);\n  border: 2px solid var(--elementBorder);\n  color: var(--text);\n}\n\n.tts-option {\n  background-color: var(--elementBackground);\n  border-color: var(--elementBorder);\n  color: var(--text);\n}\n\ninput[type=\"range\"].tts-slider {\n  background-color: var(--elementBackground);\n  -webkit-appearance: none;\n  appearance: none;\n  width: 100%;\n  height: 15px;\n  outline: none;\n  border-radius: 50px;\n}\n\ninput[type=\"range\"].tts-slider::-webkit-slider-thumb {\n  background: var(--accent);\n  -webkit-appearance: none;\n  appearance: none;\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\ninput[type=\"range\"].tts-slider::-moz-range-thumb {\n  background: var(--accent);\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.tts-select {\n  background-color: var(--elementBackground);\n  border-color: var(--elementBorder);\n  color: var(--text);\n}\n\n.tts-tab {\n  background-color: var(--elementBackground);\n  border-color: var(--elementBorder);\n  color: var(--text);\n}\n\n.tts-btn {\n  background-color: var(--elementBackground);\n  border: 1px solid var(--elementBorder);\n  color: var(--text);\n}\n\n.tts-tab.active {\n  background-color: var(--accent);\n}\n\n.tts-toggle-container {\n  border-color: var(--elementBorder);\n}\n\n.tts-boxed-container {\n  border-color: var(--elementBorder);\n}\n\n.tts-link {\n  border-color: var(--elementBorder);\n  background-color: var(--elementBackground);\n  color: var(--text);\n}\n\n.tts-link:hover {\n  background-color: var(--elementBackground);\n  color: var(--accent);\n}\n\n.mo-modal-content {\n  background-color: var(--background);\n  border: 1px solid var(--elementBorder);\n  color: var(--text);\n}\n\n.mo-closer {\n  color: var(--text);\n}\n\n#mo_submitInput-1 {\n  background-color: var(--elementBackground);\n  border: 1px solid var(--elementBorder);\n  color: var(--text);\n}\n", ".themed-modal,\n.themed-chat-modal {\n  padding: 5px;\n\n  background-color: var(--elementBackground);\n  color: var(--text);\n\n  border: 2px solid var(--accent);\n  border-radius: 10px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.8rem;\n}\n\n.themed-modal {\n  position: absolute;\n  width: 25%;\n  top: 15%;\n  margin-left: 12.5%;\n\n  flex-direction: column;\n}\n\n.themed-chat-modal {\n  /* width: 80%; */\n  font-size: 0.8em;\n  position: relative;\n\n  flex-direction: row;\n}\n\n#modal-buttons {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  margin: 0.5rem;\n}\n\n.modal-button {\n  width: auto;\n  padding: 5px;\n\n  border: 2px solid var(--accent);\n  border-radius: 10px;\n  transition: all 0.5s ease;\n}\n\n.modal-button:hover {\n  background-color: var(--elementBackgroundHover);\n  text-shadow: 0 0 0.12em var(--textShadow);\n  cursor: pointer;\n}\n\n.ThemedMessageContent {\n  display: inline;\n}\n\n.ThemedVersion {\n  font-weight: bold;\n  color: rgb(203, 185, 23);\n}\n\n#TextAreaChatLog[data-colortheme='dark'] div.ChatMessage.ThemedMessage,\n#TextAreaChatLog[data-colortheme='dark2'] div.ChatMessage.ThemedMessage {\n  background-color: var(--elementBackground);\n  border: 2px solid var(--accent);\n  color: var(--text);\n}\n\n#TextAreaChatLog div.ChatMessage.ThemedMessage {\n  background-color: #eee;\n  border: 2px solid #440171;\n  padding-left: 5px;\n  display: block;\n  white-space: normal;\n  color: #111;\n}\n\n#TextAreaChatLog[data-colortheme='dark'] a.ThemedText,\n#TextAreaChatLog[data-colortheme='dark2'] a.ThemedText {\n  cursor: pointer;\n  font-weight: bold;\n  color: var(--text);\n}\n\n#TextAreaChatLog a.ThemedText {\n  cursor: pointer;\n  font-weight: bold;\n  color: #111;\n}\n\n#ThemedGratitude {\n  position: fixed;\n  width: 25%;\n  height: 50%;\n  top: 15%;\n  left: 50%;\n}\n\n.ThemedH {\n  font-size: 1em;\n  color: #333;\n}\n\n.ThemedP {\n  font-size: 0.6em;\n  color: #555;\n  line-height: 1.5;\n}\n\n.ThemedP:last-child {\n  font-size: 0.8em;\n  color: #ff69b4;\n}\n", "import { doRedraw } from '../Modules/GuiRedraw';\nimport { colors } from './Color';\nimport { PlayerStorage } from './Data';\n\nexport function changeModColors() {\n  if (doRedraw()) {\n    changeBctColors();\n  } else {\n    resetBctColors();\n  }\n}\n\nfunction changeBctColors() {\n  if (Player.BCT) {\n    BCT_API.HintBackColor = colors.elementBackground;\n    BCT_API.HintBorderColor = colors.elementBorder;\n    BCT_API.HintForeColor = colors.text;\n  }\n}\n\nfunction resetBctColors() {\n  if (Player.BCT) {\n    BCT_API.HintBackColor = 'yellow';\n    BCT_API.HintBorderColor = 'black';\n    BCT_API.HintForeColor = 'black';\n  }\n}\n\nexport function changeMbsColors() {\n  if (typeof mbs !== 'undefined' && mbs.API_VERSION.major === 1 && mbs.API_VERSION.minor >= 3) {\n    if (!PlayerStorage().IntegrationModule.MBS) return;\n    return mbs.css.setStyle({\n      backgroundColor: colors.mainBackground,\n      buttonColor: colors.elementBackground,\n      buttonHoverColor: colors.elementBackgroundHover,\n      borderColor: colors.elementBorder,\n      tooltipColor: colors.elementHint,\n      textColor: colors.text\n    });\n  }\n}\n\nexport function resetMbsColors() {\n  if (typeof mbs !== 'undefined' && mbs.API_VERSION.major === 1 && mbs.API_VERSION.minor >= 3) {\n    if (!PlayerStorage().IntegrationModule.MBS)\n      mbs.css.setStyle({\n        backgroundColor: mbs.css.DEFAULT_STYLE.backgroundColor,\n        buttonColor: mbs.css.DEFAULT_STYLE.buttonColor,\n        buttonHoverColor: mbs.css.DEFAULT_STYLE.buttonHoverColor,\n        borderColor: mbs.css.DEFAULT_STYLE.borderColor,\n        tooltipColor: mbs.css.DEFAULT_STYLE.tooltipColor,\n        textColor: mbs.css.DEFAULT_STYLE.textColor\n      });\n  }\n}\n", "import BC_Chat from '../Static/Styles/BC_Chat.css';\nimport BC_FriendList from '../Static/Styles/BC_FriendList.css';\nimport BC_Inputs from '../Static/Styles/BC_Inputs.css';\nimport BC_Other from '../Static/Styles/BC_Other.css';\nimport FBC from '../Static/Styles/FBC.css';\nimport FUSAM from '../Static/Styles/FUSAM.css';\nimport TTS from '../Static/Styles/TTS.css';\nimport Themed from '../Static/Styles/Themed.css';\nimport { _Color, colors } from './Color';\nimport { PlayerStorage } from './Data';\nimport { changeMbsColors, resetMbsColors } from './Integration';\n\nconst styles = {\n  Root: composeRoot(),\n  Themed: Themed,\n  BC: BC_Inputs,\n  BC_Chat: BC_Chat,\n  BC_FriendList: BC_FriendList,\n  BC_Other: BC_Other,\n  FBC: FBC,\n  FUSAM: FUSAM,\n  TTS: TTS,\n  MBS: 'MBS'\n};\n\nexport const Style = {\n  inject(styleId: string, styleSource: string) {\n    const isStyleLoaded = document.getElementById(styleId);\n\n    if (isStyleLoaded) return;\n\n    const styleElement = document.createElement('style');\n    styleElement.id = styleId;\n    styleElement.appendChild(document.createTextNode(styleSource));\n    document.head.appendChild(styleElement);\n  },\n\n  eject(id: string) {\n    const style = document.getElementById(id);\n    if (!style) return;\n\n    style.remove();\n  },\n\n  reload(styleId: string, styleSource: string) {\n    Style.eject(styleId);\n    Style.inject(styleId, styleSource);\n  },\n};\n\nexport const BcStyle = {\n  inject(id: keyof typeof styles | string) {\n    if (id == 'Root') updateRootStyle();\n    else if (id == 'MBS') {\n      changeMbsColors();\n    }\n\n    const styleSource = styles[id];\n    const isEnabled = PlayerStorage().GlobalModule.themedEnabled;\n\n    if (!isEnabled) return;\n    if (!PlayerStorage().IntegrationModule[id] && id != 'Themed' && id != 'Root') return;\n\n    Style.inject(id, styleSource);\n  },\n\n  eject(id: keyof typeof styles | string) {\n    if (id == 'MBS') {\n      resetMbsColors();\n    }\n\n    Style.eject(id);\n  },\n\n  reload(id: keyof typeof styles | string) {\n    BcStyle.eject(id);\n    BcStyle.inject(id);\n  },\n\n  injectAll() {\n    const styleIDs = Object.keys(styles);\n    styleIDs.forEach((id) => {\n      BcStyle.inject(id);\n    });\n  },\n\n  ejectAll() {\n    const styleIDs = Object.keys(styles);\n    styleIDs.forEach((id) => {\n      BcStyle.eject(id);\n    });\n  },\n\n  reloadAll() {\n    const styleIDs = Object.keys(styles);\n    styleIDs.forEach((id) => {\n      BcStyle.reload(id);\n    });\n  }\n};\n\nexport function composeRoot() {\n  return /*css*/ `\n    :root {\n      /*accent color*/\n      --accent: ${colors?.elementBorder || '#440171'};\n      /*background*/\n      --background: ${colors?.mainBackground || '#202020'}; \n      /*inputs, buttons and shit*/\n      --elementBackground: ${colors?.elementBackground || '#303030'}; \n       /*elements that should stand out, like thing on slider or button when hovered over*/\n      --elementBackgroundHover: ${colors?.elementBackgroundHover || '#57276e'};\n      /*borders for html and game drawn elements*/\n      --elementBorder: var(--accent);\n      /*text obviously*/\n      --text: ${colors?.text || '#eeeeee'}; \n      /*obviously as well*/\n      --textShadow: ${'#eeeeee80'};\n\n      --scrollbar: ${_Color.darken(colors?.elementBackground, 20) || '#454545'};\n\n      --friendlistBackground: ${colors?.elementBackground + '80' || '#30303080'};\n      \n      --codeBackground: ${_Color.lighten(colors?.elementBackground, 40) + '20' || '#aaaaaa20'};\n    }\n    `;\n}\n\nexport function updateRootStyle() {\n  styles.Root = composeRoot();\n}\n", "import { GuiSubscreen } from '../Base/BaseSetting';\nimport { getModule } from '../Base/Modules';\nimport { getText } from '../Translation';\nimport { _Color } from '../Utilities/Color';\nimport { dataErase } from '../Utilities/Data';\nimport { _Image } from '../Utilities/Drawing';\nimport { BcStyle } from '../Utilities/Style';\n\nexport class GuiReset extends GuiSubscreen {\n  get name(): string {\n    return 'Reset';\n  }\n\n  get icon(): string {\n    return '';\n  }\n\n  private allowedConfirmTime: number | null = 0;\n\n  Load() {\n    this.allowedConfirmTime = Date.now() + 10_000;\n    super.Load();\n  }\n\n  Run() {\n    GuiSubscreen.POS_BAK = GuiSubscreen.START_X;\n    GuiSubscreen.START_X = 180;\n\n    MainCanvas.save();\n    MainCanvas.textAlign = 'center';\n\n    DrawText(getText('reset.label.perma_reset_of_mod_data'), 1000, 125, 'Black');\n\n    DrawText(getText('reset.label.warning'), 1000, 225, 'Black', 'Black');\n    DrawText(getText('reset.label.if_u_confirm_perma_reset'), 1000, 325, 'Black');\n\n    DrawText(getText('reset.label.youll_able_to_use_mod'), 1000, 550, 'Gray');\n\n    DrawText(getText('reset.label.action_cannot_be_undone'), 1000, 625, 'Red', 'Black');\n\n    const now = Date.now();\n    if (now < this.allowedConfirmTime) {\n      DrawButton(\n        300,\n        720,\n        200,\n        80,\n        `${getText('reset.button.confirm')} (${Math.floor((this.allowedConfirmTime - now) / 1000)})`,\n        '#ddd',\n        undefined,\n        undefined,\n        true\n      );\n    } else {\n      DrawButton(300, 720, 200, 80, getText('reset.button.confirm'), 'White');\n    }\n\n    DrawButton(1520, 720, 200, 80, getText('reset.button.cancel'), 'White');\n\n    MainCanvas.restore();\n  }\n\n  Click() {\n    if (this.allowedConfirmTime === null) return;\n\n    if (MouseIn(300, 720, 200, 80) && Date.now() >= this.allowedConfirmTime) return this.Confirm();\n    if (MouseIn(1520, 720, 200, 80)) return this.Exit();\n  }\n\n  Confirm() {\n    this.allowedConfirmTime = null;\n\n    dataErase();\n    getModule('ColorsModule').registerDefaultSettings();\n\n    _Color.composeRoot();\n    BcStyle.reloadAll();\n    _Image.clearCache();\n\n    this.setSubscreen(null);\n  }\n}\n", "import { Button, Setting } from '../../.types/setting';\nimport { GuiSubscreen } from '../Base/BaseSetting';\nimport { getText } from '../Translation';\n\nexport class GuiSupport extends GuiSubscreen {\n  private static thankYouList: string[] = ['Ellena', 'weboos', 'Jamie'];\n  private static thankYouNext = 0;\n  private static thankYou = '';\n\n  get name(): string {\n    return 'Support';\n  }\n\n  get structure(): Setting[] {\n    return [\n      <Button>{\n        type: 'button',\n        position: [GuiSubscreen.START_X, GuiSubscreen.START_Y],\n        size: [405, 80],\n        label: 'support.button.ko-fi',\n        color: '#49225C',\n        image: 'https://storage.ko-fi.com/cdn/nav-logo-stroke.png',\n        disabled: false,\n        callback() {\n          window.open('https://ko-fi.com/monikka_bc', '_blank');\n        }\n      },\n      <Button>{\n        type: 'button',\n        position: [GuiSubscreen.START_X, GuiSubscreen.START_Y + GuiSubscreen.Y_MOD + 20],\n        size: [405, 80],\n        label: 'support.button.patreon',\n        color: '#49225C',\n        image: 'https://c5.patreon.com/external/favicon/rebrand/favicon-32.png?v=af5597c2ef',\n        disabled: false,\n        callback() {\n          window.open('https://patreon.com/monikka_bc', '_blank');\n        }\n      }\n    ];\n  }\n\n  static getSupporter() {\n    if (GuiSupport.thankYouNext < CommonTime()) GuiSupport.doNextThankYou();\n    return `${getText('support.other.thankyou')}, ${GuiSupport.thankYou}`;\n  }\n\n  static doNextThankYou() {\n    if (GuiSupport.thankYou && GuiSupport.thankYouList.length < 2) return;\n    GuiSupport.thankYou = CommonRandomItemFromList(GuiSupport.thankYou, GuiSupport.thankYouList);\n    GuiSupport.thankYouNext = CommonTime() + 4000;\n  }\n\n  Load() {\n    GuiSupport.doNextThankYou();\n\n    ElementCreateDiv('ResponsiveGratitude');\n    const elm = document.getElementById('ResponsiveGratitude');\n    ElementContent('ResponsiveGratitude', gratitudeHtml);\n\n    const font =\n      MainCanvas.canvas.clientWidth <= MainCanvas.canvas.clientHeight * 2\n        ? MainCanvas.canvas.clientWidth / 50\n        : MainCanvas.canvas.clientHeight / 25;\n\n    Object.assign(elm.style, {\n      fontFamily: CommonGetFontName(),\n      fontSize: font + 'px'\n    });\n\n    super.Load();\n  }\n\n  Run() {\n    super.Run();\n\n    const tmp = GuiSubscreen.START_X;\n    GuiSubscreen.START_X = 550;\n\n    DrawText(GuiSupport.getSupporter(), GuiSubscreen.START_X + 300, GuiSubscreen.START_Y - GuiSubscreen.Y_MOD, 'Black', '#D7F6E9');\n\n    GuiSubscreen.START_X = tmp;\n  }\n\n  Click() {\n    super.Click();\n  }\n\n  Exit() {\n    ElementRemove('ResponsiveGratitude');\n    super.Exit();\n  }\n}\n\nconst gratitudeHtml = /*html*/ `\n<h1 class=\"ResponsiveH\">Dear Supporters!</h1>\n<p class=\"ResponsiveP\">\n  I want to take a moment to express my heartfelt gratitude for considering supporting me. Your willingness to stand by\n  my side in this creative journey means the world to me, and I am truly humbled by your generosity.\n</p>\n<p class=\"ResponsiveP\">\n  Your support goes far beyond the financial contributions; it represents belief in my work and a shared passion for\n  what I do. Your encouragement inspires me to continue developing.\n</p>\n<p class=\"ResponsiveP\">\n  Your support not only helps me sustain and grow as a developer, but also enables me to dedicate more time and\n  resources to producing high-quality mods. It allows me to explore new ideas, enhance my skills, and bring even more\n  meaningful and enjoyable content to you.\n</p>\n<p class=\"ResponsiveP\">Thank you all~</p>\n<p class=\"ResponsiveP\">With love, Monikka\u2665</p>\n`;\n", "import { GuiSubscreen } from '../Base/BaseSetting';\nimport { getModule } from '../Base/Modules';\nimport { GUI } from '../Base/SettingUtils';\nimport { GlobalModule } from '../Modules/Global';\nimport { getText } from '../Translation';\nimport { ModVersion } from '../Utilities/ModDefinition';\nimport { GuiReset } from './Reset';\nimport { GuiSupport } from './Support';\n\nexport class MainMenu extends GuiSubscreen {\n  subscreens: GuiSubscreen[] = [];\n\n  get name(): string {\n    return 'MainMenu';\n  }\n\n  constructor(module: GUI) {\n    super(module);\n\n    this.subscreens = module.subscreens;\n  }\n\n  Load(): void {\n    if (!GUI.instance?.currentSubscreen) {\n      this.setSubscreen(this);\n      return;\n    }\n\n    super.Load();\n  }\n\n  Run() {\n    const tmp = GuiSubscreen.START_X;\n    const prev = MainCanvas.textAlign;\n\n    GuiSubscreen.START_X = 550;\n    MainCanvas.textAlign = 'left';\n\n    DrawCharacter(Player, 50, 50, 0.9, false);\n    DrawText(\n      getText('MainMenu.title').replace('$ModVersion', ModVersion) + '  ' + GuiSupport.getSupporter(),\n      GuiSubscreen.START_X,\n      GuiSubscreen.START_Y - GuiSubscreen.Y_MOD,\n      'Black',\n      '#D7F6E9'\n    );\n    DrawButton(1815, 75, 90, 90, '', 'White', 'Icons/Exit.png');\n\n    MainCanvas.textAlign = 'center';\n    let i = 0;\n    for (const screen of this.subscreens) {\n      const PX = Math.floor(i / 6);\n      const PY = i % 6;\n\n      if (screen.name == 'MainMenu') continue;\n\n      DrawButton(GuiSubscreen.START_X + 430 * PX, 190 + 120 * PY, 450, 90, '', 'White', '', '');\n      DrawImageResize(screen.icon, GuiSubscreen.START_X + 430 * PX + 10, 190 + 120 * PY + 10, 70, 70);\n\n      MainCanvas.textAlign = 'left';\n      //@ts-ignore\n      DrawTextFit(getText(`mainmenu.button.${screen.name}`), GuiSubscreen.START_X + 100 + 430 * PX, 235 + 120 * PY, 340, 'Black');\n      MainCanvas.textAlign = 'center';\n\n      i++;\n\n      MainCanvas.textAlign = 'left';\n    }\n\n    DrawButton(1500, 730, 405, 80, '', 'IndianRed');\n    DrawImageResize('Icons/ServiceBell.png', 1510, 740, 60, 60);\n    DrawTextFit('Reset', 1580, 770, 320, 'Black');\n\n    DrawButton(1500, 830, 405, 80, '', '#49225C');\n    DrawImageResize('Assets/Female3DCG/Emoticon/Coffee/Icon.png', 1510, 840, 60, 60);\n    DrawTextFit('Support Me\u2764', 1580, 870, 320, 'Black');\n\n    GuiSubscreen.START_X = tmp;\n    MainCanvas.textAlign = prev;\n  }\n\n  Click() {\n    if (MouseIn(1815, 75, 90, 90)) return this.Exit();\n\n    const tmp = GuiSubscreen.START_X;\n    GuiSubscreen.START_X = 550;\n    let i = 0;\n    for (const screen of this.subscreens) {\n      const PX = Math.floor(i / 6);\n      const PY = i % 6;\n\n      if (screen.name == 'MainMenu') continue;\n\n      if (MouseIn(GuiSubscreen.START_X + 430 * PX, 190 + 120 * PY, 450, 90)) {\n        this.setSubscreen(screen);\n        return;\n      }\n\n      i++;\n    }\n    GuiSubscreen.START_X = tmp;\n\n    //if (MouseIn(1500, 630, 405, 80)) this.setSubscreen(new GuiReset(getModule<GlobalModule>(\"GlobalModule\")));\n    //if (MouseIn(1500, 730, 400, 80)) window.open(\"https://github.com/dDeepLb/Themed-BC/wiki/\", \"_blank\");\n\n    if (MouseIn(1500, 730, 405, 80)) this.setSubscreen(new GuiReset(getModule<GlobalModule>('GlobalModule')));\n    if (MouseIn(1500, 830, 400, 80)) this.setSubscreen(new GuiSupport(getModule<GlobalModule>('GlobalModule')));\n  }\n\n  Exit(): void {\n    CharacterAppearanceForceUpCharacter = -1;\n    CharacterLoadCanvas(Player);\n\n    this.setSubscreen(null);\n  }\n}\n", "export class RibbonMenu {\n  private static START_Y = 820;\n  private static MOD_Y = 110;\n\n  /**\n   * Calculates button Y position using mod index.\n   * @param modIndex Mod index. Can be obtained calling `GetModIndex`.\n   * @returns position\n   */\n  static getYPos(modIndex: number) {\n    return this.START_Y - this.MOD_Y * (modIndex % 6);\n  }\n\n  /**\n   * Registers `modName` in the Ribbon Menu. Handles when Ribbon Menu is full.\n   * @param modName Mod name itself that will be registered in Ribbon Menu\n   * @returns nothing\n   */\n  static registerMod(modName: string): void {\n    if (!window.RibbonMenuMods) window.RibbonMenuMods = [];\n    if (window.RibbonMenuMods.length >= 6) return console.warn(`${modName} can't be added to Ribbon Menu. It is full`);\n    window.RibbonMenuMods.push(modName);\n  }\n\n  /**\n   * Returns mod index from Ribbon menu.\n   * @param modName Mod name registered in Ribbon Menu\n   * @returns modIndex or undefined\n   */\n  static getModIndex(modName: string): number | undefined {\n    return window.RibbonMenuMods?.indexOf(modName);\n  }\n\n  /**\n   * Draws button in Ribbon Menu using `callback`.\n   * @param modIndex Mod index obtained with `GetModIndex`.\n   * @param callback Function that will be executed on click.\n   * @returns nothing\n   */\n  static drawModButton(modIndex: number | undefined, callback: (modIndex: number) => void): void {\n    if (PreferenceSubscreen === '' && modIndex !== undefined) callback(modIndex as number);\n    return;\n  }\n\n  /**\n   * Handles click on button in Ribbon Menu using `callback`.\n   * @param modIndex Mod index obtained with `GetModIndex`.\n   * @param callback Function that will be executed on click.\n   * @returns nothing\n   */\n  static handleModClick(modIndex: number | undefined, callback: (modIndex: number) => void): void {\n    if (PreferenceSubscreen === '' && modIndex !== undefined)\n      if (MouseIn(1815, RibbonMenu.getYPos(modIndex), 90, 90)) callback(modIndex as number);\n    return;\n  }\n}\n", "import { DebugMode, ModName } from '../Utilities/ModDefinition';\nimport { MainMenu } from '../Screens/MainMenu';\nimport { getText } from '../Translation';\nimport { RibbonMenu } from '../Utilities/RibbonMenu';\nimport { hookFunction, HookPriority } from '../Utilities/SDK';\nimport { BaseModule } from './BaseModule';\nimport { GuiSubscreen } from './BaseSetting';\nimport { modules } from './Modules';\nimport { setSubscreen, SETTING_NAME_PREFIX } from './SettingDefinitions';\nimport ButtonIcon from '../Static/Icons/IconThemed.png';\n\nexport class GUI extends BaseModule {\n  static instance: GUI | null = null;\n\n  private _subscreens: GuiSubscreen[];\n  private _mainMenu: MainMenu;\n  private _currentSubscreen: GuiSubscreen | null = null;\n\n  get subscreens(): GuiSubscreen[] {\n    return this._subscreens;\n  }\n\n  get mainMenu(): MainMenu {\n    return this._mainMenu;\n  }\n\n  get currentSubscreen(): GuiSubscreen | null {\n    return this._currentSubscreen;\n  }\n\n  set currentSubscreen(subscreen: GuiSubscreen | string | null) {\n    if (this._currentSubscreen) {\n      this._currentSubscreen.Unload();\n    }\n    if (typeof subscreen === 'string') {\n      const scr = this._subscreens?.find((s) => s.name === subscreen);\n      if (!scr) throw `Failed to find screen name ${subscreen}`;\n      this._currentSubscreen = scr;\n    } else {\n      this._currentSubscreen = subscreen;\n    }\n\n    PreferenceMessage = '';\n    PreferencePageCurrent = 1;\n\n    let subscreenName = '';\n    if (this._currentSubscreen) {\n      subscreenName = SETTING_NAME_PREFIX + this._currentSubscreen?.name;\n      this._currentSubscreen.Load();\n    }\n\n    // Get BC to render the new screen\n    PreferenceSubscreen = subscreenName as PreferenceSubscreenName;\n  }\n\n  get currentCharacter(): Character {\n    return Player;\n  }\n\n  constructor() {\n    super();\n    if (GUI.instance) {\n      throw new Error('Duplicate initialization');\n    }\n\n    this._mainMenu = new MainMenu(this);\n    this._subscreens = [this._mainMenu];\n\n    GUI.instance = this;\n  }\n\n  get defaultSettings(): null {\n    return null;\n  }\n\n  Load(): void {\n    // At that point all other modules have been initialized, build the list of their screens\n    for (const module of modules()) {\n      if (!module.settingsScreen) continue;\n\n      this._subscreens.push(new module.settingsScreen(module));\n    }\n\n    this._mainMenu.subscreens = this._subscreens;\n\n    const modIndex = RibbonMenu.getModIndex(ModName);\n    const modYPos = RibbonMenu.getYPos(modIndex);\n\n    hookFunction('PreferenceRun', HookPriority.OverrideBehavior, (args, next) => {\n      if (this._currentSubscreen) {\n        MainCanvas.textAlign = 'left';\n        this._currentSubscreen.Run();\n        MainCanvas.textAlign = 'center';\n\n        this.drawDebug();\n\n        return;\n      }\n\n      next(args);\n\n      RibbonMenu.drawModButton(modIndex, () => {\n        DrawButton(1815, modYPos, 90, 90, '', 'White', '', getText('infosheet.button_popup'));\n        DrawImageResize(ButtonIcon, 1815 + 2, modYPos + 2, 85, 85);\n      });\n    });\n\n    hookFunction('PreferenceClick', HookPriority.OverrideBehavior, (args, next) => {\n      if (this._currentSubscreen) {\n        this._currentSubscreen.Click();\n        return;\n      }\n\n      next(args);\n\n      RibbonMenu.handleModClick(modIndex, (modIndex) => {\n        setSubscreen(new MainMenu(this));\n      });\n    });\n\n    hookFunction('InformationSheetExit', HookPriority.OverrideBehavior, (args, next) => {\n      if (this._currentSubscreen) {\n        this._currentSubscreen.Exit();\n        return;\n      }\n      return next(args);\n    });\n  }\n\n  drawDebug() {\n    if (DebugMode) {\n      if (MouseX > 0 || MouseY > 0) {\n        MainCanvas.save();\n        MainCanvas.lineWidth = 1;\n        MainCanvas.strokeStyle = 'red';\n        MainCanvas.beginPath();\n        MainCanvas.moveTo(0, MouseY);\n        MainCanvas.lineTo(2000, MouseY);\n        MainCanvas.moveTo(MouseX, 0);\n        MainCanvas.lineTo(MouseX, 1000);\n        MainCanvas.stroke();\n        MainCanvas.fillStyle = 'black';\n        MainCanvas.strokeStyle = 'white';\n        MainCanvas.fillRect(0, 950, 250, 50);\n        MainCanvas.strokeRect(0, 950, 250, 50);\n        DrawText(`X: ${MouseX} Y: ${MouseY}`, 125, 975, 'white');\n        MainCanvas.restore();\n      }\n    }\n  }\n}\n", "import { Input, Setting } from '../../.types/setting';\nimport { GuiSubscreen } from '../Base/BaseSetting';\nimport { ColorsSettingsModel } from '../Models/Colors';\nimport { getText } from '../Translation';\n\nexport class GuiColors extends GuiSubscreen {\n  get name(): string {\n    return 'Colors';\n  }\n\n  get icon(): string {\n    return 'Icons/ColorChange.png';\n  }\n\n  get settings(): ColorsSettingsModel {\n    return super.settings as ColorsSettingsModel;\n  }\n\n  get multipageStructure(): Setting[][] {\n    return [\n      [\n        <Input>{\n          type: 'color',\n          id: 'primaryColor',\n          label: 'colors.setting.primaryColor.name',\n          description: 'colors.setting.primaryColor.desc',\n          setting: () => this.settings?.primaryColor ?? '',\n          setSetting: (val) => (this.settings.primaryColor = val)\n        },\n        <Input>{\n          type: 'color',\n          id: 'accentColor',\n          label: 'colors.setting.accentColor.name',\n          description: 'colors.setting.accentColor.desc',\n          setting: () => this.settings?.accentColor ?? '',\n          setSetting: (val) => (this.settings.accentColor = val)\n        },\n        <Input>{\n          type: 'color',\n          id: 'textColor',\n          label: 'colors.setting.textColor.name',\n          description: 'colors.setting.textColor.desc',\n          setting: () => this.settings?.textColor ?? '',\n          setSetting: (val) => (this.settings.textColor = val)\n        }\n      ]\n    ];\n  }\n\n  Run(): void {\n    DrawButton(1715, 75, 90, 90, '', 'White', 'Icons/Reset.png', getText('colors.button.change_input_type'));\n    super.Run();\n  }\n\n  Click(): void {\n    if (MouseIn(1715, 75, 90, 90)) {\n      this.multipageStructure.forEach((page) => {\n        page.forEach((elm) => {\n          if (elm.type == 'color' || elm.type == 'text') {\n            const e = document.getElementById(elm.id);\n            const elementType = e.getAttribute('type');\n\n            if (elementType == 'color') {\n              e.setAttribute('type', 'text');\n            } else {\n              e.setAttribute('type', 'color');\n            }\n          }\n        });\n      });\n    }\n\n    super.Click();\n  }\n}\n", "import { getText } from '../Translation';\n\nexport function sendLocalSmart(id: string, message: string, timeoutInSeconds?: number) {\n  const div = document.createElement('div');\n  div.id = id;\n  div.setAttribute('class', 'ChatMessage ThemedMessage');\n  div.setAttribute('data-time', ChatRoomCurrentTime());\n  div.setAttribute('data-sender', Player?.MemberNumber + '');\n\n  div.innerHTML =\n    message.replaceAll('\\n\\t', '') +\n    /*html*/ `<br><a class=\"ThemedText\" onClick='document.getElementById(\"${id}\").remove();'><b>Close (Click)</b></a>`;\n\n  ChatRoomAppendChat(div);\n  if (!timeoutInSeconds) return;\n  setTimeout(() => div?.remove(), timeoutInSeconds * 1000);\n}\n\nexport function sendAction(msg: string) {\n  ServerSend('ChatRoomChat', {\n    Content: 'Beep',\n    Type: 'Action',\n    Dictionary: [\n      // EN\n      { Tag: 'Beep', Text: 'msg' },\n      // CN\n      { Tag: '\u53D1\u9001\u79C1\u804A', Text: 'msg' },\n      // DE\n      { Tag: 'Biep', Text: 'msg' },\n      // FR\n      { Tag: 'Sonner', Text: 'msg' },\n      // Message itself\n      { Tag: 'msg', Text: msg }\n    ]\n  });\n}\n\nexport function useLgcModal(prompt: string, acceptCallbackFn: () => void, cancelCallbackFn: () => void) {\n  if (document.getElementById('themed-modal')) return false;\n\n  const modal = document.createElement('div');\n  const modalTitle = document.createElement('div');\n  const modalButtons = document.createElement('div');\n  const modalAcceptButton = document.createElement('div');\n  const modalCancelButton = document.createElement('div');\n\n  modal.classList.add('themed-modal');\n  modalTitle.id = 'modal-prompt';\n  modalButtons.id = 'modal-buttons';\n  modalAcceptButton.id = 'modal-button-accept';\n  modalCancelButton.id = 'modal-button-cancel';\n\n  modalAcceptButton.classList.add('modal-button');\n  modalCancelButton.classList.add('modal-button');\n\n  modalTitle.innerHTML = prompt;\n  modalAcceptButton.innerText = getText('modal.button.accept');\n  modalCancelButton.innerText = getText('modal.button.cancel');\n\n  modalAcceptButton.addEventListener('click', () => {\n    acceptCallbackFn();\n\n    modal.remove();\n  });\n\n  modalCancelButton.addEventListener('click', () => {\n    cancelCallbackFn();\n\n    modal.remove();\n  });\n\n  modalButtons.append(modalAcceptButton, modalCancelButton);\n  modal.append(modalTitle, modalButtons);\n\n  document.body.append(modal);\n}\n\nexport function mergeMatchingProperties(mergeTo, mergeFrom) {\n  const mergedObject = mergeTo;\n  for (const key of Object.keys(mergeFrom)) {\n    if (key in mergeTo) {\n      mergedObject[key] = mergeFrom[key];\n    }\n  }\n\n  return mergedObject;\n}\n", "import { BaseModule } from '../Base/BaseModule';\nimport { getModule } from '../Base/Modules';\nimport { Subscreen } from '../Base/SettingDefinitions';\nimport { ColorsSettingsModel } from '../Models/Colors';\nimport { GuiColors } from '../Screens/Colors';\nimport { _Color } from '../Utilities/Color';\nimport { _Image } from '../Utilities/Drawing';\nimport { changeModColors } from '../Utilities/Integration';\nimport { mergeMatchingProperties } from '../Utilities/Other';\nimport { BcStyle } from '../Utilities/Style';\nimport { GuiRedrawModule } from './GuiRedraw';\n\nexport class ColorsModule extends BaseModule {\n  get settingsScreen(): Subscreen | null {\n    return GuiColors;\n  }\n\n  get settings(): ColorsSettingsModel {\n    return super.settings as ColorsSettingsModel;\n  }\n\n  set settings(val) {\n    super.settings = val;\n  }\n\n  get defaultSettings() {\n    return <ColorsSettingsModel>{\n      primaryColor: '#202020',\n      accentColor: '#440171',\n      textColor: '#ccc'\n    };\n  }\n\n  Load(): void {\n    this.settings = mergeMatchingProperties(this.defaultSettings, this.settings);\n  }\n\n  reloadTheme(): void {\n    _Color.composeRoot();\n    BcStyle.reloadAll();\n    changeModColors();\n    _Image.clearCache();\n    getModule<GuiRedrawModule>('GuiRedrawModule').toggleGuiPatches();\n  }\n}\n", "import { BaseModule } from '../Base/BaseModule';\nimport { getModule } from '../Base/Modules';\nimport { ShareModule } from './Share';\n\nexport class CommandsModule extends BaseModule {\n  Load(): void {\n    CommandCombine([\n      {\n        Tag: 'share-theme',\n        Description: ': Shares your theme with other people that have Themed installed!',\n        Action() {\n          getModule<ShareModule>('ShareModule').share();\n        }\n      }\n    ]);\n  }\n\n  Run(): void { }\n}\n", "import { Checkbox, Setting } from '../../.types/setting';\nimport { GuiSubscreen } from '../Base/BaseSetting';\nimport { GlobalSettingsModel } from '../Models/Global';\n\nexport class GuiGlobal extends GuiSubscreen {\n  get name(): string {\n    return 'Settings';\n  }\n\n  get icon(): string {\n    return 'Icons/Preference.png';\n  }\n\n  get settings(): GlobalSettingsModel {\n    return super.settings as GlobalSettingsModel;\n  }\n\n  get structure(): Setting[] {\n    const struct: Checkbox[] = [];\n    Object.keys(this.settings).forEach((key) => {\n      struct.push({\n        type: 'checkbox',\n        label: `settings.setting.${key}.name`,\n        description: `settings.setting.${key}.desc`,\n        setting: () => this.settings?.[key] ?? true,\n        setSetting: (val) => (this.settings[key] = val)\n      });\n    });\n    return struct;\n  }\n\n  Load(): void {\n    super.Load();\n  }\n}\n", "import { BaseModule } from '../Base/BaseModule';\nimport { Subscreen } from '../Base/SettingDefinitions';\nimport { GlobalSettingsModel } from '../Models/Global';\nimport { GuiGlobal } from '../Screens/Global';\nimport { changeModColors } from '../Utilities/Integration';\nimport { mergeMatchingProperties } from '../Utilities/Other';\nimport { hookFunction, HookPriority, ModuleCategory } from '../Utilities/SDK';\n\nexport class GlobalModule extends BaseModule {\n  private static transparentCharacters: number[] = [];\n\n  get settingsScreen(): Subscreen | null {\n    return GuiGlobal;\n  }\n\n  get settings(): GlobalSettingsModel {\n    return super.settings as GlobalSettingsModel;\n  }\n\n  set settings(val) {\n    super.settings = val;\n  }\n\n  get defaultSettings() {\n    return <GlobalSettingsModel>{\n      themedEnabled: true,\n      doVanillaGuiOverhaul: true,\n      doUseFlatColor: true,\n      doShowLocaleTime: true,\n      doIndicateCharacterAbsence: true,\n      doShowNewVersionMessage: true\n    };\n  }\n\n  Load(): void {\n    this.settings = mergeMatchingProperties(this.defaultSettings, this.settings);\n    changeModColors();\n\n    hookFunction(\n      'ChatRoomCurrentTime',\n      HookPriority.Observe,\n      (args, next) => {\n        if (!this.settings.doShowLocaleTime) return next(args);\n\n        const currentTime = new Date(Date.now());\n\n        return currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n      },\n      ModuleCategory.Global\n    );\n\n    hookFunction(\n      'DialogDraw',\n      HookPriority.Observe,\n      (args: Parameters<typeof DialogDraw>, next: (args: Parameters<typeof DialogDraw>) => ReturnType<typeof DialogDraw>) => {\n        if (!this.settings.themedEnabled) return next(args);\n        if (!this.settings.doIndicateCharacterAbsence) return next(args);\n        if (!(CurrentScreen == 'ChatRoom')) return next(args);\n        if (!CurrentCharacter) return next(args);\n\n        next(args);\n\n        if (CurrentCharacter === null) return;\n        if (CurrentCharacter.IsPlayer()) return;\n        if (ChatRoomCharacter.includes(CurrentCharacter)) {\n          if (GlobalModule.transparentCharacters.includes(CurrentCharacter.MemberNumber)) {\n            CurrentCharacter.Canvas.getContext('2d').globalAlpha = 1.0;\n            CurrentCharacter.CanvasBlink.getContext('2d').globalAlpha = 1.0;\n            CharacterAppearanceBuildCanvas(CurrentCharacter);\n            GlobalModule.transparentCharacters.filter((x) => x !== CurrentCharacter.MemberNumber);\n          }\n        } else {\n          MainCanvas.save();\n          MainCanvas.globalCompositeOperation = 'multiply';\n          MainCanvas.beginPath();\n          MainCanvas.fillStyle = 'gray';\n          MainCanvas.fillRect(500, 0, 500, 1000);\n          MainCanvas.fill();\n          MainCanvas.restore();\n\n          if (!GlobalModule.transparentCharacters.includes(CurrentCharacter.MemberNumber)) {\n            CurrentCharacter.Canvas.getContext('2d').globalAlpha = 0.2;\n            CurrentCharacter.CanvasBlink.getContext('2d').globalAlpha = 0.2;\n            CharacterAppearanceBuildCanvas(CurrentCharacter);\n            GlobalModule.transparentCharacters.push(CurrentCharacter.MemberNumber);\n          }\n\n          DrawImageEx('Icons/Warning.svg', MainCanvas, 500 + 125, 125, { Width: 250, Height: 250, HexColor: '#ff0000', FullAlpha: true });\n        }\n      },\n      ModuleCategory.Global\n    );\n\n    hookFunction(\n      'AppearanceRun',\n      HookPriority.Observe,\n      (args: Parameters<typeof AppearanceRun>, next: (args: Parameters<typeof AppearanceRun>) => ReturnType<typeof AppearanceRun>) => {\n        if (!this.settings.themedEnabled) return next(args);\n        if (!this.settings.doIndicateCharacterAbsence) return next(args);\n        if (!(CurrentScreen == 'Appearance')) return next(args);\n        if (!CharacterAppearanceSelection) return next(args);\n\n        next(args);\n\n        if (CharacterAppearanceSelection === null) return;\n        if (CharacterAppearanceSelection.IsPlayer()) return;\n        if (ChatRoomCharacter.includes(CharacterAppearanceSelection)) {\n          if (GlobalModule.transparentCharacters.includes(CharacterAppearanceSelection.MemberNumber)) {\n            CharacterAppearanceSelection.Canvas.getContext('2d').globalAlpha = 1.0;\n            CharacterAppearanceSelection.CanvasBlink.getContext('2d').globalAlpha = 1.0;\n            CharacterAppearanceBuildCanvas(CharacterAppearanceSelection);\n            GlobalModule.transparentCharacters.filter((x) => x !== CharacterAppearanceSelection.MemberNumber);\n          }\n        } else {\n          MainCanvas.save();\n          MainCanvas.globalCompositeOperation = 'multiply';\n          MainCanvas.beginPath();\n          MainCanvas.fillStyle = 'gray';\n          MainCanvas.fillRect(660, 0, 500, 1000);\n          MainCanvas.fill();\n          MainCanvas.restore();\n\n          if (!GlobalModule.transparentCharacters.includes(CharacterAppearanceSelection.MemberNumber)) {\n            CharacterAppearanceSelection.Canvas.getContext('2d').globalAlpha = 0.2;\n            CharacterAppearanceSelection.CanvasBlink.getContext('2d').globalAlpha = 0.2;\n            CharacterAppearanceBuildCanvas(CharacterAppearanceSelection);\n            GlobalModule.transparentCharacters.push(CharacterAppearanceSelection.MemberNumber);\n          }\n\n          DrawImageEx('Icons/Warning.svg', MainCanvas, 660 + 125, 125, { Width: 250, Height: 250, HexColor: '#ff0000' });\n        }\n      },\n      ModuleCategory.Global\n    );\n\n    hookFunction(\n      'ChatRoomSync',\n      HookPriority.Observe,\n      (args: Parameters<typeof ChatRoomSync>, next: (args: Parameters<typeof ChatRoomSync>) => ReturnType<typeof ChatRoomSync>) => {\n        Character.filter(character => GlobalModule.transparentCharacters?.includes(character.MemberNumber));\n\n        return next(args);\n      },\n      ModuleCategory.Global\n    );\n  }\n\n  Run(): void { }\n}\n", "import { Setting } from '../../.types/setting';\nimport { GuiSubscreen } from '../Base/BaseSetting';\nimport { IntegrationSettingsModel } from '../Models/Integration';\n\nexport class GuiIntegration extends GuiSubscreen {\n  get name(): string {\n    return 'Integration';\n  }\n\n  get icon(): string {\n    return 'Icons/Scripts.png';\n  }\n\n  get settings(): IntegrationSettingsModel {\n    return super.settings as IntegrationSettingsModel;\n  }\n\n  get structure(): Setting[] {\n    return [\n      <Setting>{\n        type: 'checkbox',\n        label: 'integration.setting.BC.name',\n        description: 'integration.setting.BC.desc',\n        setting: () => this.settings?.BC ?? true,\n        setSetting: (val) => (this.settings.BC = val)\n      },\n      <Setting>{\n        type: 'checkbox',\n        label: 'integration.setting.BC_Chat.name',\n        description: 'integration.setting.BC_Chat.desc',\n        setting: () => this.settings?.BC_Chat ?? true,\n        setSetting: (val) => (this.settings.BC_Chat = val)\n      },\n      <Setting>{\n        type: 'checkbox',\n        label: 'integration.setting.BC_FriendList.name',\n        description: 'integration.setting.BC_FriendList.desc',\n        setting: () => this.settings?.BC_FriendList ?? true,\n        setSetting: (val) => (this.settings.BC_FriendList = val)\n      },\n      <Setting>{\n        type: 'checkbox',\n        label: 'integration.setting.BC_Other.name',\n        description: 'integration.setting.BC_Other.desc',\n        setting: () => this.settings?.BC_Other ?? true,\n        setSetting: (val) => (this.settings.BC_Other = val)\n      },\n      <Setting>{\n        type: 'checkbox',\n        label: 'integration.setting.FBC.name',\n        description: 'integration.setting.FBC.desc',\n        setting: () => this.settings?.FBC ?? true,\n        setSetting: (val) => (this.settings.FBC = val)\n      },\n      <Setting>{\n        type: 'checkbox',\n        label: 'integration.setting.FUSAM.name',\n        description: 'integration.setting.FUSAM.desc',\n        setting: () => this.settings?.FUSAM ?? true,\n        setSetting: (val) => (this.settings.FUSAM = val)\n      },\n      <Setting>{\n        type: 'checkbox',\n        label: 'integration.setting.TTS.name',\n        description: 'integration.setting.TTS.desc',\n        setting: () => this.settings?.TTS ?? true,\n        setSetting: (val) => (this.settings.TTS = val)\n      },\n      <Setting>{\n        type: 'checkbox',\n        label: 'integration.setting.MBS.name',\n        description: 'integration.setting.MBS.desc',\n        setting: () => this.settings?.MBS ?? true,\n        setSetting: (val) => (this.settings.MBS = val)\n      }\n    ];\n  }\n\n  Load(): void {\n    super.Load();\n  }\n}\n", "import { BaseModule } from '../Base/BaseModule';\nimport { Subscreen } from '../Base/SettingDefinitions';\nimport { IntegrationSettingsModel } from '../Models/Integration';\nimport { GuiIntegration } from '../Screens/Integration';\nimport { mergeMatchingProperties } from '../Utilities/Other';\nimport { hookFunction, HookPriority, ModuleCategory } from '../Utilities/SDK';\nimport { BcStyle } from '../Utilities/Style';\n\nexport class IntegrationModule extends BaseModule {\n  get settingsScreen(): Subscreen | null {\n    return GuiIntegration;\n  }\n\n  get settings(): IntegrationSettingsModel {\n    return super.settings as IntegrationSettingsModel;\n  }\n\n  set settings(val) {\n    super.settings = val;\n  }\n\n  get defaultSettings() {\n    return <IntegrationSettingsModel>{\n      BC: true,\n      BC_Chat: true,\n      BC_FriendList: true,\n      BC_Other: true,\n      FBC: true,\n      FUSAM: true,\n      TTS: true,\n      MBS: true\n    };\n  }\n\n  Load(): void {\n    this.settings = mergeMatchingProperties(this.defaultSettings, this.settings);\n    hookFunction(\n      'ChatRoomSync',\n      HookPriority.Observe,\n      (args, next) => {\n        next(args);\n        BcStyle.reloadAll();\n      },\n      ModuleCategory.Integration\n    );\n  }\n}\n", "import { GuiSubscreen } from '../Base/BaseSetting';\nimport { getModule } from '../Base/Modules';\nimport { ProfileEntryModel, ProfileNames, ProfileSaveModel, ProfilesSettingsModel } from '../Models/Profiles';\nimport { ColorsModule } from '../Modules/Colors';\nimport { getText } from '../Translation';\nimport { conWarn } from '../Utilities/Console';\nimport { PlayerStorage } from '../Utilities/Data';\nimport { ModName } from '../Utilities/ModDefinition';\n\nexport class GuiProfiles extends GuiSubscreen {\n  private PreferenceText = '';\n  private ProfileNames: ProfileNames = ['', '', ''];\n\n  get name(): string {\n    return 'Profiles';\n  }\n\n  get icon(): string {\n    return 'Icons/Title.png';\n  }\n\n  get settings(): ProfilesSettingsModel {\n    return super.settings as ProfilesSettingsModel;\n  }\n\n  tmpGlbl = GuiSubscreen.START_X;\n\n  Load() {\n    super.Load();\n\n    for (let i = 0; i < 3; i++) {\n      const profileIndex = i + 1;\n      if (!PlayerStorage()?.ProfilesModule?.[profileIndex]) {\n        Player[ModName].ProfilesModule[profileIndex] = {\n          data: <ProfileSaveModel>{},\n          name: ''\n        };\n      }\n      this.ProfileNames[i] = PlayerStorage()?.ProfilesModule?.[profileIndex]?.name ?? '';\n    }\n\n    CharacterAppearanceForceUpCharacter = Player.MemberNumber ?? -1;\n  }\n\n  Run() {\n    const prev = MainCanvas.textAlign;\n    super.Run();\n    MainCanvas.textAlign = 'left';\n\n    for (let i = 0; i < 3; i++) {\n      const profileIndex = i + 1;\n\n      if (this.ProfileNames[i] === '')\n        DrawText(getText('profiles.text.profile') + ` ${profileIndex}`, this.getXPos(profileIndex), this.getYPos(profileIndex), 'Black', 'Gray');\n      if (this.ProfileNames[i] !== '')\n        DrawText(this.ProfileNames[i] as string, this.getXPos(profileIndex), this.getYPos(profileIndex), 'Black', 'Gray');\n\n      this.drawButton('profiles.button.save', 'white', profileIndex, 250);\n      this.drawButton('profiles.button.load', 'white', profileIndex, 500);\n      this.drawButton('profiles.button.delete', 'IndianRed', profileIndex, 750);\n    }\n\n    if (this.PreferenceText)\n      DrawText(this.PreferenceText, GuiSubscreen.START_X + 250, GuiSubscreen.START_Y - GuiSubscreen.Y_MOD, 'Black', 'Gray');\n\n    MainCanvas.textAlign = prev;\n  }\n\n  Click() {\n    super.Click();\n\n    for (let i = 0; i < 3; i++) {\n      const profileIndex = i + 1;\n\n      this.handleProfilesSaving(profileIndex);\n      this.handleProfilesLoading(profileIndex);\n      this.handleProfilesDeleting(profileIndex);\n    }\n  }\n\n  Exit() {\n    CharacterAppearanceForceUpCharacter = -1;\n    CharacterLoadCanvas(Player);\n    this.PreferenceText = '';\n    super.Exit();\n  }\n\n  saveProfile(profileId: number, profileName: string) {\n    if (profileId < 1 || profileId > 3) {\n      conWarn(`Invalid profile id ${profileId}`);\n      return false;\n    }\n\n    if (!Object.keys(PlayerStorage()?.ProfilesModule?.[profileId]).length) {\n      Player[ModName].ProfilesModule[profileId] = <ProfileEntryModel>{};\n    }\n\n    const saveData: ProfileSaveModel = {\n      GlobalModule: PlayerStorage().GlobalModule,\n      ColorsModule: PlayerStorage().ColorsModule,\n      IntegrationModule: PlayerStorage().IntegrationModule\n    };\n\n    Player[ModName].ProfilesModule[profileId] = {\n      name: profileName,\n      data: saveData\n    };\n\n    return true;\n  }\n\n  loadProfile(profileId: number) {\n    if (profileId < 1 || profileId > 3) {\n      conWarn(`Invalid profile id ${profileId}`);\n      return false;\n    }\n\n    if (!Object.keys(PlayerStorage()?.ProfilesModule?.[profileId]).length) {\n      return false;\n    }\n\n    const data = PlayerStorage().ProfilesModule[profileId].data;\n    if (!data) {\n      return false;\n    }\n\n    if (data) {\n      Player[ModName].GlobalModule = data.GlobalModule;\n      Player[ModName].ColorsModule = data.ColorsModule;\n      Player[ModName].IntegrationModule = data.IntegrationModule;\n    }\n\n    return true;\n  }\n\n  deleteProfile(profileId: number) {\n    if (profileId < 1 || profileId > 3) {\n      conWarn(`Invalid profile id ${profileId}`);\n      return false;\n    }\n\n    if (!Object.keys(PlayerStorage()?.ProfilesModule?.[profileId]).length) {\n      return false;\n    }\n\n    if (Object.keys(PlayerStorage()?.ProfilesModule?.[profileId]).length) {\n      Player[ModName].ProfilesModule[profileId] = <ProfileEntryModel>{};\n      return true;\n    }\n  }\n\n  handleProfilesSaving(profileIndex: number) {\n    const formerIndex = profileIndex - 1;\n    if (MouseIn(this.getXPos(profileIndex) + 250, this.getYPos(profileIndex) - 32, 200, 64)) {\n      const promptedName = prompt(getText('profiles.prompt'));\n\n      if (promptedName === null) return;\n      this.ProfileNames[formerIndex] = promptedName;\n      if (this.ProfileNames[formerIndex] === '') {\n        this.saveProfile(profileIndex, '');\n        this.PreferenceText = `${getText('profiles.text.profile')} ${profileIndex} ${getText('profiles.text.has_been_saved')}`;\n      }\n\n      if (this.ProfileNames[formerIndex] !== '') {\n        this.saveProfile(profileIndex, this.ProfileNames[formerIndex] as string);\n        this.PreferenceText = `${getText('profiles.text.profile')} \"${this.ProfileNames[formerIndex]}\" ${getText(\n          'profiles.text.has_been_saved'\n        )}`;\n      }\n\n      return;\n    }\n  }\n\n  handleProfilesLoading(profileIndex: number) {\n    const formerIndex = profileIndex - 1;\n    if (MouseIn(this.getXPos(profileIndex) + 500, this.getYPos(profileIndex) - 32, 200, 64)) {\n      if (!this.loadProfile(profileIndex)) {\n        this.PreferenceText = `${getText('profiles.text.profile')} ${profileIndex} ${getText('profiles.text.needs_to_be_saved')}`;\n        return;\n      }\n\n      if (this.ProfileNames[formerIndex] === '')\n        this.PreferenceText = `${getText('profiles.text.profile')} ${profileIndex} ${getText('profiles.text.has_been_loaded')}`;\n      if (this.ProfileNames[formerIndex] !== '')\n        this.PreferenceText = `${getText('profiles.text.profile')} \"${this.ProfileNames[formerIndex]}\" ${getText(\n          'profiles.text.has_been_loaded'\n        )}`;\n\n      getModule<ColorsModule>('ColorsModule').reloadTheme();\n\n      return;\n    }\n  }\n\n  handleProfilesDeleting(profileIndex: number) {\n    const formerIndex = profileIndex - 1;\n    if (MouseIn(this.getXPos(profileIndex) + 750, this.getYPos(profileIndex) - 32, 200, 64)) {\n      if (this.ProfileNames[formerIndex] === null) return;\n\n      if (this.deleteProfile(profileIndex)) {\n        if (this.ProfileNames[formerIndex] === '') {\n          this.PreferenceText = `${getText('profiles.text.profile')} ${profileIndex} ${getText('profiles.text.has_been_deleted')}`;\n          return;\n        }\n        if (this.ProfileNames[formerIndex] !== '') {\n          this.PreferenceText = `${getText('profiles.text.profile')} \"${this.ProfileNames[formerIndex]}\" ${getText(\n            'profiles.text.has_been_deleted'\n          )}`;\n          this.ProfileNames[formerIndex] = '';\n          return;\n        }\n      }\n\n      if (!this.deleteProfile(profileIndex)) {\n        this.PreferenceText = `${getText('profiles.text.profile')} ${profileIndex} ${getText('profiles.text.not_saved_or_already_deleted')}`;\n        return;\n      }\n      return;\n    }\n  }\n}\n", "import { BaseModule } from '../Base/BaseModule';\nimport { Subscreen } from '../Base/SettingDefinitions';\nimport { ProfilesSettingsModel } from '../Models/Profiles';\nimport { GuiProfiles } from '../Screens/Profiles';\n\nexport class ProfilesModule extends BaseModule {\n  get settings(): ProfilesSettingsModel {\n    return super.settings as ProfilesSettingsModel;\n  }\n\n  get settingsScreen(): Subscreen | null {\n    return GuiProfiles;\n  }\n\n  get defaultSettings() {\n    return <ProfilesSettingsModel>{};\n  }\n}\n", "import { BaseModule } from '../Base/BaseModule';\nimport { getModule } from '../Base/Modules';\nimport { ColorsSettingsModel } from '../Models/Colors';\nimport { getText } from '../Translation';\nimport { sendAction, useLgcModal } from '../Utilities/Other';\nimport { HookPriority, hookFunction } from '../Utilities/SDK';\nimport { ColorsModule } from './Colors';\n\nexport class ShareModule extends BaseModule {\n  Load(): void {\n    hookFunction('ChatRoomMessageProcessHidden', HookPriority.Observe, (args, next) => {\n      const data = args[0] as ServerChatRoomMessage;\n\n      if (data.Content !== 'ThemedTheme') return next(args);\n\n      const sender = ChatRoomCharacter.find((c) => c.MemberNumber == data.Sender);\n      const senderName = CharacterNickname(sender);\n      const prompt = getText('modal.prompt.share')\n        .replace('$Sender', `${senderName} (${data.Sender})`)\n        .replace('$SenderPronoun', CharacterPronoun(sender, 'Possessive', false));\n\n      const message = document.createElement('div');\n      message.id = sender.MemberNumber.toString();\n      message.setAttribute('class', 'themed-chat-modal');\n      message.setAttribute('data-time', ChatRoomCurrentTime());\n      message.setAttribute('data-sender', sender.MemberNumber + '');\n\n      const text = document.createElement('div');\n      const button = document.createElement('div');\n\n      text.innerHTML = getText('modal.prompt.chat_share_notification').replace('$Sender', `${senderName} (${data.Sender})`);\n      button.innerHTML = getText('modal.button.show');\n\n      text.classList.add('modal-prompt');\n      button.classList.add('modal-button');\n\n      const theme = data.Dictionary[0]['ThemedMessage'].Theme;\n\n      button.addEventListener('click', () => {\n        useLgcModal(\n          prompt,\n          () => {\n            this.acceptShare(theme);\n          },\n          () => { }\n        );\n      });\n\n      message.append(text, button);\n\n      ChatRoomAppendChat(message);\n      ElementScrollToEnd('TextAreaChatLog');\n    });\n  }\n\n  acceptShare(data: ColorsSettingsModel): void {\n    Player.Themed.ColorsModule = data;\n\n    getModule<ColorsModule>('ColorsModule').reloadTheme();\n  }\n\n  share(): void {\n    sendAction(`${CharacterNickname(Player)} shares ${CharacterPronoun(Player, 'Possessive', false)} Themed theme!`);\n\n    const packet = <ServerChatRoomMessage><unknown>{\n      Type: 'Hidden',\n      Content: 'ThemedTheme',\n      Sender: Player.MemberNumber,\n      Dictionary: [<ThemedMessageDictionaryEntry>{ ThemedMessage: { Theme: Player.Themed.ColorsModule } }]\n    };\n\n    ServerSend('ChatRoomChat', packet);\n  }\n}\n", "<div class=\"ThemedMessageContent\">\n    <b style=\"color:#690092; text-shadow: 0.05em 0.05em #440171;\">Themed BC: </b>\n    <b>New Version! [1.3.2]</b><br>\n    <br>\n    <b style=\"color:#CC3232; text-shadow: 0.05em 0.05em #920009;\">Please, reload your page~</b>\n    <br>\n\n    <br><b class=\"ThemedVersion\">1.3.2</b>\n    <br>\u2022 Fixed some chat elements not being colored.\n    <br>\u2022 Fixed item boxes not being colored.<br>\n\n    <br><b class=\"ThemedVersion\">1.3.1</b>\n    <br>\u2022 Fixed crash when removing item<br>\n\n    <br><b class=\"ThemedVersion\">1.3.0</b>\n    <br>\u2022 Added option to indicate absense of characters (when they leave room or disconnect).\n    <br>\u2022 Added coloring support to chat separator.\n    <br>\u2022 Fixed chat input not being colored.\n    <br>\u2022 Fixed chat menu button icons not being colored.\n    <br>\u2022 Fixed theme sharing not scrolling chat to end.<br>\n\n</div>\n\n<!--\n    \n    <br><b class=\"ThemedVersion\">0.0.0</b>\n    <br>\u2022 <br>\n-->\n", "import { BaseModule } from '../Base/BaseModule';\nimport Changelog from '../Static/HTML/Changelog.html';\nimport { PlayerStorage } from '../Utilities/Data';\nimport { ModName, ModVersion } from '../Utilities/ModDefinition';\nimport { sendLocalSmart } from '../Utilities/Other';\nimport { HookPriority, ModuleCategory, hookFunction } from '../Utilities/SDK';\n\nexport class VersionModule extends BaseModule {\n  static isItNewVersion: boolean = false;\n\n  Load(): void {\n    hookFunction(\n      'ChatRoomSync',\n      HookPriority.Observe,\n      (args, next) => {\n        next(args);\n        VersionModule.sendNewVersionMessage();\n      },\n      ModuleCategory.Version\n    );\n  }\n\n  static isNewVersion(current: string | undefined, candidate: string) {\n    if (current !== undefined) {\n      const CURRENT_ = current.split('.'),\n        CANDIDATE_ = candidate.split('.');\n      for (let i = 0; i < 3; i++) {\n        if (CURRENT_[i] === CANDIDATE_[i]) {\n          continue;\n        }\n        return CANDIDATE_[i] > CURRENT_[i];\n      }\n    }\n    if (current === undefined || current === '' || !current) {\n      return true;\n    }\n    return false;\n  }\n\n  static sendNewVersionMessage() {\n    if (PlayerStorage().GlobalModule.doShowNewVersionMessage && VersionModule.isItNewVersion) {\n      sendLocalSmart('ThemedNewVersion', Changelog);\n    }\n  }\n\n  static saveVersion() {\n    if (PlayerStorage()) {\n      Player[ModName].Version = ModVersion;\n    }\n  }\n\n  static loadVersion() {\n    if (PlayerStorage()?.Version) {\n      return PlayerStorage().Version;\n    }\n    return;\n  }\n\n  static checkIfNewVersion() {\n    const LoadedVersion = VersionModule.loadVersion();\n    if (VersionModule.isNewVersion(LoadedVersion, ModVersion)) {\n      VersionModule.isItNewVersion = true;\n    }\n    VersionModule.saveVersion();\n  }\n\n  Run(): void { }\n}\n"],
  "mappings": "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",
  "names": ["o", "e", "t", "n", "r", "i", "a", "c", "l", "d", "g", "s", "p", "bcMod", "drawRect", "modIndex", "prompt", "prompt"]
}
